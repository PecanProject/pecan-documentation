<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>21 Workflow modules | The Predictive Ecosystem Analyzer</title>
  <meta name="description" content="21 Workflow modules | The Predictive Ecosystem Analyzer" />
  <meta name="generator" content="bookdown 0.17 and GitBook 2.6.7" />

  <meta property="og:title" content="21 Workflow modules | The Predictive Ecosystem Analyzer" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="21 Workflow modules | The Predictive Ecosystem Analyzer" />
  
  
  

<meta name="author" content="By: PEcAn Team" />


<meta name="date" content="2020-01-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="database.html"/>
<link rel="next" href="docker-index.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.10/datatables.js"></script>
<link href="libs/dt-core-1.10.19/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.19/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.19/js/jquery.dataTables.min.js"></script>
<link href="libs/dt-ext-fixedcolumns-1.10.19/css/fixedColumns.dataTables.min.css" rel="stylesheet" />
<script src="libs/dt-ext-fixedcolumns-1.10.19/js/dataTables.fixedColumns.min.js"></script>
<script src="libs/jszip-1.10.19/jszip.min.js"></script>
<script src="libs/pdfmake-1.10.19/pdfmake.min.js"></script>
<script src="libs/pdfmake-1.10.19/vfs_fonts.js"></script>
<link href="libs/dt-ext-buttons-1.10.19/css/buttons.dataTables.min.css" rel="stylesheet" />
<script src="libs/dt-ext-buttons-1.10.19/js/dataTables.buttons.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.19/js/buttons.flash.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.19/js/buttons.html5.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.19/js/buttons.colVis.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.19/js/buttons.print.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="part"><span><b>I Introduction</b></span></li>
<li class="chapter" data-level="1" data-path="project-overview.html"><a href="project-overview.html"><i class="fa fa-check"></i><b>1</b> Project Overview</a></li>
<li class="chapter" data-level="2" data-path="contributor-covenant-code-of-conduct.html"><a href="contributor-covenant-code-of-conduct.html"><i class="fa fa-check"></i><b>2</b> Contributor Covenant Code of Conduct</a></li>
<li class="chapter" data-level="3" data-path="about-the-pecan-book.html"><a href="about-the-pecan-book.html"><i class="fa fa-check"></i><b>3</b> About the PEcAn Book</a><ul>
<li class="chapter" data-level="3.1" data-path="about-the-pecan-book.html"><a href="about-the-pecan-book.html#general-feedbackcommentssuggestions"><i class="fa fa-check"></i><b>3.1</b> General Feedback/Comments/Suggestions</a></li>
<li class="chapter" data-level="3.2" data-path="about-the-pecan-book.html"><a href="about-the-pecan-book.html#bookediting"><i class="fa fa-check"></i><b>3.2</b> Editing this book</a></li>
<li class="chapter" data-level="3.3" data-path="about-the-pecan-book.html"><a href="about-the-pecan-book.html#how-to-create-your-own-version-of-documentation"><i class="fa fa-check"></i><b>3.3</b> How to create your own version of Documentation</a></li>
</ul></li>
<li class="part"><span><b>II Tutorials, Demos and How To’s</b></span></li>
<li class="chapter" data-level="4" data-path="pecan-manual-setup.html"><a href="pecan-manual-setup.html"><i class="fa fa-check"></i><b>4</b> Install PEcAn</a><ul>
<li class="chapter" data-level="4.1" data-path="pecan-manual-setup.html"><a href="pecan-manual-setup.html#install-vm"><i class="fa fa-check"></i><b>4.1</b> Virtual Machine (VM)</a></li>
<li class="chapter" data-level="4.2" data-path="pecan-manual-setup.html"><a href="pecan-manual-setup.html#install-docker"><i class="fa fa-check"></i><b>4.2</b> Docker</a></li>
<li class="chapter" data-level="4.3" data-path="pecan-manual-setup.html"><a href="pecan-manual-setup.html#install-native"><i class="fa fa-check"></i><b>4.3</b> (Advanced) Native install</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="user-section.html"><a href="user-section.html"><i class="fa fa-check"></i><b>5</b> Tutorials</a><ul>
<li class="chapter" data-level="5.1" data-path="user-section.html"><a href="user-section.html#pecan-in-a-nutshell"><i class="fa fa-check"></i><b>5.1</b> How PEcAn Works in a nutshell</a></li>
<li class="chapter" data-level="5.2" data-path="user-section.html"><a href="user-section.html#demo-table"><i class="fa fa-check"></i><b>5.2</b> PEcAn Demos</a></li>
<li class="chapter" data-level="5.3" data-path="user-section.html"><a href="user-section.html#demo-01-basic-run-pecan"><i class="fa fa-check"></i><b>5.3</b> Demo 01: Basic Run PEcAn</a></li>
<li class="chapter" data-level="5.4" data-path="user-section.html"><a href="user-section.html#demo-02-sensitivity-and-uncertainty-analysis"><i class="fa fa-check"></i><b>5.4</b> Demo 02: Sensitivity and Uncertainty Analysis</a></li>
<li class="chapter" data-level="5.5" data-path="user-section.html"><a href="user-section.html#othervignettes"><i class="fa fa-check"></i><b>5.5</b> Other Vignettes</a><ul>
<li class="chapter" data-level="5.5.1" data-path="user-section.html"><a href="user-section.html#simple-model-data-comparisons"><i class="fa fa-check"></i><b>5.5.1</b> Simple Model-Data Comparisons</a></li>
<li class="chapter" data-level="5.5.2" data-path="user-section.html"><a href="user-section.html#data-assimilation-concepts"><i class="fa fa-check"></i><b>5.5.2</b> Data Assimilation Concepts</a></li>
<li class="chapter" data-level="5.5.3" data-path="user-section.html"><a href="user-section.html#parameter-data-assimilation"><i class="fa fa-check"></i><b>5.5.3</b> Parameter Data Assimilation</a></li>
<li class="chapter" data-level="5.5.4" data-path="user-section.html"><a href="user-section.html#state-variable-data-assimilation"><i class="fa fa-check"></i><b>5.5.4</b> State-Variable Data Assimilation</a></li>
<li class="chapter" data-level="5.5.5" data-path="user-section.html"><a href="user-section.html#pecan-testing-the-sensitivity-analysis-against-observations"><i class="fa fa-check"></i><b>5.5.5</b> PEcAn: Testing the Sensitivity Analysis Against Observations&quot;</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="user-section.html"><a href="user-section.html#advanced-user"><i class="fa fa-check"></i><b>5.6</b> Advanced User Guide</a><ul>
<li class="chapter" data-level="5.6.1" data-path="user-section.html"><a href="user-section.html#web-curl-submission"><i class="fa fa-check"></i><b>5.6.1</b> Submitting Workflow from Command Line</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html"><i class="fa fa-check"></i><b>6</b> Basic Web workflow</a><ul>
<li class="chapter" data-level="6.1" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#web-site-model"><i class="fa fa-check"></i><b>6.1</b> Site and model selection</a><ul>
<li class="chapter" data-level="6.1.1" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#selecting-a-model"><i class="fa fa-check"></i><b>6.1.1</b> Selecting a model</a></li>
<li class="chapter" data-level="6.1.2" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#selecting-a-site"><i class="fa fa-check"></i><b>6.1.2</b> Selecting a site</a></li>
<li class="chapter" data-level="6.1.3" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#site-groups"><i class="fa fa-check"></i><b>6.1.3</b> Site Groups</a></li>
<li class="chapter" data-level="6.1.4" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#using-existing-sites"><i class="fa fa-check"></i><b>6.1.4</b> Using existing sites</a></li>
<li class="chapter" data-level="6.1.5" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#adding-a-new-site"><i class="fa fa-check"></i><b>6.1.5</b> Adding a new site</a></li>
<li class="chapter" data-level="6.1.6" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#troubleshooting"><i class="fa fa-check"></i><b>6.1.6</b> Troubleshooting</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#web-model-config"><i class="fa fa-check"></i><b>6.2</b> Model configuration</a><ul>
<li class="chapter" data-level="6.2.1" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#choosing-meteorology"><i class="fa fa-check"></i><b>6.2.1</b> Choosing meteorology</a></li>
<li class="chapter" data-level="6.2.2" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#met-workflow"><i class="fa fa-check"></i><b>6.2.2</b> Met workflow</a></li>
<li class="chapter" data-level="6.2.3" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#troubleshooting-meteorological-conversions"><i class="fa fa-check"></i><b>6.2.3</b> Troubleshooting meteorological conversions</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#selecting-plant-functional-types-pfts-and-other-parameter-groupings."><i class="fa fa-check"></i><b>6.3</b> Selecting Plant Functional Types (PFTs) and other parameter groupings.</a><ul>
<li class="chapter" data-level="6.3.1" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#using-existing-pfts"><i class="fa fa-check"></i><b>6.3.1</b> Using existing PFTs</a></li>
<li class="chapter" data-level="6.3.2" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#creating-new-pfts"><i class="fa fa-check"></i><b>6.3.2</b> Creating new PFTs</a></li>
<li class="chapter" data-level="6.3.3" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#choosing-initial-vegetation"><i class="fa fa-check"></i><b>6.3.3</b> Choosing initial vegetation</a></li>
<li class="chapter" data-level="6.3.4" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#us-fia"><i class="fa fa-check"></i><b>6.3.4</b> US FIA</a></li>
<li class="chapter" data-level="6.3.5" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#spin-up"><i class="fa fa-check"></i><b>6.3.5</b> Spin up</a></li>
<li class="chapter" data-level="6.3.6" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#selecting-a-soils-product"><i class="fa fa-check"></i><b>6.3.6</b> Selecting a soils product</a></li>
<li class="chapter" data-level="6.3.7" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#soil-texture-depth-and-physical-parameters"><i class="fa fa-check"></i><b>6.3.7</b> Soil texture, depth, and physical parameters</a></li>
<li class="chapter" data-level="6.3.8" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#other-model-inputs"><i class="fa fa-check"></i><b>6.3.8</b> Other model inputs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="intermediate-user.html"><a href="intermediate-user.html"><i class="fa fa-check"></i><b>7</b> More on the PEcAn Web Interface</a><ul>
<li class="chapter" data-level="7.1" data-path="intermediate-user.html"><a href="intermediate-user.html#additional-web-configuration"><i class="fa fa-check"></i><b>7.1</b> Additional web configuration</a><ul>
<li class="chapter" data-level="7.1.1" data-path="intermediate-user.html"><a href="intermediate-user.html#intermediate-web-setup"><i class="fa fa-check"></i><b>7.1.1</b> Web interface setup</a></li>
<li class="chapter" data-level="7.1.2" data-path="intermediate-user.html"><a href="intermediate-user.html#browndog"><i class="fa fa-check"></i><b>7.1.2</b> Brown Dog</a></li>
<li class="chapter" data-level="7.1.3" data-path="intermediate-user.html"><a href="intermediate-user.html#intermediate-advanced-setup"><i class="fa fa-check"></i><b>7.1.3</b> Advanced Setup</a></li>
<li class="chapter" data-level="7.1.4" data-path="intermediate-user.html"><a href="intermediate-user.html#intermediate-model-config"><i class="fa fa-check"></i><b>7.1.4</b> Editing model configurations</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="intermediate-user.html"><a href="intermediate-user.html#settings-configured-analyses"><i class="fa fa-check"></i><b>7.2</b> Settings-configured analyses</a><ul>
<li class="chapter" data-level="7.2.1" data-path="intermediate-user.html"><a href="intermediate-user.html#pda"><i class="fa fa-check"></i><b>7.2.1</b> Parameter data assimilation (PDA)</a></li>
<li class="chapter" data-level="7.2.2" data-path="intermediate-user.html"><a href="intermediate-user.html#sda"><i class="fa fa-check"></i><b>7.2.2</b> State data assimilation (SDA)</a></li>
<li class="chapter" data-level="7.2.3" data-path="intermediate-user.html"><a href="intermediate-user.html#running-sda-on-remote"><i class="fa fa-check"></i><b>7.2.3</b> Running SDA on remote</a></li>
<li class="chapter" data-level="7.2.4" data-path="intermediate-user.html"><a href="intermediate-user.html#restart-functionality-in-sda"><i class="fa fa-check"></i><b>7.2.4</b> Restart functionality in SDA</a></li>
<li class="chapter" data-level="7.2.5" data-path="intermediate-user.html"><a href="intermediate-user.html#state-data-assimilation-methods"><i class="fa fa-check"></i><b>7.2.5</b> State Data Assimilation Methods</a></li>
<li class="chapter" data-level="7.2.6" data-path="intermediate-user.html"><a href="intermediate-user.html#multisettings"><i class="fa fa-check"></i><b>7.2.6</b> MultiSettings</a></li>
<li class="chapter" data-level="7.2.7" data-path="intermediate-user.html"><a href="intermediate-user.html#benchmarking"><i class="fa fa-check"></i><b>7.2.7</b> Benchmarking</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="developer-guide.html"><a href="developer-guide.html"><i class="fa fa-check"></i><b>8</b> Developer guide</a><ul>
<li class="chapter" data-level="8.1" data-path="developer-guide.html"><a href="developer-guide.html#updatebety"><i class="fa fa-check"></i><b>8.1</b> Updating PEcAn Code and Bety Database</a><ul>
<li class="chapter" data-level="8.1.1" data-path="developer-guide.html"><a href="developer-guide.html#pecan-make"><i class="fa fa-check"></i><b>8.1.1</b> Updating PEcAn</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="developer-guide.html"><a href="developer-guide.html#pecan-git"><i class="fa fa-check"></i><b>8.2</b> Git and GitHub Workflow</a><ul>
<li class="chapter" data-level="8.2.1" data-path="developer-guide.html"><a href="developer-guide.html#using-git"><i class="fa fa-check"></i><b>8.2.1</b> Using Git</a></li>
<li class="chapter" data-level="8.2.2" data-path="developer-guide.html"><a href="developer-guide.html#github-use-with-pecan"><i class="fa fa-check"></i><b>8.2.2</b> GitHub use with PEcAn</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="developer-guide.html"><a href="developer-guide.html#coding-practices"><i class="fa fa-check"></i><b>8.3</b> Coding Practices</a><ul>
<li class="chapter" data-level="8.3.1" data-path="developer-guide.html"><a href="developer-guide.html#developer-codestyle"><i class="fa fa-check"></i><b>8.3.1</b> Coding Style</a></li>
<li class="chapter" data-level="8.3.2" data-path="developer-guide.html"><a href="developer-guide.html#developer-logging"><i class="fa fa-check"></i><b>8.3.2</b> Logging</a></li>
<li class="chapter" data-level="8.3.3" data-path="developer-guide.html"><a href="developer-guide.html#developer-packagedata"><i class="fa fa-check"></i><b>8.3.3</b> Package Data</a></li>
<li class="chapter" data-level="8.3.4" data-path="developer-guide.html"><a href="developer-guide.html#developer-roxygen"><i class="fa fa-check"></i><b>8.3.4</b> Documenting functions using <code>roxygen2</code></a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="developer-guide.html"><a href="developer-guide.html#developer-testing"><i class="fa fa-check"></i><b>8.4</b> Testing</a><ul>
<li class="chapter" data-level="8.4.1" data-path="developer-guide.html"><a href="developer-guide.html#developer-testing-unit"><i class="fa fa-check"></i><b>8.4.1</b> Unit testing</a></li>
<li class="chapter" data-level="8.4.2" data-path="developer-guide.html"><a href="developer-guide.html#developer-testing-integration"><i class="fa fa-check"></i><b>8.4.2</b> Integration testing</a></li>
<li class="chapter" data-level="8.4.3" data-path="developer-guide.html"><a href="developer-guide.html#continuous-integration"><i class="fa fa-check"></i><b>8.4.3</b> Continuous Integration</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="developer-guide.html"><a href="developer-guide.html#download-and-compile-pecan"><i class="fa fa-check"></i><b>8.5</b> Download and Compile PEcAn</a><ul>
<li class="chapter" data-level="8.5.1" data-path="developer-guide.html"><a href="developer-guide.html#download-compile-and-install-pecan-from-github"><i class="fa fa-check"></i><b>8.5.1</b> Download, compile and install PEcAn from GitHub</a></li>
<li class="chapter" data-level="8.5.2" data-path="developer-guide.html"><a href="developer-guide.html#pecan-testrun"><i class="fa fa-check"></i><b>8.5.2</b> PEcAn Testrun</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="developer-guide.html"><a href="developer-guide.html#directory-structure"><i class="fa fa-check"></i><b>8.6</b> Directory structure</a><ul>
<li class="chapter" data-level="8.6.1" data-path="developer-guide.html"><a href="developer-guide.html#overview-of-pecan-repository-as-of-pecan-1.5.3"><i class="fa fa-check"></i><b>8.6.1</b> Overview of PEcAn repository as of PEcAn 1.5.3</a></li>
<li class="chapter" data-level="8.6.2" data-path="developer-guide.html"><a href="developer-guide.html#generic-r-package-structure"><i class="fa fa-check"></i><b>8.6.2</b> Generic R package structure:</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Topical Pages</b></span></li>
<li class="chapter" data-level="9" data-path="working-with-vm.html"><a href="working-with-vm.html"><i class="fa fa-check"></i><b>9</b> VM configuration and maintenance</a><ul>
<li class="chapter" data-level="9.1" data-path="working-with-vm.html"><a href="working-with-vm.html#maintain-vm"><i class="fa fa-check"></i><b>9.1</b> Updating the VM</a></li>
<li class="chapter" data-level="9.2" data-path="working-with-vm.html"><a href="working-with-vm.html#ssh-vm"><i class="fa fa-check"></i><b>9.2</b> Connecting to the VM via SSH</a></li>
<li class="chapter" data-level="9.3" data-path="working-with-vm.html"><a href="working-with-vm.html#ssh-vm-bety"><i class="fa fa-check"></i><b>9.3</b> Connecting to bety on the VM via SSh</a><ul>
<li class="chapter" data-level="9.3.1" data-path="working-with-vm.html"><a href="working-with-vm.html#awsvm"><i class="fa fa-check"></i><b>9.3.1</b> Using Amazon Web Services for a VM (AWS)</a></li>
<li class="chapter" data-level="9.3.2" data-path="working-with-vm.html"><a href="working-with-vm.html#createvm"><i class="fa fa-check"></i><b>9.3.2</b> Creating a Virtual Machine</a></li>
<li class="chapter" data-level="9.3.3" data-path="working-with-vm.html"><a href="working-with-vm.html#vm-dektop-conversion"><i class="fa fa-check"></i><b>9.3.3</b> VM Desktop Conversion</a></li>
<li class="chapter" data-level="9.3.4" data-path="working-with-vm.html"><a href="working-with-vm.html#install-rstudio"><i class="fa fa-check"></i><b>9.3.4</b> Install RStudio Desktop</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="pecan-standards.html"><a href="pecan-standards.html"><i class="fa fa-check"></i><b>10</b> PEcAn standard formats</a><ul>
<li class="chapter" data-level="10.1" data-path="pecan-standards.html"><a href="pecan-standards.html#defining-new-input-formats"><i class="fa fa-check"></i><b>10.1</b> Defining new input formats</a></li>
<li class="chapter" data-level="10.2" data-path="pecan-standards.html"><a href="pecan-standards.html#time-standard"><i class="fa fa-check"></i><b>10.2</b> Time Standard</a><ul>
<li class="chapter" data-level="10.2.1" data-path="pecan-standards.html"><a href="pecan-standards.html#input-standards"><i class="fa fa-check"></i><b>10.2.1</b> Input Standards</a></li>
<li class="chapter" data-level="10.2.2" data-path="pecan-standards.html"><a href="pecan-standards.html#soils-and-vegetation-inputs"><i class="fa fa-check"></i><b>10.2.2</b> Soils and Vegetation Inputs</a></li>
<li class="chapter" data-level="10.2.3" data-path="pecan-standards.html"><a href="pecan-standards.html#output-standards"><i class="fa fa-check"></i><b>10.2.3</b> Output Standards</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="pecanXML.html"><a href="pecanXML.html"><i class="fa fa-check"></i><b>11</b> The PEcAn XML</a><ul>
<li class="chapter" data-level="11.0.1" data-path="pecanXML.html"><a href="pecanXML.html#xml-core-config"><i class="fa fa-check"></i><b>11.0.1</b> Core configuration</a></li>
<li class="chapter" data-level="11.0.2" data-path="pecanXML.html"><a href="pecanXML.html#xml-outdir"><i class="fa fa-check"></i><b>11.0.2</b> <code>outdir</code>: Output directory</a></li>
<li class="chapter" data-level="11.0.3" data-path="pecanXML.html"><a href="pecanXML.html#xml-database"><i class="fa fa-check"></i><b>11.0.3</b> <code>database</code>: PEcAn database settings</a></li>
<li class="chapter" data-level="11.0.4" data-path="pecanXML.html"><a href="pecanXML.html#xml-pft"><i class="fa fa-check"></i><b>11.0.4</b> <code>pft</code>: Plant functional type selection</a></li>
<li class="chapter" data-level="11.0.5" data-path="pecanXML.html"><a href="pecanXML.html#xml-meta-analysis"><i class="fa fa-check"></i><b>11.0.5</b> <code>meta.analysis</code>: Trait Meta Analysis</a></li>
<li class="chapter" data-level="11.0.6" data-path="pecanXML.html"><a href="pecanXML.html#xml-model"><i class="fa fa-check"></i><b>11.0.6</b> <code>model</code>: Model configuration</a></li>
<li class="chapter" data-level="11.0.7" data-path="pecanXML.html"><a href="pecanXML.html#xml-run"><i class="fa fa-check"></i><b>11.0.7</b> <code>run</code>: Run Setup</a></li>
<li class="chapter" data-level="11.0.8" data-path="pecanXML.html"><a href="pecanXML.html#xml-host"><i class="fa fa-check"></i><b>11.0.8</b> <code>host</code>: Host information for remote execution</a></li>
<li class="chapter" data-level="11.0.9" data-path="pecanXML.html"><a href="pecanXML.html#xml-advanced"><i class="fa fa-check"></i><b>11.0.9</b> Advanced features</a></li>
<li class="chapter" data-level="11.0.10" data-path="pecanXML.html"><a href="pecanXML.html#xml-ensemble"><i class="fa fa-check"></i><b>11.0.10</b> <code>ensemble</code>: Ensemble Runs</a></li>
<li class="chapter" data-level="11.0.11" data-path="pecanXML.html"><a href="pecanXML.html#xml-sensitivity-analysis"><i class="fa fa-check"></i><b>11.0.11</b> <code>sensitivity.analysis</code>: Sensitivity analysis</a></li>
<li class="chapter" data-level="11.0.12" data-path="pecanXML.html"><a href="pecanXML.html#xml-parameter-data-assimilation"><i class="fa fa-check"></i><b>11.0.12</b> Parameter Data Assimilation</a></li>
<li class="chapter" data-level="11.0.13" data-path="pecanXML.html"><a href="pecanXML.html#xml-multi-settings"><i class="fa fa-check"></i><b>11.0.13</b> Multi-Settings</a></li>
<li class="chapter" data-level="11.0.14" data-path="pecanXML.html"><a href="pecanXML.html#xml-state-data-assimilation"><i class="fa fa-check"></i><b>11.0.14</b> (experimental) State Data Assimilation</a></li>
<li class="chapter" data-level="11.0.15" data-path="pecanXML.html"><a href="pecanXML.html#xml-browndog"><i class="fa fa-check"></i><b>11.0.15</b> (experimental) Brown Dog</a></li>
<li class="chapter" data-level="11.0.16" data-path="pecanXML.html"><a href="pecanXML.html#xml-benchmarking"><i class="fa fa-check"></i><b>11.0.16</b> (experimental) Benchmarking</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="workflow.html"><a href="workflow.html"><i class="fa fa-check"></i><b>12</b> PEcAn workflow (web/workflow.R)</a><ul>
<li class="chapter" data-level="12.0.1" data-path="workflow.html"><a href="workflow.html#workflow-readsettings"><i class="fa fa-check"></i><b>12.0.1</b> Read Settings</a></li>
<li class="chapter" data-level="12.0.2" data-path="workflow.html"><a href="workflow.html#workflow-input"><i class="fa fa-check"></i><b>12.0.2</b> Input Conversions</a></li>
<li class="chapter" data-level="12.0.3" data-path="workflow.html"><a href="workflow.html#workflow-input-data"><i class="fa fa-check"></i><b>12.0.3</b> Input Data</a></li>
<li class="chapter" data-level="12.0.4" data-path="workflow.html"><a href="workflow.html#workflow-input-initial"><i class="fa fa-check"></i><b>12.0.4</b> Initial Conditions</a></li>
<li class="chapter" data-level="12.0.5" data-path="workflow.html"><a href="workflow.html#workflow-met"><i class="fa fa-check"></i><b>12.0.5</b> Meteorological Data</a></li>
<li class="chapter" data-level="12.0.6" data-path="workflow.html"><a href="workflow.html#workflow-met-standard"><i class="fa fa-check"></i><b>12.0.6</b> Converting raw data to PEcAn standard</a></li>
<li class="chapter" data-level="12.0.7" data-path="workflow.html"><a href="workflow.html#workflow-met-downscale"><i class="fa fa-check"></i><b>12.0.7</b> Downscaling and gapfilling (optional)</a></li>
<li class="chapter" data-level="12.0.8" data-path="workflow.html"><a href="workflow.html#workflow-met-model"><i class="fa fa-check"></i><b>12.0.8</b> Converting from PEcAn standard to model-specific format</a></li>
<li class="chapter" data-level="12.0.9" data-path="workflow.html"><a href="workflow.html#workflow-traits"><i class="fa fa-check"></i><b>12.0.9</b> Traits</a></li>
<li class="chapter" data-level="12.0.10" data-path="workflow.html"><a href="workflow.html#workflow-metaanalysis"><i class="fa fa-check"></i><b>12.0.10</b> Meta Analysis</a></li>
<li class="chapter" data-level="12.0.11" data-path="workflow.html"><a href="workflow.html#workflow-modelconfig"><i class="fa fa-check"></i><b>12.0.11</b> Model Configuration</a></li>
<li class="chapter" data-level="12.0.12" data-path="workflow.html"><a href="workflow.html#workflow-modelrun"><i class="fa fa-check"></i><b>12.0.12</b> Run Execution</a></li>
<li class="chapter" data-level="12.0.13" data-path="workflow.html"><a href="workflow.html#workflow-postrun"><i class="fa fa-check"></i><b>12.0.13</b> Post Run Analysis</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="pecan-models.html"><a href="pecan-models.html"><i class="fa fa-check"></i><b>13</b> PEcAn Models</a><ul>
<li class="chapter" data-level="13.0.1" data-path="pecan-models.html"><a href="pecan-models.html#models-biocro"><i class="fa fa-check"></i><b>13.0.1</b> BioCro</a></li>
<li class="chapter" data-level="13.0.2" data-path="pecan-models.html"><a href="pecan-models.html#introduction-1"><i class="fa fa-check"></i><b>13.0.2</b> Introduction</a></li>
<li class="chapter" data-level="13.0.3" data-path="pecan-models.html"><a href="pecan-models.html#pecan-configuration-file-additions"><i class="fa fa-check"></i><b>13.0.3</b> PEcAn configuration file additions</a></li>
<li class="chapter" data-level="13.0.4" data-path="pecan-models.html"><a href="pecan-models.html#model-specific-input-files"><i class="fa fa-check"></i><b>13.0.4</b> Model specific input files</a></li>
<li class="chapter" data-level="13.0.5" data-path="pecan-models.html"><a href="pecan-models.html#model-configuration-files"><i class="fa fa-check"></i><b>13.0.5</b> Model configuration files</a></li>
<li class="chapter" data-level="13.0.6" data-path="pecan-models.html"><a href="pecan-models.html#installation-notes"><i class="fa fa-check"></i><b>13.0.6</b> Installation notes</a></li>
<li class="chapter" data-level="13.0.7" data-path="pecan-models.html"><a href="pecan-models.html#models-clm"><i class="fa fa-check"></i><b>13.0.7</b> CLM</a></li>
<li class="chapter" data-level="13.0.8" data-path="pecan-models.html"><a href="pecan-models.html#models-dalec"><i class="fa fa-check"></i><b>13.0.8</b> DALEC</a></li>
<li class="chapter" data-level="13.0.9" data-path="pecan-models.html"><a href="pecan-models.html#models-ed"><i class="fa fa-check"></i><b>13.0.9</b> ED2</a></li>
<li class="chapter" data-level="13.0.10" data-path="pecan-models.html"><a href="pecan-models.html#models-gday"><i class="fa fa-check"></i><b>13.0.10</b> GDAY</a></li>
<li class="chapter" data-level="13.0.11" data-path="pecan-models.html"><a href="pecan-models.html#models-linkages"><i class="fa fa-check"></i><b>13.0.11</b> LINKAGES</a></li>
<li class="chapter" data-level="13.0.12" data-path="pecan-models.html"><a href="pecan-models.html#models-lpjguess"><i class="fa fa-check"></i><b>13.0.12</b> LPJ-GUESS</a></li>
<li class="chapter" data-level="13.0.13" data-path="pecan-models.html"><a href="pecan-models.html#models-maespa"><i class="fa fa-check"></i><b>13.0.13</b> MAESPA</a></li>
<li class="chapter" data-level="13.0.14" data-path="pecan-models.html"><a href="pecan-models.html#models-preles"><i class="fa fa-check"></i><b>13.0.14</b> PRELES</a></li>
<li class="chapter" data-level="13.0.15" data-path="pecan-models.html"><a href="pecan-models.html#models-sipnet"><i class="fa fa-check"></i><b>13.0.15</b> SiPNET</a></li>
<li class="chapter" data-level="13.0.16" data-path="pecan-models.html"><a href="pecan-models.html#models-stics"><i class="fa fa-check"></i><b>13.0.16</b> STICS</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html"><i class="fa fa-check"></i><b>14</b> Available Meteorological Drivers</a><ul>
<li class="chapter" data-level="14.0.1" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#ameriflux"><i class="fa fa-check"></i><b>14.0.1</b> Ameriflux</a></li>
<li class="chapter" data-level="14.0.2" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#amerifluxlbl"><i class="fa fa-check"></i><b>14.0.2</b> AmerifluxLBL</a></li>
<li class="chapter" data-level="14.0.3" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#fluxnet2015"><i class="fa fa-check"></i><b>14.0.3</b> Fluxnet2015</a></li>
<li class="chapter" data-level="14.0.4" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#narr"><i class="fa fa-check"></i><b>14.0.4</b> NARR</a></li>
<li class="chapter" data-level="14.0.5" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#cruncep"><i class="fa fa-check"></i><b>14.0.5</b> CRUNCEP</a></li>
<li class="chapter" data-level="14.0.6" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#cmip5"><i class="fa fa-check"></i><b>14.0.6</b> CMIP5</a></li>
<li class="chapter" data-level="14.0.7" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#nldas"><i class="fa fa-check"></i><b>14.0.7</b> NLDAS</a></li>
<li class="chapter" data-level="14.0.8" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#gldas"><i class="fa fa-check"></i><b>14.0.8</b> GLDAS</a></li>
<li class="chapter" data-level="14.0.9" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#paleon"><i class="fa fa-check"></i><b>14.0.9</b> PalEON</a></li>
<li class="chapter" data-level="14.0.10" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#fluxnetlathuile"><i class="fa fa-check"></i><b>14.0.10</b> FluxnetLaThuile</a></li>
<li class="chapter" data-level="14.0.11" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#geostreams"><i class="fa fa-check"></i><b>14.0.11</b> Geostreams</a></li>
<li class="chapter" data-level="14.0.12" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#era5"><i class="fa fa-check"></i><b>14.0.12</b> ERA5</a></li>
<li class="chapter" data-level="14.0.13" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#download-gfdl"><i class="fa fa-check"></i><b>14.0.13</b> Download GFDL</a></li>
<li class="chapter" data-level="14.0.14" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#cm3"><i class="fa fa-check"></i><b>14.0.14</b> CM3</a></li>
<li class="chapter" data-level="14.0.15" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#esm2m-esm2g"><i class="fa fa-check"></i><b>14.0.15</b> ESM2M &amp; ESM2G</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="database-sync.html"><a href="database-sync.html"><i class="fa fa-check"></i><b>15</b> Database synchronization</a><ul>
<li class="chapter" data-level="15.0.1" data-path="database-sync.html"><a href="database-sync.html#how-does-it-work"><i class="fa fa-check"></i><b>15.0.1</b> How does it work?</a></li>
<li class="chapter" data-level="15.0.2" data-path="database-sync.html"><a href="database-sync.html#set-up"><i class="fa fa-check"></i><b>15.0.2</b> Set up</a></li>
<li class="chapter" data-level="15.0.3" data-path="database-sync.html"><a href="database-sync.html#fetch-latest-data"><i class="fa fa-check"></i><b>15.0.3</b> Fetch latest data</a></li>
<li class="chapter" data-level="15.0.4" data-path="database-sync.html"><a href="database-sync.html#sharing-data"><i class="fa fa-check"></i><b>15.0.4</b> Sharing data</a></li>
<li class="chapter" data-level="15.0.5" data-path="database-sync.html"><a href="database-sync.html#automation"><i class="fa fa-check"></i><b>15.0.5</b> Automation</a></li>
<li class="chapter" data-level="15.0.6" data-path="database-sync.html"><a href="database-sync.html#database-maintentance"><i class="fa fa-check"></i><b>15.0.6</b> Database maintentance</a></li>
<li class="chapter" data-level="15.0.7" data-path="database-sync.html"><a href="database-sync.html#troubleshooting-1"><i class="fa fa-check"></i><b>15.0.7</b> Troubleshooting</a></li>
<li class="chapter" data-level="15.0.8" data-path="database-sync.html"><a href="database-sync.html#network-status-map"><i class="fa fa-check"></i><b>15.0.8</b> Network Status Map</a></li>
<li class="chapter" data-level="15.0.9" data-path="database-sync.html"><a href="database-sync.html#tasks"><i class="fa fa-check"></i><b>15.0.9</b> Tasks</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="standalone-tools-modules.html"><a href="standalone-tools-modules.html"><i class="fa fa-check"></i><b>16</b> Standalone tools (modules)</a><ul>
<li class="chapter" data-level="16.0.1" data-path="standalone-tools-modules.html"><a href="standalone-tools-modules.html#LoadData"><i class="fa fa-check"></i><b>16.0.1</b> Loading Data in PEcAn</a></li>
<li class="chapter" data-level="16.0.2" data-path="standalone-tools-modules.html"><a href="standalone-tools-modules.html#function-load_data"><i class="fa fa-check"></i><b>16.0.2</b> Function <code>load_data</code></a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>17</b> Shiny</a><ul>
<li class="chapter" data-level="17.1" data-path="shiny.html"><a href="shiny.html#testing-the-shiny-server"><i class="fa fa-check"></i><b>17.1</b> Testing the Shiny Server</a></li>
<li class="chapter" data-level="17.2" data-path="shiny.html"><a href="shiny.html#debugging-shiny-apps"><i class="fa fa-check"></i><b>17.2</b> Debugging Shiny Apps</a></li>
<li class="chapter" data-level="17.3" data-path="shiny.html"><a href="shiny.html#checking-log-files"><i class="fa fa-check"></i><b>17.3</b> Checking Log Files</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html"><i class="fa fa-check"></i><b>18</b> Adding to PEcAn</a><ul>
<li class="chapter" data-level="18.1" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#adding-model"><i class="fa fa-check"></i><b>18.1</b> Adding An Ecosystem Model</a><ul>
<li class="chapter" data-level="18.1.1" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#using-pecan-database"><i class="fa fa-check"></i><b>18.1.1</b> Using PEcAn Database</a></li>
<li class="chapter" data-level="18.1.2" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#define-model_type"><i class="fa fa-check"></i><b>18.1.2</b> Define MODEL_TYPE</a></li>
<li class="chapter" data-level="18.1.3" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#machine"><i class="fa fa-check"></i><b>18.1.3</b> MACHINE</a></li>
<li class="chapter" data-level="18.1.4" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#model-1"><i class="fa fa-check"></i><b>18.1.4</b> MODEL</a></li>
<li class="chapter" data-level="18.1.5" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#formats"><i class="fa fa-check"></i><b>18.1.5</b> FORMATS</a></li>
<li class="chapter" data-level="18.1.6" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#model_type---formats"><i class="fa fa-check"></i><b>18.1.6</b> MODEL_TYPE -&gt; Formats</a></li>
<li class="chapter" data-level="18.1.7" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#inputs-2"><i class="fa fa-check"></i><b>18.1.7</b> INPUTS</a></li>
<li class="chapter" data-level="18.1.8" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#add-plant-functional-types-pfts"><i class="fa fa-check"></i><b>18.1.8</b> Add Plant Functional Types (PFTs)</a></li>
<li class="chapter" data-level="18.1.9" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#adding-priors-for-each-variable"><i class="fa fa-check"></i><b>18.1.9</b> Adding Priors for Each Variable</a></li>
<li class="chapter" data-level="18.1.10" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#interface-modules"><i class="fa fa-check"></i><b>18.1.10</b> Interface Modules</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#example-met-conversion-wrapper-function"><i class="fa fa-check"></i><b>18.2</b> Example met conversion wrapper function</a></li>
<li class="chapter" data-level="18.3" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#NewInput"><i class="fa fa-check"></i><b>18.3</b> Adding input data</a><ul>
<li class="chapter" data-level="18.3.1" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#input-records-in-bety"><i class="fa fa-check"></i><b>18.3.1</b> Input records in BETY</a></li>
<li class="chapter" data-level="18.3.2" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#create-a-database-file-record-for-the-input-data"><i class="fa fa-check"></i><b>18.3.2</b> Create a database file record for the input data</a></li>
<li class="chapter" data-level="18.3.3" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#creating-a-new-input-record-in-bety"><i class="fa fa-check"></i><b>18.3.3</b> Creating a new Input record in BETY</a></li>
<li class="chapter" data-level="18.3.4" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#InputConversions"><i class="fa fa-check"></i><b>18.3.4</b> Adding a new input converter</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#adding-data-web"><i class="fa fa-check"></i><b>18.4</b> Pecan Data Ingest via Web Interface</a><ul>
<li class="chapter" data-level="18.4.1" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#loading-data-1"><i class="fa fa-check"></i><b>18.4.1</b> Loading Data</a></li>
<li class="chapter" data-level="18.4.2" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#local-upload-example"><i class="fa fa-check"></i><b>18.4.2</b> Local Upload Example</a></li>
<li class="chapter" data-level="18.4.3" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#creating-a-format-record"><i class="fa fa-check"></i><b>18.4.3</b> 3. Creating a format record</a></li>
</ul></li>
<li class="chapter" data-level="18.5" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#NewFormat"><i class="fa fa-check"></i><b>18.5</b> Creating a new format</a><ul>
<li class="chapter" data-level="18.5.1" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#formats-in-bety"><i class="fa fa-check"></i><b>18.5.1</b> Formats in BETY</a></li>
<li class="chapter" data-level="18.5.2" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#creating-a-new-format-in-bety"><i class="fa fa-check"></i><b>18.5.2</b> Creating a new format in BETY</a></li>
</ul></li>
<li class="chapter" data-level="18.6" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#NewBenchmark"><i class="fa fa-check"></i><b>18.6</b> Creating a new benchmark reference run</a></li>
<li class="chapter" data-level="18.7" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#editing-records"><i class="fa fa-check"></i><b>18.7</b> Editing records</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="troubleshooting-and-debugging-pecan.html"><a href="troubleshooting-and-debugging-pecan.html"><i class="fa fa-check"></i><b>19</b> Troubleshooting and Debugging PEcAn</a><ul>
<li class="chapter" data-level="19.0.1" data-path="troubleshooting-and-debugging-pecan.html"><a href="troubleshooting-and-debugging-pecan.html#cookies-and-pecan-web-pages"><i class="fa fa-check"></i><b>19.0.1</b> Cookies and pecan web pages</a></li>
<li class="chapter" data-level="19.0.2" data-path="troubleshooting-and-debugging-pecan.html"><a href="troubleshooting-and-debugging-pecan.html#warning-mkdir-function.mkdir-no-such-file-or-directory"><i class="fa fa-check"></i><b>19.0.2</b> <code>Warning: mkdir() [function.mkdir]: No such file or directory</code></a></li>
<li class="chapter" data-level="19.0.3" data-path="troubleshooting-and-debugging-pecan.html"><a href="troubleshooting-and-debugging-pecan.html#after-creating-a-new-pft-the-tag-for-pft-not-passed-to-config.xml-in-ed"><i class="fa fa-check"></i><b>19.0.3</b> After creating a new PFT the <num> tag for PFT not passed to config.xml in ED</a></li>
<li class="chapter" data-level="19.1" data-path="troubleshooting-and-debugging-pecan.html"><a href="troubleshooting-and-debugging-pecan.html#debugging"><i class="fa fa-check"></i><b>19.1</b> Debugging</a><ul>
<li class="chapter" data-level="19.1.1" data-path="troubleshooting-and-debugging-pecan.html"><a href="troubleshooting-and-debugging-pecan.html#using-testsworkflow.r"><i class="fa fa-check"></i><b>19.1.1</b> Using <code>tests/workflow.R</code></a></li>
<li class="chapter" data-level="19.1.2" data-path="troubleshooting-and-debugging-pecan.html"><a href="troubleshooting-and-debugging-pecan.html#useful-scripts"><i class="fa fa-check"></i><b>19.1.2</b> Useful scripts</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="database.html"><a href="database.html"><i class="fa fa-check"></i><b>20</b> BETY Database Administration</a><ul>
<li class="chapter" data-level="20.0.1" data-path="database.html"><a href="database.html#database-setup"><i class="fa fa-check"></i><b>20.0.1</b> Best practices</a></li>
<li class="chapter" data-level="20.0.2" data-path="database.html"><a href="database.html#backup-of-bety-database"><i class="fa fa-check"></i><b>20.0.2</b> Backup of BETY database</a></li>
<li class="chapter" data-level="20.0.3" data-path="database.html"><a href="database.html#restore-of-bety-database"><i class="fa fa-check"></i><b>20.0.3</b> Restore of BETY database</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="workflow-modules.html"><a href="workflow-modules.html"><i class="fa fa-check"></i><b>21</b> Workflow modules</a><ul>
<li class="chapter" data-level="21.0.1" data-path="workflow-modules.html"><a href="workflow-modules.html#overview-1"><i class="fa fa-check"></i><b>21.0.1</b> Overview</a></li>
<li class="chapter" data-level="21.0.2" data-path="workflow-modules.html"><a href="workflow-modules.html#load-settings"><i class="fa fa-check"></i><b>21.0.2</b> Load Settings:</a></li>
<li class="chapter" data-level="21.0.3" data-path="workflow-modules.html"><a href="workflow-modules.html#query-database"><i class="fa fa-check"></i><b>21.0.3</b> Query Database:</a></li>
<li class="chapter" data-level="21.0.4" data-path="workflow-modules.html"><a href="workflow-modules.html#meta-analysis"><i class="fa fa-check"></i><b>21.0.4</b> Meta Analysis:</a></li>
<li class="chapter" data-level="21.0.5" data-path="workflow-modules.html"><a href="workflow-modules.html#write-configuration-files"><i class="fa fa-check"></i><b>21.0.5</b> Write Configuration Files</a></li>
<li class="chapter" data-level="21.0.6" data-path="workflow-modules.html"><a href="workflow-modules.html#start-runs"><i class="fa fa-check"></i><b>21.0.6</b> Start Runs:</a></li>
<li class="chapter" data-level="21.0.7" data-path="workflow-modules.html"><a href="workflow-modules.html#get-model-output"><i class="fa fa-check"></i><b>21.0.7</b> Get Model Output</a></li>
<li class="chapter" data-level="21.0.8" data-path="workflow-modules.html"><a href="workflow-modules.html#ensemble-analysis"><i class="fa fa-check"></i><b>21.0.8</b> Ensemble Analysis</a></li>
<li class="chapter" data-level="21.0.9" data-path="workflow-modules.html"><a href="workflow-modules.html#sensitivity-analysis-variance-decomposition"><i class="fa fa-check"></i><b>21.0.9</b> Sensitivity Analysis, Variance Decomposition</a></li>
<li class="chapter" data-level="21.0.10" data-path="workflow-modules.html"><a href="workflow-modules.html#glossary"><i class="fa fa-check"></i><b>21.0.10</b> Glossary</a></li>
<li class="chapter" data-level="21.1" data-path="workflow-modules.html"><a href="workflow-modules.html#pecanvm"><i class="fa fa-check"></i><b>21.1</b> PEcAn Virtual Machine</a><ul>
<li class="chapter" data-level="21.1.1" data-path="workflow-modules.html"><a href="workflow-modules.html#aws-setup"><i class="fa fa-check"></i><b>21.1.1</b> AWS Setup</a></li>
<li class="chapter" data-level="21.1.2" data-path="workflow-modules.html"><a href="workflow-modules.html#porting-vm-to-aws"><i class="fa fa-check"></i><b>21.1.2</b> Porting VM to AWS</a></li>
<li class="chapter" data-level="21.1.3" data-path="workflow-modules.html"><a href="workflow-modules.html#set-up-multiple-instances-optional"><i class="fa fa-check"></i><b>21.1.3</b> Set up multiple instances (optional)</a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="workflow-modules.html"><a href="workflow-modules.html#shiny-setup"><i class="fa fa-check"></i><b>21.2</b> Shiny Setup</a><ul>
<li class="chapter" data-level="21.2.1" data-path="workflow-modules.html"><a href="workflow-modules.html#install-the-shiny-r-package-and-shiny-server"><i class="fa fa-check"></i><b>21.2.1</b> Install the Shiny R package and Shiny server</a></li>
<li class="chapter" data-level="21.2.2" data-path="workflow-modules.html"><a href="workflow-modules.html#modify-the-shiny-configuration-file"><i class="fa fa-check"></i><b>21.2.2</b> Modify the shiny configuration file</a></li>
<li class="chapter" data-level="21.2.3" data-path="workflow-modules.html"><a href="workflow-modules.html#set-the-apache-proxy"><i class="fa fa-check"></i><b>21.2.3</b> Set the Apache proxy</a></li>
<li class="chapter" data-level="21.2.4" data-path="workflow-modules.html"><a href="workflow-modules.html#enable-and-start-the-shiny-server-and-restart-apache"><i class="fa fa-check"></i><b>21.2.4</b> Enable and start the shiny server, and restart apache</a></li>
<li class="chapter" data-level="21.2.5" data-path="workflow-modules.html"><a href="workflow-modules.html#troubleshooting-2"><i class="fa fa-check"></i><b>21.2.5</b> Troubleshooting</a></li>
<li class="chapter" data-level="21.2.6" data-path="workflow-modules.html"><a href="workflow-modules.html#further-reading"><i class="fa fa-check"></i><b>21.2.6</b> Further reading</a></li>
<li class="chapter" data-level="21.2.7" data-path="workflow-modules.html"><a href="workflow-modules.html#thredds-setup"><i class="fa fa-check"></i><b>21.2.7</b> Thredds Setup</a></li>
<li class="chapter" data-level="21.2.8" data-path="workflow-modules.html"><a href="workflow-modules.html#install-the-tomcat-8-and-thredds-webapp"><i class="fa fa-check"></i><b>21.2.8</b> Install the Tomcat 8 and Thredds webapp</a></li>
<li class="chapter" data-level="21.2.9" data-path="workflow-modules.html"><a href="workflow-modules.html#update-the-catalog"><i class="fa fa-check"></i><b>21.2.9</b> Update the catalog</a></li>
<li class="chapter" data-level="21.2.10" data-path="workflow-modules.html"><a href="workflow-modules.html#troubleshooting-3"><i class="fa fa-check"></i><b>21.2.10</b> Troubleshooting</a></li>
<li class="chapter" data-level="21.2.11" data-path="workflow-modules.html"><a href="workflow-modules.html#further-reading-1"><i class="fa fa-check"></i><b>21.2.11</b> Further reading</a></li>
<li class="chapter" data-level="21.2.12" data-path="workflow-modules.html"><a href="workflow-modules.html#osinstall"><i class="fa fa-check"></i><b>21.2.12</b> OS Specific Installations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="22" data-path="docker-index.html"><a href="docker-index.html"><i class="fa fa-check"></i><b>22</b> Docker</a><ul>
<li class="chapter" data-level="22.1" data-path="docker-index.html"><a href="docker-index.html#docker-intro"><i class="fa fa-check"></i><b>22.1</b> Introduction to Docker?</a><ul>
<li class="chapter" data-level="22.1.1" data-path="docker-index.html"><a href="docker-index.html#what-is-docker"><i class="fa fa-check"></i><b>22.1.1</b> What is Docker?</a></li>
<li class="chapter" data-level="22.1.2" data-path="docker-index.html"><a href="docker-index.html#working-with-docker"><i class="fa fa-check"></i><b>22.1.2</b> Working with Docker</a></li>
<li class="chapter" data-level="22.1.3" data-path="docker-index.html"><a href="docker-index.html#docker-compose"><i class="fa fa-check"></i><b>22.1.3</b> <code>docker-compose</code></a></li>
</ul></li>
<li class="chapter" data-level="22.2" data-path="docker-index.html"><a href="docker-index.html#docker-quickstart"><i class="fa fa-check"></i><b>22.2</b> The PEcAn docker install process in detail</a><ul>
<li class="chapter" data-level="22.2.1" data-path="docker-index.html"><a href="docker-index.html#pecan-setup-compose-configure"><i class="fa fa-check"></i><b>22.2.1</b> Configure docker-compose</a></li>
<li class="chapter" data-level="22.2.2" data-path="docker-index.html"><a href="docker-index.html#pecan-docker-quickstart-init"><i class="fa fa-check"></i><b>22.2.2</b> Initialize PEcAn (first time only)</a></li>
<li class="chapter" data-level="22.2.3" data-path="docker-index.html"><a href="docker-index.html#docker-quickstart-troubleshooting"><i class="fa fa-check"></i><b>22.2.3</b> Troubleshooting</a></li>
</ul></li>
<li class="chapter" data-level="22.3" data-path="docker-index.html"><a href="docker-index.html#pecan-docker"><i class="fa fa-check"></i><b>22.3</b> PEcAn Docker Architecture</a><ul>
<li class="chapter" data-level="22.3.1" data-path="docker-index.html"><a href="docker-index.html#pecan-docker-overview"><i class="fa fa-check"></i><b>22.3.1</b> Overview</a></li>
<li class="chapter" data-level="22.3.2" data-path="docker-index.html"><a href="docker-index.html#pecan-docker-compose"><i class="fa fa-check"></i><b>22.3.2</b> PEcAn’s <code>docker-compose</code></a></li>
<li class="chapter" data-level="22.3.3" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-structure"><i class="fa fa-check"></i><b>22.3.3</b> Top-level structure</a></li>
<li class="chapter" data-level="22.3.4" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-traefik"><i class="fa fa-check"></i><b>22.3.4</b> <code>traefik</code></a></li>
<li class="chapter" data-level="22.3.5" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-portainer"><i class="fa fa-check"></i><b>22.3.5</b> <code>portainer</code></a></li>
<li class="chapter" data-level="22.3.6" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-minio"><i class="fa fa-check"></i><b>22.3.6</b> <code>minio</code></a></li>
<li class="chapter" data-level="22.3.7" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-thredds"><i class="fa fa-check"></i><b>22.3.7</b> <code>thredds</code></a></li>
<li class="chapter" data-level="22.3.8" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-postgres"><i class="fa fa-check"></i><b>22.3.8</b> <code>postgres</code></a></li>
<li class="chapter" data-level="22.3.9" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-rabbitmq"><i class="fa fa-check"></i><b>22.3.9</b> <code>rabbitmq</code></a></li>
<li class="chapter" data-level="22.3.10" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-bety"><i class="fa fa-check"></i><b>22.3.10</b> <code>bety</code></a></li>
<li class="chapter" data-level="22.3.11" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-docs"><i class="fa fa-check"></i><b>22.3.11</b> <code>docs</code></a></li>
<li class="chapter" data-level="22.3.12" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-web"><i class="fa fa-check"></i><b>22.3.12</b> <code>web</code></a></li>
<li class="chapter" data-level="22.3.13" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-executor"><i class="fa fa-check"></i><b>22.3.13</b> <code>executor</code></a></li>
<li class="chapter" data-level="22.3.14" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-monitor"><i class="fa fa-check"></i><b>22.3.14</b> <code>monitor</code></a></li>
<li class="chapter" data-level="22.3.15" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-models"><i class="fa fa-check"></i><b>22.3.15</b> Model-specific containers</a></li>
</ul></li>
<li class="chapter" data-level="22.4" data-path="docker-index.html"><a href="docker-index.html#model-docker"><i class="fa fa-check"></i><b>22.4</b> Models using Docker</a><ul>
<li class="chapter" data-level="22.4.1" data-path="docker-index.html"><a href="docker-index.html#model-docker-json-file"><i class="fa fa-check"></i><b>22.4.1</b> Model information</a></li>
<li class="chapter" data-level="22.4.2" data-path="docker-index.html"><a href="docker-index.html#model-docker-Dockerfile"><i class="fa fa-check"></i><b>22.4.2</b> Model build</a></li>
<li class="chapter" data-level="22.4.3" data-path="docker-index.html"><a href="docker-index.html#common-docker-problems"><i class="fa fa-check"></i><b>22.4.3</b> Common problems</a></li>
<li class="chapter" data-level="22.4.4" data-path="docker-index.html"><a href="docker-index.html#debugging-missing-libraries"><i class="fa fa-check"></i><b>22.4.4</b> Debugging missing libraries</a></li>
</ul></li>
<li class="chapter" data-level="22.5" data-path="docker-index.html"><a href="docker-index.html#docker-build-images"><i class="fa fa-check"></i><b>22.5</b> Building and modifying images</a><ul>
<li class="chapter" data-level="22.5.1" data-path="docker-index.html"><a href="docker-index.html#docker-local-devel"><i class="fa fa-check"></i><b>22.5.1</b> Local development and testing with Docker</a></li>
</ul></li>
<li class="chapter" data-level="22.6" data-path="docker-index.html"><a href="docker-index.html#docker-troubleshooting"><i class="fa fa-check"></i><b>22.6</b> Troubleshooting Docker</a><ul>
<li class="chapter" data-level="22.6.1" data-path="docker-index.html"><a href="docker-index.html#package-not-available-while-building-images"><i class="fa fa-check"></i><b>22.6.1</b> “Package not available” while building images</a></li>
</ul></li>
<li class="chapter" data-level="22.7" data-path="docker-index.html"><a href="docker-index.html#docker-migrate"><i class="fa fa-check"></i><b>22.7</b> Migrating PEcAn from VM to Docker</a><ul>
<li class="chapter" data-level="22.7.1" data-path="docker-index.html"><a href="docker-index.html#running-bety-as-a-docker-container"><i class="fa fa-check"></i><b>22.7.1</b> Running BETY as a docker container</a></li>
</ul></li>
<li class="chapter" data-level="22.8" data-path="docker-index.html"><a href="docker-index.html#pecan-api"><i class="fa fa-check"></i><b>22.8</b> The PEcAn Docker API</a></li>
<li class="chapter" data-level="22.9" data-path="docker-index.html"><a href="docker-index.html#rabbitmq"><i class="fa fa-check"></i><b>22.9</b> RabbitMQ</a><ul>
<li class="chapter" data-level="22.9.1" data-path="docker-index.html"><a href="docker-index.html#rabbitmq-basics-sender"><i class="fa fa-check"></i><b>22.9.1</b> Producer – <code>sender.py</code></a></li>
<li class="chapter" data-level="22.9.2" data-path="docker-index.html"><a href="docker-index.html#rabbitmq-basics-receiver"><i class="fa fa-check"></i><b>22.9.2</b> Consumer – <code>receiver.py</code></a></li>
<li class="chapter" data-level="22.9.3" data-path="docker-index.html"><a href="docker-index.html#rabbitmq-web"><i class="fa fa-check"></i><b>22.9.3</b> RabbitMQ and the PEcAn web interface</a></li>
<li class="chapter" data-level="22.9.4" data-path="docker-index.html"><a href="docker-index.html#rabbitmq-xml"><i class="fa fa-check"></i><b>22.9.4</b> RabbitMQ in the PEcAn XML</a></li>
<li class="chapter" data-level="22.9.5" data-path="docker-index.html"><a href="docker-index.html#rabbitmq-dockerfile"><i class="fa fa-check"></i><b>22.9.5</b> RabbitMQ configuration in Dockerfiles</a></li>
<li class="chapter" data-level="22.9.6" data-path="docker-index.html"><a href="docker-index.html#rabbitmq-case-study"><i class="fa fa-check"></i><b>22.9.6</b> Case study: PEcAn web interface</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="23" data-path="pecan-remote.html"><a href="pecan-remote.html"><i class="fa fa-check"></i><b>23</b> Remote execution with PEcAn</a><ul>
<li class="chapter" data-level="23.1" data-path="pecan-remote.html"><a href="pecan-remote.html#basics-of-ssh"><i class="fa fa-check"></i><b>23.1</b> Basics of SSH</a></li>
<li class="chapter" data-level="23.2" data-path="pecan-remote.html"><a href="pecan-remote.html#ssh-authentication-password-vs.ssh-key"><i class="fa fa-check"></i><b>23.2</b> SSH authentication – password vs. SSH key</a></li>
<li class="chapter" data-level="23.3" data-path="pecan-remote.html"><a href="pecan-remote.html#ssh-tunneling"><i class="fa fa-check"></i><b>23.3</b> SSH tunneling</a></li>
<li class="chapter" data-level="23.4" data-path="pecan-remote.html"><a href="pecan-remote.html#ssh-tunnels-and-pecan"><i class="fa fa-check"></i><b>23.4</b> SSH tunnels and PEcAn</a></li>
<li class="chapter" data-level="23.5" data-path="pecan-remote.html"><a href="pecan-remote.html#basic-remote-execute-functions"><i class="fa fa-check"></i><b>23.5</b> Basic remote execute functions</a></li>
<li class="chapter" data-level="23.6" data-path="pecan-remote.html"><a href="pecan-remote.html#remote-model-execution-with-pecan"><i class="fa fa-check"></i><b>23.6</b> Remote model execution with PEcAn</a></li>
<li class="chapter" data-level="23.7" data-path="pecan-remote.html"><a href="pecan-remote.html#xml-configuration"><i class="fa fa-check"></i><b>23.7</b> XML configuration</a></li>
<li class="chapter" data-level="23.8" data-path="pecan-remote.html"><a href="pecan-remote.html#configuration-for-pecan-web-interface"><i class="fa fa-check"></i><b>23.8</b> Configuration for PEcAn web interface</a></li>
<li class="chapter" data-level="23.9" data-path="pecan-remote.html"><a href="pecan-remote.html#running-pecan-code-for-remotely"><i class="fa fa-check"></i><b>23.9</b> Running PEcAn code for remotely</a></li>
<li class="chapter" data-level="23.10" data-path="pecan-remote.html"><a href="pecan-remote.html#special-case-geo.bu.edu"><i class="fa fa-check"></i><b>23.10</b> Special case: <code>geo.bu.edu</code></a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="data-assimilation-with-dart.html"><a href="data-assimilation-with-dart.html"><i class="fa fa-check"></i><b>24</b> Data assimilation with DART</a></li>
<li class="part"><span><b>IV Appendix</b></span></li>
<li class="chapter" data-level="25" data-path="miscellaneous.html"><a href="miscellaneous.html"><i class="fa fa-check"></i><b>25</b> Miscellaneous</a><ul>
<li class="chapter" data-level="25.1" data-path="miscellaneous.html"><a href="miscellaneous.html#todo"><i class="fa fa-check"></i><b>25.1</b> TODO</a></li>
<li class="chapter" data-level="25.2" data-path="miscellaneous.html"><a href="miscellaneous.html#using-the-pecan-download.file-function"><i class="fa fa-check"></i><b>25.2</b> Using the PEcAn download.file() function</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="faq.html"><a href="faq.html"><i class="fa fa-check"></i><b>26</b> FAQ</a></li>
<li class="chapter" data-level="27" data-path="pecan-project-used-in-courses.html"><a href="pecan-project-used-in-courses.html"><i class="fa fa-check"></i><b>27</b> PEcAn Project Used in Courses</a><ul>
<li class="chapter" data-level="27.0.1" data-path="pecan-project-used-in-courses.html"><a href="pecan-project-used-in-courses.html#university-classes"><i class="fa fa-check"></i><b>27.0.1</b> University classes</a></li>
<li class="chapter" data-level="27.0.2" data-path="pecan-project-used-in-courses.html"><a href="pecan-project-used-in-courses.html#summer-courses-workshops"><i class="fa fa-check"></i><b>27.0.2</b> Summer Courses / Workshops</a></li>
<li class="chapter" data-level="27.0.3" data-path="pecan-project-used-in-courses.html"><a href="pecan-project-used-in-courses.html#selected-publications"><i class="fa fa-check"></i><b>27.0.3</b> Selected Publications</a></li>
</ul></li>
<li class="chapter" data-level="28" data-path="package-dependencies.html"><a href="package-dependencies.html"><i class="fa fa-check"></i><b>28</b> Package Dependencies</a><ul>
<li class="chapter" data-level="28.1" data-path="package-dependencies.html"><a href="package-dependencies.html#executive-summary-what-to-usually-do"><i class="fa fa-check"></i><b>28.1</b> Executive Summary: What to usually do</a></li>
<li class="chapter" data-level="28.2" data-path="package-dependencies.html"><a href="package-dependencies.html#big-picture-whats-possible-to-do"><i class="fa fa-check"></i><b>28.2</b> Big Picture: What’s possible to do</a></li>
<li class="chapter" data-level="28.3" data-path="package-dependencies.html"><a href="package-dependencies.html#declaring-dependencies-depends-suggests-imports"><i class="fa fa-check"></i><b>28.3</b> Declaring Dependencies: Depends, Suggests, Imports</a></li>
<li class="chapter" data-level="28.4" data-path="package-dependencies.html"><a href="package-dependencies.html#importing-functions-use-roxygen"><i class="fa fa-check"></i><b>28.4</b> Importing Functions: Use Roxygen</a></li>
<li class="chapter" data-level="28.5" data-path="package-dependencies.html"><a href="package-dependencies.html#loading-code-dont-but-use-requirenamespace-when-you-do"><i class="fa fa-check"></i><b>28.5</b> Loading Code: Don’t… But Use <code>requireNamespace</code> When You Do</a></li>
<li class="chapter" data-level="28.6" data-path="package-dependencies.html"><a href="package-dependencies.html#installing-dependencies-let-the-machines-do-it"><i class="fa fa-check"></i><b>28.6</b> Installing dependencies: Let the machines do it</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="appendix-testthat.html"><a href="appendix-testthat.html"><i class="fa fa-check"></i><b>29</b> Testing with the <code>testthat</code> package</a><ul>
<li class="chapter" data-level="29.1" data-path="appendix-testthat.html"><a href="appendix-testthat.html#list-of-expectations"><i class="fa fa-check"></i><b>29.1</b> List of Expectations</a></li>
<li class="chapter" data-level="29.2" data-path="appendix-testthat.html"><a href="appendix-testthat.html#basic-use-of-the-testthat-package"><i class="fa fa-check"></i><b>29.2</b> Basic use of the <code>testthat</code> package</a></li>
<li class="chapter" data-level="29.3" data-path="appendix-testthat.html"><a href="appendix-testthat.html#data-for-tests"><i class="fa fa-check"></i><b>29.3</b> Data for tests</a></li>
<li class="chapter" data-level="29.4" data-path="appendix-testthat.html"><a href="appendix-testthat.html#settings-1"><i class="fa fa-check"></i><b>29.4</b> Settings</a></li>
<li class="chapter" data-level="29.5" data-path="appendix-testthat.html"><a href="appendix-testthat.html#helper-functions-for-unit-tests"><i class="fa fa-check"></i><b>29.5</b> Helper functions for unit tests</a></li>
</ul></li>
<li class="chapter" data-level="30" data-path="developer-devtools.html"><a href="developer-devtools.html"><i class="fa fa-check"></i><b>30</b> <code>devtools</code> package</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The Predictive Ecosystem Analyzer</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="workflow-modules" class="section level1">
<h1><span class="header-section-number">21</span> Workflow modules</h1>
<p>NOTE: As of PEcAn 1.2.6 – needs to be updated significantly</p>
<!--NEEDS TO BE UPDATED SIGNIFICANTLY-->
<div id="overview-1" class="section level3">
<h3><span class="header-section-number">21.0.1</span> Overview</h3>
<p>Workflow inputs and outputs (click to open in new page, then zoom). Code used to generate this image is provided in <a href="https://github.com/PecanProject/pecan/blob/master/qaqc/vignettes/module_output.Rmd">qaqc/vignettes/module_output.Rmd</a></p>
<p><a href="http://isda.ncsa.illinois.edu/~kooper/EBI/workflow.svg"><img src="http://isda.ncsa.illinois.edu/~kooper/EBI/workflow.svg" alt="PEcAn Workflow" /></a></p>
</div>
<div id="load-settings" class="section level3">
<h3><span class="header-section-number">21.0.2</span> Load Settings:</h3>
<div id="read.settingshomepecanpecan.xml" class="section level4">
<h4><span class="header-section-number">21.0.2.1</span> <code>read.settings(&quot;/home/pecan/pecan.xml&quot;)</code></h4>
<ul>
<li>loads settings</li>
<li>create directories</li>
<li>generates new xml, put in output folder</li>
</ul>
</div>
</div>
<div id="query-database" class="section level3">
<h3><span class="header-section-number">21.0.3</span> Query Database:</h3>
<div id="get.trait.data" class="section level4">
<h4><span class="header-section-number">21.0.3.1</span> <code>get.trait.data()</code></h4>
<p>Queries the database for both the trait data and prior distributions associated with the PFTs specified in the settings file. The list of variables that are queried is determined by what variables have priors associated with them in the definition of the pft. Likewise, the list of species that are associated with a PFT determines what subset of data is extracted out of all data matching a given variable name.</p>
</div>
</div>
<div id="meta-analysis" class="section level3">
<h3><span class="header-section-number">21.0.4</span> Meta Analysis:</h3>
<div id="run.meta.analysis" class="section level4">
<h4><span class="header-section-number">21.0.4.1</span> <code>run.meta.analysis()</code></h4>
<p>The meta-analysis code begins by distilling the trait.data to just the values needed for the meta-analysis statistical model, with this being stored in <code>madata.Rdata</code>. This reduced form includes the conversion of all error statistics into precision (1/variance), and the indexing of sites, treatments, and greenhouse. In reality, the core meta-analysis code can be run independent of the trait database as long as input data is correctly formatted into the form shown in <code>madata</code>.</p>
<p>The evaluation of the meta-analysis is done using a Bayesian statistical software package called JAGS that is called by the R code. For each trait, the R code will generate a [trait].model.bug file that is the JAGS code for the meta-analysis itself. This code is generated on the fly, with PEcAn adding or subtracting the site, treatment, and greenhouse terms depending upon the presence of these effects in the data itself.</p>
<p>Meta-analyses are run, and summary plots are produced.</p>
</div>
</div>
<div id="write-configuration-files" class="section level3">
<h3><span class="header-section-number">21.0.5</span> Write Configuration Files</h3>
<div id="write.configsmodel" class="section level4">
<h4><span class="header-section-number">21.0.5.1</span> <code>write.configs(model)</code></h4>
<ul>
<li>writes out a configuration file for each model run
** writes 500 configuration files for a 500 member ensemble
** for <em>n</em> traits, writes <code>6 * n + 1</code> files for running default Sensitivity Analysis (number can be changed in the pecan settings file)</li>
</ul>
</div>
</div>
<div id="start-runs" class="section level3">
<h3><span class="header-section-number">21.0.6</span> Start Runs:</h3>
<div id="start.runsmodel" class="section level4">
<h4><span class="header-section-number">21.0.6.1</span> <code>start.runs(model)</code></h4>
<p>This code starts the model runs using a model specific run function named start.runs.<a href="adding-to-pecan.html#model-1">model</a>. If the ecosystem model is running on a remote server, this module also takes care of all of the communication with the remote server and its run queue. Each of your subdirectories should now have a [run.id].out file in it. One instance of the model is run for each configuration file generated by the previous write configs module.</p>
</div>
</div>
<div id="get-model-output" class="section level3">
<h3><span class="header-section-number">21.0.7</span> Get Model Output</h3>
<div id="get.model.outputmodel" class="section level4">
<h4><span class="header-section-number">21.0.7.1</span> <code>get.model.output(model)</code></h4>
<p>This code first uses a model-specific model2netcdf.<a href="adding-to-pecan.html#model-1">model</a> function to convert the model output into a standard output format (<a href="http://nacp.ornl.gov/MsTMIP_variables.shtml">MsTMIP</a>). Then it extracts the data for requested variables specified in the settings file as <code>settings$ensemble$variable</code>, averages over the time-period specified as <code>start.date</code> and <code>end.date</code>, and stores the output in a file <code>output.Rdata</code>. The <code>output.Rdata</code> file contains two objects, <code>sensitivity.output</code> and <code>ensemble.output</code>, that is the model prediction for the parameter sets specified in <code>sa.samples</code> and <code>ensemble.samples</code>. In order to save bandwidth, if the model output is stored on a remote system PEcAn will perform these operations on the remote host and only return the <code>output.Rdata</code> object.</p>
</div>
</div>
<div id="ensemble-analysis" class="section level3">
<h3><span class="header-section-number">21.0.8</span> Ensemble Analysis</h3>
<div id="run.ensemble.analysis" class="section level4">
<h4><span class="header-section-number">21.0.8.1</span> <code>run.ensemble.analysis()</code></h4>
<p>This module makes some simple graphs of the ensemble output. Open ensemble.analysis.pdf to view the ensemble prediction as both a histogram and a boxplot. ensemble.ts.pdf provides a timeseries plot of the ensemble mean, meadian, and 95% CI</p>
</div>
</div>
<div id="sensitivity-analysis-variance-decomposition" class="section level3">
<h3><span class="header-section-number">21.0.9</span> Sensitivity Analysis, Variance Decomposition</h3>
<div id="run.sensitivity.analysis" class="section level4">
<h4><span class="header-section-number">21.0.9.1</span> <code>run.sensitivity.analysis()</code></h4>
<p>This function processes the output of the previous module into sensitivity analysis plots, <code>sensitivityanalysis.pdf</code>, and a variance decomposition plot, <code>variancedecomposition.pdf</code> . In the sensitivity plots you will see the parameter values on the x-axis, the model output on the Y, with the dots being the model evaluations and the line being the spline fit.</p>
<p>The variance decomposition plot is discussed more below. For your reference, the R list object, sensitivity.results, stored in sensitivity.results.Rdata, contains all the components of the variance decomposition table, as well as the the input parameter space and splines from the sensitivity analysis (reminder: the output parameter space from the sensitivity analysis was in outputs.R).</p>
<p>The variance decomposition plot contains three columns, the coefficient of variation (normalized posterior variance), the elasticity (normalized sensitivity), and the partial standard deviation of each model parameter. This graph is sorted by the variable explaining the largest amount of variability in the model output (right hand column). From this graph identify the top-tier parameters that you would target for future constraint.</p>
</div>
</div>
<div id="glossary" class="section level3">
<h3><span class="header-section-number">21.0.10</span> Glossary</h3>
<ul>
<li>Inputs: data sets that are used, and file paths leading to them</li>
<li>Parameters: e.g. info set in settings file</li>
<li>Outputs: data sets that are dropped, and the file paths leading to them</li>
</ul>

</div>
<div id="pecanvm" class="section level2">
<h2><span class="header-section-number">21.1</span> PEcAn Virtual Machine</h2>
<p>This section includes the following VM related documentation:</p>
<ul>
<li><a href="working-with-vm.html#maintain-vm">Maintaining your PEcAn VM</a></li>
<li><a href="working-with-vm.html#ssh-vm">Connecting to the VM via SSH</a></li>
<li><a href="working-with-vm.html#ssh-vm-bety">Connecting to bety on the VM via SSh</a></li>
<li><a href="working-with-vm.html#awsvm">Using Amazon Web Services for a VM (AWS)</a></li>
<li><a href="working-with-vm.html#createvm">Creating a Virtual Machine</a></li>
<li><a href="working-with-vm.html#vm-dektop-conversion">VM Desktop Conversion</a></li>
<li><a href="working-with-vm.html#install-rstudio">Install RStudio Desktop</a></li>
</ul>
<p>The PEcAn virtual machine consists of all of PEcAn pre-compiled within a Linux operating system and saved in a “virtual machine” (VM). Virtual machines allow for running consistent set-ups without worrying about differences between operating systems, library dependencies, compiling the code, etc.</p>
<ol style="list-style-type: decimal">
<li><p><strong>Install VirtualBox</strong> This is the software that runs the virtual machine. You can find the download link and instructions at <a href="http://www.virtualbox.org" class="uri">http://www.virtualbox.org</a>. <em>NOTE: On Windows you may see a warning about Logo testing, it is okay to ignore the warning.</em></p></li>
<li><p><strong>Download the PEcAn VM</strong> You can find the download link at <a href="http://opensource.ncsa.illinois.edu/projects/artifacts.php?key=PECAN" class="uri">http://opensource.ncsa.illinois.edu/projects/artifacts.php?key=PECAN</a>, under the “<strong>Files</strong>” header. Click the “.ova” file to begin the download. Note that the file is ~7 GB, so this download can take several minutes to hours depending on your connection speed. Also, the VM requires &gt;4 GB of RAM to operate correctly. Please check current usage of RAM and shutdown processes as needed.</p></li>
<li><p><strong>Import the VM</strong> Once the download is complete, open VirtualBox. In the VirtualBox menus, go to “File” → “Import Appliance” and locate the downloaded “.ova” file.</p></li>
</ol>
<p>For Virtualbox version 5.x: In the Appliance Import Settings, make sure you select “Reinitialize the MAC address of all network cards” (picture below). This is not selected by default and can result in networking issues since multiple machines might claim to have the same network MAC Address.</p>
<p><img src="figures/pic1.jpg" width="100%" style="display: block; margin: auto;" /></p>
<p>For Virtualbox versions starting with 6.0, there is a slightly different interface (see figure). Select “Generate new MAC addresses for all network adapters” from the MAC Address Policy:</p>
<p><img src="figures/pic1v2.png" width="100%" style="display: block; margin: auto;" /></p>
<p>NOTE: If you experience network connection difficulties in the VM with this enabled, try re-importing the VM without this setting selected).</p>
<p>Finally, click “Import” to build the Virtual Machine from its image.</p>
<ol start="4" style="list-style-type: decimal">
<li><strong>Launch PEcAn</strong> Double click the icon for the PEcAn VM. A terminal window will pop up showing the machine booting up which may take a minute. It is done booting when you get to the <code>pecan login:</code> prompt. You do not need to login as the VM behaves like a server that we will be accessing through you web browser. Feel free to minimize the VM window.</li>
</ol>
<ul>
<li>If you <em>do</em> want to login to the VM, the credentials are as follows: <code>username: carya</code>, <code>password: illinois</code> (after the pecan tree, [Carya illinoinensis][pecan-wikipedia]).</li>
</ul>
<ol start="5" style="list-style-type: decimal">
<li><strong>Open the PEcAn web interface</strong> With the VM running in the background, open any web browser on the same machine and navigate to <code>localhost:6480/pecan/</code> to start the PEcAn workflow. (NOTE: The trailing backslash may be necessary depending on your browser)</li>
</ol>
<ul>
<li>To ssh into the VM, open up a terminal on your machine and execute <code>ssh -l carya -p 6422 localhost</code>. Username and password are the same as when you log into the machine.</li>
</ul>

<div id="aws-setup" class="section level3">
<h3><span class="header-section-number">21.1.1</span> AWS Setup</h3>
<p>***********Mirror of earlier section in installation section?*********************</p>
</div>
<div id="porting-vm-to-aws" class="section level3">
<h3><span class="header-section-number">21.1.2</span> Porting VM to AWS</h3>
<p>The following are Mike’s rough notes from a first attempt to port the PEcAn VM to the AWS. This was done on a Mac</p>
<p>These notes are based on following the instructions <a href="http://www.rittmanmead.com/2014/09/obiee-sampleapp-in-the-cloud-importing-virtualbox-machines-to-aws-ec2/">here</a></p>
<div id="convert-pecan-vm" class="section level4">
<h4><span class="header-section-number">21.1.2.1</span> Convert PEcAn VM</h4>
<p>AWS allows upload of files as VMDK but the default PEcAn VM is in OVA format</p>
<ol style="list-style-type: decimal">
<li><p>If you haven’t done so already, download the <a href="http://isda.ncsa.illinois.edu/download/index.php?project=PEcAn&amp;sort=category">PEcAn VM</a></p></li>
<li><p>Split the OVA file into OVF and VMDK files</p></li>
</ol>
<pre><code>tar xf &lt;ovafile&gt;</code></pre>
</div>
<div id="set-up-an-account-on-aws" class="section level4">
<h4><span class="header-section-number">21.1.2.2</span> Set up an account on <a href="http://aws.amazon.com/">AWS</a></h4>
<p>After you have an account you need to set up a user and save your <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/ManagingCredentials.html">access key and secret key</a></p>
<p>In my case I created a user named ‘carya’</p>
<p>Note: the key that ended up working had to be made at <a href="https://console.aws.amazon.com/iam/home#security_credential" class="uri">https://console.aws.amazon.com/iam/home#security_credential</a>, not the link above.</p>
</div>
<div id="install-ec2-command-line-tools" class="section level4">
<h4><span class="header-section-number">21.1.2.3</span> Install <a href="http://docs.aws.amazon.com/AWSEC2/latest/CommandLineReference/set-up-ec2-cli-linux.html">EC2 command line tools</a></h4>
<pre><code>wget http://s3.amazonaws.com/ec2-downloads/ec2-api-tools.zip

sudo mkdir /usr/local/ec2

sudo unzip ec2-api-tools.zip -d /usr/local/ec2</code></pre>
<p>If need be, download and install <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">JDK</a></p>
<pre><code>export JAVA_HOME=$(/usr/libexec/java_home)

export EC2_HOME=/usr/local/ec2/ec2-api-tools-&lt;version&gt;

export PATH=$PATH:$EC2_HOME/bin</code></pre>
<p>Then set your user credentials as environment variables:</p>
<p><code>export AWS_ACCESS_KEY=xxxxxxxxxxxxxx</code></p>
<p><code>export AWS_SECRET_KEY=xxxxxxxxxxxxxxxxxxxxxx</code></p>
<p>Note: you may want to add all the variables set in the above EXPORT commands above into your .bashrc or equivalent.</p>
</div>
<div id="create-an-aws-s3-bucket-to-upload-vm-to" class="section level4">
<h4><span class="header-section-number">21.1.2.4</span> Create an AWS S3 ‘bucket’ to upload VM to</h4>
<p>Go to <a href="https://console.aws.amazon.com/s3" class="uri">https://console.aws.amazon.com/s3</a> and click “Create Bucket”</p>
<p>In my case I named the bucket ‘pecan’</p>
</div>
<div id="upload" class="section level4">
<h4><span class="header-section-number">21.1.2.5</span> Upload</h4>
<p>In the code below, make sure to change the PEcAn version, the name of the bucket, and the name of the region. Make sure that the PEcAn version matches the one you downloaded.</p>
<p>Also, you may want to choose a considerably larger instance type. The one chosen below is that corresponding to the AWS Free Tier</p>
<pre><code>ec2-import-instance PEcAn_1.2.6-disk1.vmdk --instance-type t2.micro --format VMDK --architecture x86_64 --platform Linux --bucket pecan --region us-east-1 --owner-akid $AWS_ACCESS_KEY --owner-sak $AWS_SECRET_KEY</code></pre>
<p>Make sure to note the ID of the image since you’ll need it to check the VM status. Once the image is uploaded it will take a while (typically about an hour) for Amazon to convert the image to one it can run. You can check on this progress by running</p>
<pre><code>ec2-describe-conversion-tasks &lt;image.ID&gt;</code></pre>
</div>
<div id="configuring-the-vm" class="section level4">
<h4><span class="header-section-number">21.1.2.6</span> Configuring the VM</h4>
<p>On the EC2 management webpage, <a href="https://console.aws.amazon.com/ec2" class="uri">https://console.aws.amazon.com/ec2</a>, if you select <strong>Instances</strong> on the left hand side (LHS) you should be able to see your new PEcAn image as an option under Launch Instance.</p>
<p>Before launching, you will want to update the firewall to open up additional ports that PEcAn needs – specifically port 80 for the webpage. Port 22 (ssh/sftp) should be open by default. Under “Security Groups” select “Inbound” then “Edit” and then add “HTTP”.</p>
<p>Select “Elastic IPs” on the LHS, and “Allocate New Address” in order to create a public IP for your VM.</p>
<p>Next, select “Network Interfaces” on the LHS and then under Actions select “Associate Addresses” then choose the Elastic IP you just created.</p>
<p>See also <a href="http://docs.aws.amazon.com/AmazonVPC/latest/GettingStartedGuide/GetStarted.html" class="uri">http://docs.aws.amazon.com/AmazonVPC/latest/GettingStartedGuide/GetStarted.html</a></p>
</div>
</div>
<div id="set-up-multiple-instances-optional" class="section level3">
<h3><span class="header-section-number">21.1.3</span> Set up multiple instances (optional)</h3>
<p>For info on setting up multiple instances with load balancing see: <a href="http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/gs-ec2VPC.html" class="uri">http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/gs-ec2VPC.html</a></p>
<p>Select “Load Balancers” on the LHS, click on “Create Load Balancer”, follow Wizard keeping defaults.</p>
<p>To be able to launch multiple VMs: Under “Instances” convert VM to an Image. When done, select Launch, enable multiple instances, and associate with the previous security group. Once running, go back to “Load Balancers” and add the instances to the load balancer. Each instance can be accessed individually by it’s own public IP, but external users should access the system more generally via the Load Balancers DNS.</p>
<div id="booting-the-vm" class="section level4">
<h4><span class="header-section-number">21.1.3.1</span> Booting the VM</h4>
<p>Return to “Instances” using the menu on the LHS.</p>
<p>To boot the VM select “Actions” then “Instance State” then “Start”. In the future, once you have the VM loaded and configured this last step is the only one you will need to repeat to turn your VM on and off.</p>
<p>The menu provided should specify the Public IP where the VM has launched</p>

</div>
</div>
</div>
<div id="shiny-setup" class="section level2">
<h2><span class="header-section-number">21.2</span> Shiny Setup</h2>
<p>Installing and configuring Shiny for PEcAn
authors - Alexey Shiklomanov
- Rob Kooper</p>
<p><strong>NOTE: Instructions are only tested for CentOS 6.5 and Ubuntu 16.04</strong>
<strong>NOTE: Pretty much every step here requires root access.</strong></p>
<div id="install-the-shiny-r-package-and-shiny-server" class="section level3">
<h3><span class="header-section-number">21.2.1</span> Install the Shiny R package and Shiny server</h3>
<p>Follow the instructions on the <a href="https://www.rstudio.com/products/shiny/download-server/">Shiny download page</a> for the operating system you are using.</p>
</div>
<div id="modify-the-shiny-configuration-file" class="section level3">
<h3><span class="header-section-number">21.2.2</span> Modify the shiny configuration file</h3>
<p>The Shiny configuration file is located in <code>/etc/shiny-server/shiny-server.conf</code>. Comment out the entire file and add the following, replacing <code>&lt;username&gt;</code> with your user name and <code>&lt;location&gt;</code> with the URL location you want for your app. This will allow you to run Shiny apps from your web browser at <a href="https://your.server.edu/shiny/your-location" class="uri">https://your.server.edu/shiny/your-location</a></p>
<pre><code>run as shiny;
server {
    listen 3838;
    location /&lt;location&gt;/ {
        run as &lt;username&gt;;
        site_dir /path/to/your/shiny/app;
        log_dir /var/log/shiny-server;
        directory_index on;
    }
}</code></pre>
<p>For example, my configuration on the old test-pecan looks like this.</p>
<pre><code>run as shiny;
server {
    listen 3838;
    location /ashiklom/ {
        run as ashiklom;
        site_dir /home/ashiklom/fs-data/pecan/shiny/;
        log_dir /var/log/shiny-server;
        directory_index on;
    }
}</code></pre>
<p>…and I can access my Shiny apps at, for instance, <a href="https://test-pecan.bu.edu/shiny/ashiklom/workflowPlots" class="uri">https://test-pecan.bu.edu/shiny/ashiklom/workflowPlots</a>.</p>
<p>You can add as many <code>location &lt;loc&gt; { ... }</code> fields as you would like.</p>
<pre><code>run as shiny;
server {
    listen 3838;
    location /ashiklom/ {
        ...
    }
    location /bety/ {
        ...
    }
}</code></pre>
<p>If you change the configuration, for example to add a new location, you will need to restart Shiny server.
<em>If you are setting up a new instance of Shiny</em>, skip this step and continue with the guide, since there are a few more steps to get Shiny working.
<em>If there is an instance of Shiny already running</em>, you can restart it with:</p>
<pre><code>## On CentOS
sudo service shiny-server stop
sudo service shiny-server start

## On Ubuntu
sudo systemctl stop shiny-server.service
sudo systemctl start shiny-server.service</code></pre>
</div>
<div id="set-the-apache-proxy" class="section level3">
<h3><span class="header-section-number">21.2.3</span> Set the Apache proxy</h3>
<p>Create a file with the following name, based on the version of the operating system you are using:</p>
<ul>
<li>Ubuntu 16.04 (pecan1, pecan2, test-pecan) – <code>/etc/apache2/conf-available/shiny.conf</code></li>
<li>CentOS 6.5 (psql-pecan) – <code>/etc/httpd/conf.d/shiny.conf</code></li>
</ul>
<p>Into this file, add the following:</p>
<pre><code>ProxyPass           /shiny/ http://localhost:3838/
ProxyPassReverse    /shiny/ http://localhost:3838/
RedirectMatch permanent ^/shiny$ /shiny/</code></pre>
<div id="ubuntu-only-enable-the-new-shiny-configuration" class="section level4">
<h4><span class="header-section-number">21.2.3.1</span> <strong>Ubuntu only:</strong> Enable the new shiny configuration</h4>
<pre><code>sudo a2enconf shiny</code></pre>
<p>This will create a symbolic link to the newly created <code>shiny.conf</code> file inside the <code>/etc/apache2/conf-enabled</code> directory.
You can do <code>ls -l /etc/apache2/conf-enabled</code> to confirm that this worked.</p>
</div>
</div>
<div id="enable-and-start-the-shiny-server-and-restart-apache" class="section level3">
<h3><span class="header-section-number">21.2.4</span> Enable and start the shiny server, and restart apache</h3>
<div id="on-centos" class="section level4">
<h4><span class="header-section-number">21.2.4.1</span> On CentOS</h4>
<pre><code>sudo ln -s /opt/shiny-server/config/init.d/redhat/shiny-server /etc/init.d
sudo service shiny-server stop
sudo service shiny-server start
sudo service httpd restart</code></pre>
<p>You can check that Shiny is running with <code>service shiny-server status</code>.</p>
</div>
<div id="on-ubuntu" class="section level4">
<h4><span class="header-section-number">21.2.4.2</span> On Ubuntu</h4>
<p>Enable the Shiny server service.
This will make sure Shiny runs automatically on startup.</p>
<pre><code>sudo systemctl enable shiny-server.service</code></pre>
<p>Restart Apache.</p>
<pre><code>sudo apachectl restart</code></pre>
<p>Start the Shiny server.</p>
<pre><code>sudo systemctl start shiny-server.service</code></pre>
<p>If there are problems, you can stop the <code>shiny-server.service</code> with…</p>
<pre><code>sudo systemctl stop shiny-server.service</code></pre>
<p>…and then use <code>start</code> again to restart it.</p>
</div>
</div>
<div id="troubleshooting-2" class="section level3">
<h3><span class="header-section-number">21.2.5</span> Troubleshooting</h3>
<p>Refer to the log files for shiny (<code>/var/log/shiny-server.log</code>) and httpd (on CentOS, <code>/var/log/httpd/error-log</code>; on Ubuntu, <code>/var/log/apache2/error-log</code>).</p>
</div>
<div id="further-reading" class="section level3">
<h3><span class="header-section-number">21.2.6</span> Further reading</h3>
<ul>
<li><a href="http://docs.rstudio.com/shiny-server/">Shiny server configuration reference</a></li>
</ul>

</div>
<div id="thredds-setup" class="section level3">
<h3><span class="header-section-number">21.2.7</span> Thredds Setup</h3>
<p>Installing and configuring Thredds for PEcAn
authors - Rob Kooper</p>
<p><strong>NOTE: Instructions are only tested for Ubuntu 16.04 on the VM, if you have instructions for CENTOS/RedHat please update this documentation</strong>
<strong>NOTE: Pretty much every step here requires root access.</strong></p>
</div>
<div id="install-the-tomcat-8-and-thredds-webapp" class="section level3">
<h3><span class="header-section-number">21.2.8</span> Install the Tomcat 8 and Thredds webapp</h3>
<p>The Tomcat 8 server can be installed from the default Ubuntu repositories. The thredds webapp will be downloaded and installed from unidata.</p>
<div id="ubuntu" class="section level4">
<h4><span class="header-section-number">21.2.8.1</span> Ubuntu</h4>
<p>First step is to install Tomcat 8 and configure it. The flag <code>-Dtds.content.root.path</code> should point to the location of where the thredds folder is located. This needs to be writeable by the user for tomcat. <code>-Djava.security.egd</code> is a special flag to use a different random number generator for tomcat. The default would take to long to generate a random number.</p>
<pre><code>apt-get -y install tomcat8 openjdk-8-jdk
echo JAVA_OPTS=\&quot;-Dtds.content.root.path=/home/carya \${JAVA_OPTS}\&quot; &gt;&gt; /etc/default/tomcat8
echo JAVA_OPTS=\&quot;-Djava.security.egd=file:/dev/./urandom \${JAVA_OPTS}\&quot; &gt;&gt; /etc/default/tomcat8
service tomcat8 restart</code></pre>
<p>Next is to install the webapp.</p>
<pre><code>mkdir /home/carya/thredds
chmod 777 /home/carya/thredds

wget -O /var/lib/tomcat8/webapps/thredds.war ftp://ftp.unidata.ucar.edu/pub/thredds/4.6/current/thredds.war</code></pre>
<p>Finally we configure Apache to prox the thredds server</p>
<pre><code>cat &gt; /etc/apache2/conf-available/thredds.conf &lt;&lt; EOF
ProxyPass        /thredds/ http://localhost:8080/thredds/
ProxyPassReverse /thredds/ http://localhost:8080/thredds/
RedirectMatch permanent ^/thredds$ /thredds/
EOF
a2enmod proxy_http
a2enconf thredds
service apache2 reload</code></pre>
</div>
<div id="customize-the-thredds-server" class="section level4">
<h4><span class="header-section-number">21.2.8.2</span> Customize the Thredds server</h4>
<p>To customize the thredds server for your installation edit the file in /home/carya/thredds/threddsConfig.xml. For example the following file is included in the VM.</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;threddsConfig&gt;

  &lt;!-- all options are commented out in standard install - meaning use default values --&gt;
  &lt;!-- see http://www.unidata.ucar.edu/software/thredds/current/tds/reference/ThreddsConfigXMLFile.html --&gt;
  &lt;serverInformation&gt;
    &lt;name&gt;PEcAn&lt;/name&gt;
    &lt;logoUrl&gt;/pecan/images/pecan_small.jpg&lt;/logoUrl&gt;
    &lt;logoAltText&gt;PEcAn&lt;/logoAltText&gt;

    &lt;abstract&gt;Scientific Data&lt;/abstract&gt;
    &lt;keywords&gt;meteorology, atmosphere, climate, ocean, earth science&lt;/keywords&gt;
    
    &lt;contact&gt;
      &lt;name&gt;Rob Kooper&lt;/name&gt;
      &lt;organization&gt;NCSA&lt;/organization&gt;
      &lt;email&gt;kooper@illinois.edu&lt;/email&gt;
      &lt;!--phone&gt;&lt;/phone--&gt;
    &lt;/contact&gt;
    &lt;hostInstitution&gt;
      &lt;name&gt;PEcAn&lt;/name&gt;
      &lt;webSite&gt;http://www.pecanproject.org/&lt;/webSite&gt;
      &lt;logoUrl&gt;/pecan/images/pecan_small.jpg&lt;/logoUrl&gt;
      &lt;logoAltText&gt;PEcAn Project&lt;/logoAltText&gt;
    &lt;/hostInstitution&gt;
  &lt;/serverInformation&gt;

  &lt;!--
  The &lt;catalogRoot&gt; element:
  For catalogs you don&#39;t want visible from the /thredds/catalog.xml chain
  of catalogs, you can use catalogRoot elements. Each catalog root config
  catalog is crawled and used in configuring the TDS.

  &lt;catalogRoot&gt;myExtraCatalog.xml&lt;/catalogRoot&gt;
  &lt;catalogRoot&gt;myOtherExtraCatalog.xml&lt;/catalogRoot&gt;
  --&gt;

  &lt;!--
   * Setup for generated HTML pages.
   *
   * NOTE: URLs may be absolute or relative, relative URLs must be relative
   * to the webapp URL, i.e., http://server:port/thredds/.
    --&gt;
  &lt;htmlSetup&gt;
    &lt;!--
     * CSS documents used in generated HTML pages.
     * The CSS document given in the &quot;catalogCssUrl&quot; element is used for all pages
     * that are HTML catalog views. The CSS document given in the &quot;standardCssUrl&quot;
     * element is used in all other generated HTML pages.
     * --&gt;
    &lt;standardCssUrl&gt;tds.css&lt;/standardCssUrl&gt;
    &lt;catalogCssUrl&gt;tdsCat.css&lt;/catalogCssUrl&gt;
    &lt;openDapCssUrl&gt;tdsDap.css&lt;/openDapCssUrl&gt;

    &lt;!--
     * The Google Analytics Tracking code you would like to use for the
     * webpages associated with THREDDS. This will not track WMS or DAP
     * requests for data, only browsing the catalog.
    --&gt;
    &lt;googleTrackingCode&gt;&lt;/googleTrackingCode&gt;

  &lt;/htmlSetup&gt;
  
  &lt;!-- 
    The &lt;TdsUpdateConfig&gt; element controls if and how the TDS checks
    for updates. The default is for the TDS to check for the current
    stable and development release versions, and to log that information
    in the TDS serverStartup.log file as INFO entries.

  &lt;TdsUpdateConfig&gt;
     &lt;logVersionInfo&gt;true&lt;/logVersionInfo&gt;
  &lt;/TdsUpdateConfig&gt;
  --&gt;
   
  &lt;!--
   The &lt;CORS&gt; element controls Cross-Origin Resource Sharing (CORS).
   CORS is a way to allow a website (such as THREDDS) to open up access
   to resources to web pages and applications running on a different domain.
   One example would be allowing a web-application to use fonts from
   a separate host. For TDS, this can allow a javascript app running on a
   different site to access data on a THREDDS server.
   For more information see: https://en.wikipedia.org/wiki/Cross-origin_resource_sharing
   The elements below represent defaults. Only the &lt;enabled&gt; tag is required
   to enable CORS. The default allowed origin is &#39;*&#39;, which allows sharing
   to any domain.
  &lt;CORS&gt;
    &lt;enabled&gt;false&lt;/enabled&gt;
    &lt;maxAge&gt;1728000&lt;/maxAge&gt;
    &lt;allowedMethods&gt;GET&lt;/allowedMethods&gt;
    &lt;allowedHeaders&gt;Authorization&lt;/allowedHeaders&gt;
    &lt;allowedOrigin&gt;*&lt;/allowedOrigin&gt;
  &lt;/CORS&gt;
  --&gt;

  &lt;!--
   The &lt;CatalogServices&gt; element:
   - Services on local TDS served catalogs are always on.
   - Services on remote catalogs are set with the allowRemote element
   below. They are off by default (recommended).
   --&gt;
  &lt;CatalogServices&gt;
    &lt;allowRemote&gt;false&lt;/allowRemote&gt;
  &lt;/CatalogServices&gt;

  &lt;!--
  Configuring the CDM (netcdf-java library)
  see http://www.unidata.ucar.edu/software/netcdf-java/reference/RuntimeLoading.html

  &lt;nj22Config&gt;
    &lt;ioServiceProvider class=&quot;edu.univ.ny.stuff.FooFiles&quot;/&gt;
    &lt;coordSysBuilder convention=&quot;foo&quot; class=&quot;test.Foo&quot;/&gt;
    &lt;coordTransBuilder name=&quot;atmos_ln_sigma_coordinates&quot; type=&quot;vertical&quot; class=&quot;my.stuff.atmosSigmaLog&quot;/&gt;
    &lt;typedDatasetFactory datatype=&quot;Point&quot; class=&quot;gov.noaa.obscure.file.Flabulate&quot;/&gt;
  &lt;/nj22Config&gt;
  --&gt;

  &lt;!--
  CDM uses the DiskCache directory to store temporary files, like uncompressed files.
  &lt;DiskCache&gt;
    &lt;alwaysUse&gt;false&lt;/alwaysUse&gt;
    &lt;scour&gt;1 hour&lt;/scour&gt;
    &lt;maxSize&gt;1 Gb&lt;/maxSize&gt;
  &lt;/DiskCache&gt;
  --&gt;

  &lt;!--
  Caching open NetcdfFile objects.
  default is to allow 50 - 100 open files, cleanup every 11 minutes
  &lt;NetcdfFileCache&gt;
    &lt;minFiles&gt;50&lt;/minFiles&gt;
    &lt;maxFiles&gt;100&lt;/maxFiles&gt;
    &lt;scour&gt;11 min&lt;/scour&gt;
  &lt;/NetcdfFileCache&gt;
  --&gt;

  &lt;!--
  The &lt;HTTPFileCache&gt; element:
  allow 10 - 20 open datasets, cleanup every 17 minutes
  used by HTTP Range requests.
  &lt;HTTPFileCache&gt;
    &lt;minFiles&gt;10&lt;/minFiles&gt;
    &lt;maxFiles&gt;20&lt;/maxFiles&gt;
    &lt;scour&gt;17 min&lt;/scour&gt;
  &lt;/HTTPFileCache&gt;
  --&gt;

  &lt;!--
  Writing GRIB indexes.
  &lt;GribIndexing&gt;
    &lt;setExtendIndex&gt;false&lt;/setExtendIndex&gt;
    &lt;alwaysUseCache&gt;false&lt;/alwaysUseCache&gt;
  &lt;/GribIndexing&gt;
  --&gt;

  &lt;!--
  Persist joinNew aggregations to named directory. scour every 24 hours, delete stuff older than 90 days
  &lt;AggregationCache&gt;
    &lt;scour&gt;24 hours&lt;/scour&gt;
    &lt;maxAge&gt;90 days&lt;/maxAge&gt;
    &lt;cachePathPolicy&gt;NestedDirectory&lt;/cachePathPolicy&gt;
  &lt;/AggregationCache&gt;
  --&gt;

  &lt;!--
  How to choose the template dataset for an aggregation. latest, random, or penultimate
  &lt;Aggregation&gt;
    &lt;typicalDataset&gt;penultimate&lt;/typicalDataset&gt;
  &lt;/Aggregation&gt;
  --&gt;

  &lt;!--
  The Netcdf Subset Service is off by default.
  &lt;NetcdfSubsetService&gt;
    &lt;allow&gt;false&lt;/allow&gt;
    &lt;scour&gt;10 min&lt;/scour&gt;
    &lt;maxAge&gt;-1 min&lt;/maxAge&gt;
  &lt;/NetcdfSubsetService&gt;
  --&gt;

  &lt;!--
  &lt;Opendap&gt;
    &lt;ascLimit&gt;50&lt;/ascLimit&gt;
    &lt;binLimit&gt;500&lt;/binLimit&gt;
    &lt;serverVersion&gt;opendap/3.7&lt;/serverVersion&gt;
  &lt;/Opendap&gt;
    --&gt;
  
  &lt;!--
  The WCS Service is off by default.
  Also, off by default (and encouraged) is operating on a remote dataset.
  &lt;WCS&gt;
    &lt;allow&gt;false&lt;/allow&gt;
    &lt;allowRemote&gt;false&lt;/allowRemote&gt;
    &lt;scour&gt;15 min&lt;/scour&gt;
    &lt;maxAge&gt;30 min&lt;/maxAge&gt;
  &lt;/WCS&gt;
  --&gt;

  &lt;!--
  &lt;WMS&gt;
    &lt;allow&gt;false&lt;/allow&gt;
    &lt;allowRemote&gt;false&lt;/allowRemote&gt;
    &lt;maxImageWidth&gt;2048&lt;/maxImageWidth&gt;
    &lt;maxImageHeight&gt;2048&lt;/maxImageHeight&gt;
  &lt;/WMS&gt;
  --&gt;

  &lt;!--
  &lt;NCISO&gt;
    &lt;ncmlAllow&gt;false&lt;/ncmlAllow&gt;
    &lt;uddcAllow&gt;false&lt;/uddcAllow&gt;
    &lt;isoAllow&gt;false&lt;/isoAllow&gt;
  &lt;/NCISO&gt;
  --&gt;

  &lt;!-- CatalogGen service is off by default.
  &lt;CatalogGen&gt;
    &lt;allow&gt;false&lt;/allow&gt;
  &lt;/CatalogGen&gt;
   --&gt;

  &lt;!-- DLwriter service is off by default.
       As is support for operating on remote catalogs.
  &lt;DLwriter&gt;
    &lt;allow&gt;false&lt;/allow&gt;
    &lt;allowRemote&gt;false&lt;/allowRemote&gt;
  &lt;/DLwriter&gt;
   --&gt;

  &lt;!-- DqcService is off by default.
  &lt;DqcService&gt;
    &lt;allow&gt;false&lt;/allow&gt;
  &lt;/DqcService&gt;
   --&gt;

  &lt;!--
   Link to a Viewer application on the HTML page:
   &lt;Viewer&gt;my.package.MyViewer&lt;/Viewer&gt;
   --&gt;

   &lt;!--
   Add a DataSource - essentially an IOSP with access to Servlet request parameters
   &lt;datasetSource&gt;my.package.DatsetSourceImpl&lt;/datasetSource&gt;
   --&gt;

  &lt;!--
   set FeatureCollection logging
  &lt;FeatureCollection&gt;
     &lt;RollingFileAppender&gt;
       &lt;MaxFileSize&gt;1 MB&lt;/MaxFileSize&gt;
       &lt;MaxBackups&gt;5&lt;/MaxBackups&gt;
       &lt;Level&gt;INFO&lt;/Level&gt;
     &lt;/RollingFileAppender&gt;
  &lt;/FeatureCollection&gt;
  --&gt;

  &lt;!--
    Configure how the NetCDF-4 C library is discovered and used.
    libraryPath: The directory in which the native library is installed.
    libraryName: The name of the native library. This will be used to locate the proper .DLL, .SO, or .DYLIB file
      within the libraryPath directory.
    useForReading: By default, the native library is only used for writing NetCDF-4 files; a pure-Java layer is
      responsible for reading them. However, if this property is set to true, then it will be used for reading
      NetCDF-4 (and HDF5) files as well.
  --&gt;
  &lt;!--
  &lt;Netcdf4Clibrary&gt;
    &lt;libraryPath&gt;/usr/local/lib&lt;/libraryPath&gt;
    &lt;libraryName&gt;netcdf&lt;/libraryName&gt;
    &lt;useForReading&gt;false&lt;/useForReading&gt;
  &lt;/Netcdf4Clibrary&gt;
  --&gt;
&lt;/threddsConfig&gt;</code></pre>
</div>
</div>
<div id="update-the-catalog" class="section level3">
<h3><span class="header-section-number">21.2.9</span> Update the catalog</h3>
<p>For example to update the catalog with the latest data, run the following command from the root crontab. This cronjob will also synchronize the database with remote servers and dump your database (by default in /home/carya/dump)</p>
<pre><code>0 * * * * /home/carya/pecan/scripts/cron.sh -o /home/carya/dump</code></pre>
</div>
<div id="troubleshooting-3" class="section level3">
<h3><span class="header-section-number">21.2.10</span> Troubleshooting</h3>
<p>Refer to the log files for Tomcat (<code>/var/log/tomcat8/*</code>) and Thredds (<code>/home/carya/thredds/logs</code>).</p>
</div>
<div id="further-reading-1" class="section level3">
<h3><span class="header-section-number">21.2.11</span> Further reading</h3>
<ul>
<li><a href="http://www.unidata.ucar.edu/software/thredds/current/tds/">Thredds reference</a></li>
</ul>

</div>
<div id="osinstall" class="section level3">
<h3><span class="header-section-number">21.2.12</span> OS Specific Installations</h3>
<ul>
<li><a href="workflow-modules.html#ubuntu">Ubuntu</a></li>
<li><a href="#centos/redhat">CentOS</a></li>
<li><a href="workflow-modules.html#macosx">OSX</a></li>
<li><a href="workflow-modules.html#install-bety">Install BETY</a> THIS PAGE IS DEPRECATED</li>
<li><a href="workflow-modules.html#install-models">Install Models</a></li>
<li><a href="workflow-modules.html#install-data">Install Data</a></li>
</ul>

<div id="ubuntu" class="section level4">
<h4><span class="header-section-number">21.2.12.1</span> Ubuntu</h4>
<p>These are specific notes for installing PEcAn on Ubuntu (14.04) and will be referenced from the main <a href="Installing-PEcAn">installing PEcAn</a> page. You will at least need to install the build environment and Postgres sections. If you want to access the database/PEcAn using a web browser you will need to install Apache. To access the database using the BETY interface, you will need to have Ruby installed.</p>
<p>This document also contains information on how to install the Rstudio server edition as well as any other packages that can be helpful.</p>
<div id="install-build-environment" class="section level5">
<h5><span class="header-section-number">21.2.12.1.1</span> Install build environment</h5>
<div class="sourceCode" id="cb219"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb219-1" data-line-number="1"><span class="fu">sudo</span> -s</a>
<a class="sourceLine" id="cb219-2" data-line-number="2"></a>
<a class="sourceLine" id="cb219-3" data-line-number="3"><span class="co"># point to latest R</span></a>
<a class="sourceLine" id="cb219-4" data-line-number="4"><span class="bu">echo</span> <span class="st">&quot;deb http://cran.rstudio.com/bin/linux/ubuntu </span><span class="kw">`</span><span class="ex">lsb_release</span> -s -c<span class="kw">`</span><span class="st">/&quot;</span> <span class="op">&gt;</span> /etc/apt/sources.list.d/R.list</a>
<a class="sourceLine" id="cb219-5" data-line-number="5"><span class="ex">apt-key</span> adv --keyserver keyserver.ubuntu.com --recv-keys E084DAB9</a>
<a class="sourceLine" id="cb219-6" data-line-number="6"></a>
<a class="sourceLine" id="cb219-7" data-line-number="7"><span class="co"># update package list</span></a>
<a class="sourceLine" id="cb219-8" data-line-number="8"><span class="ex">apt-get</span> -y update</a>
<a class="sourceLine" id="cb219-9" data-line-number="9"></a>
<a class="sourceLine" id="cb219-10" data-line-number="10"><span class="co"># install packages needed for PEcAn</span></a>
<a class="sourceLine" id="cb219-11" data-line-number="11"><span class="ex">apt-get</span> -y install build-essential gfortran git r-base-core r-base-dev jags liblapack-dev libnetcdf-dev netcdf-bin bc libcurl4-gnutls-dev curl udunits-bin libudunits2-dev libgmp-dev python-dev libgdal1-dev libproj-dev expect</a>
<a class="sourceLine" id="cb219-12" data-line-number="12"></a>
<a class="sourceLine" id="cb219-13" data-line-number="13"><span class="co"># install packages needed for ED2</span></a>
<a class="sourceLine" id="cb219-14" data-line-number="14"><span class="ex">apt-get</span> -y install openmpi-bin libopenmpi-dev</a>
<a class="sourceLine" id="cb219-15" data-line-number="15"></a>
<a class="sourceLine" id="cb219-16" data-line-number="16"><span class="co"># install requirements for DALEC</span></a>
<a class="sourceLine" id="cb219-17" data-line-number="17"><span class="ex">apt-get</span> -y install libgsl0-dev</a>
<a class="sourceLine" id="cb219-18" data-line-number="18"></a>
<a class="sourceLine" id="cb219-19" data-line-number="19"><span class="co"># install packages for webserver</span></a>
<a class="sourceLine" id="cb219-20" data-line-number="20"><span class="ex">apt-get</span> -y install apache2 libapache2-mod-php5 php5</a>
<a class="sourceLine" id="cb219-21" data-line-number="21"></a>
<a class="sourceLine" id="cb219-22" data-line-number="22"><span class="co"># install packages to compile docs</span></a>
<a class="sourceLine" id="cb219-23" data-line-number="23"><span class="ex">apt-get</span> -y install texinfo texlive-latex-base texlive-latex-extra texlive-fonts-recommended</a>
<a class="sourceLine" id="cb219-24" data-line-number="24"></a>
<a class="sourceLine" id="cb219-25" data-line-number="25"><span class="co"># install devtools</span></a>
<a class="sourceLine" id="cb219-26" data-line-number="26"><span class="bu">echo</span> <span class="st">&#39;install.packages(&quot;devtools&quot;, repos=&quot;http://cran.rstudio.com/&quot;)&#39;</span> <span class="kw">|</span> <span class="ex">R</span> --vanilla</a>
<a class="sourceLine" id="cb219-27" data-line-number="27"></a>
<a class="sourceLine" id="cb219-28" data-line-number="28"><span class="co"># done as root</span></a>
<a class="sourceLine" id="cb219-29" data-line-number="29"><span class="bu">exit</span></a></code></pre></div>
</div>
<div id="install-postgres" class="section level5">
<h5><span class="header-section-number">21.2.12.1.2</span> Install Postgres</h5>
<p>Documentation: <a href="http://trac.osgeo.org/postgis/wiki/UsersWikiPostGIS21UbuntuPGSQL93Apt" class="uri">http://trac.osgeo.org/postgis/wiki/UsersWikiPostGIS21UbuntuPGSQL93Apt</a></p>
<div class="sourceCode" id="cb220"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb220-1" data-line-number="1"><span class="fu">sudo</span> -s</a>
<a class="sourceLine" id="cb220-2" data-line-number="2"></a>
<a class="sourceLine" id="cb220-3" data-line-number="3"><span class="co"># point to latest PostgreSQL</span></a>
<a class="sourceLine" id="cb220-4" data-line-number="4"><span class="bu">echo</span> <span class="st">&quot;deb http://apt.postgresql.org/pub/repos/apt </span><span class="kw">`</span><span class="ex">lsb_release</span> -s -c<span class="kw">`</span><span class="st">-pgdg main&quot;</span> <span class="op">&gt;</span> /etc/apt/sources.list.d/pgdg.list</a>
<a class="sourceLine" id="cb220-5" data-line-number="5"><span class="fu">wget</span> --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc <span class="kw">|</span> <span class="ex">apt-key</span> add -</a>
<a class="sourceLine" id="cb220-6" data-line-number="6"></a>
<a class="sourceLine" id="cb220-7" data-line-number="7"><span class="co"># update package list</span></a>
<a class="sourceLine" id="cb220-8" data-line-number="8"><span class="ex">apt-get</span> -y update</a>
<a class="sourceLine" id="cb220-9" data-line-number="9"></a>
<a class="sourceLine" id="cb220-10" data-line-number="10"><span class="co"># install packages for postgresql (using a newer version than default)</span></a>
<a class="sourceLine" id="cb220-11" data-line-number="11"><span class="ex">apt-get</span> -y install libdbd-pgsql postgresql postgresql-client libpq-dev postgresql-9.4-postgis-2.1 postgresql-9.4-postgis-2.1-scripts</a>
<a class="sourceLine" id="cb220-12" data-line-number="12"></a>
<a class="sourceLine" id="cb220-13" data-line-number="13"><span class="co"># install following if you want to run pecan through the web</span></a>
<a class="sourceLine" id="cb220-14" data-line-number="14"><span class="ex">apt-get</span> -y install php5-pgsql</a>
<a class="sourceLine" id="cb220-15" data-line-number="15"></a>
<a class="sourceLine" id="cb220-16" data-line-number="16"><span class="co"># enable bety user to login with trust by adding the following lines after</span></a>
<a class="sourceLine" id="cb220-17" data-line-number="17"><span class="co"># the ability of postgres user to login in /etc/postgresql/9.4/main/pg_hba.conf</span></a>
<a class="sourceLine" id="cb220-18" data-line-number="18"><span class="bu">local</span>   <span class="va">all</span>             <span class="va">bety</span>                                    <span class="va">trust</span></a>
<a class="sourceLine" id="cb220-19" data-line-number="19"><span class="ex">host</span>    all             bety            127.0.0.1/32            trust</a>
<a class="sourceLine" id="cb220-20" data-line-number="20"><span class="ex">host</span>    all             bety            ::1/128                 trust</a>
<a class="sourceLine" id="cb220-21" data-line-number="21"></a>
<a class="sourceLine" id="cb220-22" data-line-number="22"><span class="co"># Once done restart postgresql</span></a>
<a class="sourceLine" id="cb220-23" data-line-number="23"><span class="ex">/etc/init.d/postgresql</span> restart</a>
<a class="sourceLine" id="cb220-24" data-line-number="24"></a>
<a class="sourceLine" id="cb220-25" data-line-number="25"><span class="bu">exit</span></a></code></pre></div>
<p>To install the BETYdb database ..
##### Apache Configuration PEcAn</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb221-1" data-line-number="1"><span class="co"># become root</span></a>
<a class="sourceLine" id="cb221-2" data-line-number="2"><span class="fu">sudo</span> -s</a>
<a class="sourceLine" id="cb221-3" data-line-number="3"></a>
<a class="sourceLine" id="cb221-4" data-line-number="4"><span class="co"># get index page</span></a>
<a class="sourceLine" id="cb221-5" data-line-number="5"><span class="fu">rm</span> /var/www/html/index.html</a>
<a class="sourceLine" id="cb221-6" data-line-number="6"><span class="fu">ln</span> -s <span class="va">${HOME}</span>/pecan/documentation/index_vm.html /var/www/html/index.html</a>
<a class="sourceLine" id="cb221-7" data-line-number="7"></a>
<a class="sourceLine" id="cb221-8" data-line-number="8"><span class="co"># setup a redirect</span></a>
<a class="sourceLine" id="cb221-9" data-line-number="9"><span class="fu">cat</span> <span class="op">&gt;</span> /etc/apache2/conf-available/pecan.conf <span class="op">&lt;&lt; EOF</span></a>
<a class="sourceLine" id="cb221-10" data-line-number="10">Alias /pecan <span class="va">${HOME}</span>/pecan/web</a>
<a class="sourceLine" id="cb221-11" data-line-number="11">&lt;Directory <span class="va">${HOME}</span>/pecan/web&gt;</a>
<a class="sourceLine" id="cb221-12" data-line-number="12">  DirectoryIndex index.php</a>
<a class="sourceLine" id="cb221-13" data-line-number="13">  Options +ExecCGI</a>
<a class="sourceLine" id="cb221-14" data-line-number="14">  Require all granted</a>
<a class="sourceLine" id="cb221-15" data-line-number="15">&lt;/Directory&gt;</a>
<a class="sourceLine" id="cb221-16" data-line-number="16"><span class="op">EOF</span></a>
<a class="sourceLine" id="cb221-17" data-line-number="17"><span class="ex">a2enconf</span> pecan</a>
<a class="sourceLine" id="cb221-18" data-line-number="18"><span class="ex">/etc/init.d/apache2</span> restart</a>
<a class="sourceLine" id="cb221-19" data-line-number="19"></a>
<a class="sourceLine" id="cb221-20" data-line-number="20"><span class="co"># done as root</span></a>
<a class="sourceLine" id="cb221-21" data-line-number="21"><span class="bu">exit</span></a></code></pre></div>
</div>
<div id="apache-configuration-bety" class="section level5">
<h5><span class="header-section-number">21.2.12.1.3</span> Apache Configuration BETY</h5>
<div class="sourceCode" id="cb222"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb222-1" data-line-number="1"><span class="fu">sudo</span> -s</a>
<a class="sourceLine" id="cb222-2" data-line-number="2"></a>
<a class="sourceLine" id="cb222-3" data-line-number="3"><span class="co"># install all ruby related packages</span></a>
<a class="sourceLine" id="cb222-4" data-line-number="4"><span class="ex">apt-get</span> -y install ruby2.0 ruby2.0-dev libapache2-mod-passenger </a>
<a class="sourceLine" id="cb222-5" data-line-number="5"></a>
<a class="sourceLine" id="cb222-6" data-line-number="6"><span class="co"># link static content</span></a>
<a class="sourceLine" id="cb222-7" data-line-number="7"><span class="fu">ln</span> -s <span class="va">${HOME}</span>/bety/public /var/www/html/bety</a>
<a class="sourceLine" id="cb222-8" data-line-number="8"></a>
<a class="sourceLine" id="cb222-9" data-line-number="9"><span class="co"># setup a redirect</span></a>
<a class="sourceLine" id="cb222-10" data-line-number="10"><span class="fu">cat</span> <span class="op">&gt;</span> /etc/apache2/conf-available/bety.conf <span class="op">&lt;&lt; EOF</span></a>
<a class="sourceLine" id="cb222-11" data-line-number="11">RailsEnv production</a>
<a class="sourceLine" id="cb222-12" data-line-number="12">RailsBaseURI /bety</a>
<a class="sourceLine" id="cb222-13" data-line-number="13">PassengerRuby /usr/bin/ruby2.0</a>
<a class="sourceLine" id="cb222-14" data-line-number="14">&lt;Directory /var/www/html/bety&gt;</a>
<a class="sourceLine" id="cb222-15" data-line-number="15">  Options +FollowSymLinks</a>
<a class="sourceLine" id="cb222-16" data-line-number="16">  Require all granted</a>
<a class="sourceLine" id="cb222-17" data-line-number="17">&lt;/Directory&gt;</a>
<a class="sourceLine" id="cb222-18" data-line-number="18"><span class="op">EOF</span></a>
<a class="sourceLine" id="cb222-19" data-line-number="19"><span class="ex">a2enconf</span> bety</a>
<a class="sourceLine" id="cb222-20" data-line-number="20"><span class="ex">/etc/init.d/apache2</span> restart</a></code></pre></div>
</div>
<div id="rstudio-server" class="section level5">
<h5><span class="header-section-number">21.2.12.1.4</span> Rstudio-server</h5>
<p><em>NOTE This will allow anybody to login to the machine through the rstudio interface and run any arbitrary code. The login used however is the same as the system login/password.</em></p>
<div class="sourceCode" id="cb223"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb223-1" data-line-number="1"><span class="fu">wget</span> http://download2.rstudio.org/rstudio-server-0.98.1103-amd64.deb</a></code></pre></div>
<div class="sourceCode" id="cb224"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb224-1" data-line-number="1"><span class="co"># bceome root</span></a>
<a class="sourceLine" id="cb224-2" data-line-number="2"><span class="fu">sudo</span> -s</a>
<a class="sourceLine" id="cb224-3" data-line-number="3"></a>
<a class="sourceLine" id="cb224-4" data-line-number="4"><span class="co"># install required packages</span></a>
<a class="sourceLine" id="cb224-5" data-line-number="5"><span class="ex">apt-get</span> -y install libapparmor1 apparmor-utils libssl0.9.8</a>
<a class="sourceLine" id="cb224-6" data-line-number="6"></a>
<a class="sourceLine" id="cb224-7" data-line-number="7"><span class="co"># install rstudio</span></a>
<a class="sourceLine" id="cb224-8" data-line-number="8"><span class="ex">dpkg</span> -i rstudio-server-*</a>
<a class="sourceLine" id="cb224-9" data-line-number="9"><span class="fu">rm</span> rstudio-server-*</a>
<a class="sourceLine" id="cb224-10" data-line-number="10"><span class="bu">echo</span> <span class="st">&quot;www-address=127.0.0.1&quot;</span> <span class="op">&gt;&gt;</span> /etc/rstudio/rserver.conf</a>
<a class="sourceLine" id="cb224-11" data-line-number="11"><span class="bu">echo</span> <span class="st">&quot;r-libs-user=~/R/library&quot;</span> <span class="op">&gt;&gt;</span> /etc/rstudio/rsession.conf</a>
<a class="sourceLine" id="cb224-12" data-line-number="12"><span class="ex">rstudio-server</span> restart</a>
<a class="sourceLine" id="cb224-13" data-line-number="13"></a>
<a class="sourceLine" id="cb224-14" data-line-number="14"><span class="co"># setup rstudio forwarding in apache</span></a>
<a class="sourceLine" id="cb224-15" data-line-number="15"><span class="ex">a2enmod</span> proxy_http</a>
<a class="sourceLine" id="cb224-16" data-line-number="16"><span class="fu">cat</span> <span class="op">&gt;</span> /etc/apache2/conf-available/rstudio.conf <span class="op">&lt;&lt; EOF</span></a>
<a class="sourceLine" id="cb224-17" data-line-number="17">ProxyPass        /rstudio/ http://localhost:8787/</a>
<a class="sourceLine" id="cb224-18" data-line-number="18">ProxyPassReverse /rstudio/ http://localhost:8787/</a>
<a class="sourceLine" id="cb224-19" data-line-number="19">RedirectMatch permanent ^/rstudio$ /rstudio/</a>
<a class="sourceLine" id="cb224-20" data-line-number="20"><span class="op">EOF</span></a>
<a class="sourceLine" id="cb224-21" data-line-number="21"><span class="ex">a2enconf</span> rstudio</a>
<a class="sourceLine" id="cb224-22" data-line-number="22"><span class="ex">/etc/init.d/apache2</span> restart</a>
<a class="sourceLine" id="cb224-23" data-line-number="23"></a>
<a class="sourceLine" id="cb224-24" data-line-number="24"><span class="co"># all done, exit root</span></a>
<a class="sourceLine" id="cb224-25" data-line-number="25"><span class="bu">exit</span></a></code></pre></div>
</div>
<div id="additional-packages" class="section level5">
<h5><span class="header-section-number">21.2.12.1.5</span> Additional packages</h5>
<p>HDF5 Tools, netcdf, GDB and emacs</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb225-1" data-line-number="1"><span class="fu">sudo</span> apt-get -y install hdf5-tools cdo nco netcdf-bin ncview gdb emacs ess nedit</a></code></pre></div>

</div>
</div>
<div id="centosredhat-centosredhat" class="section level4">
<h4><span class="header-section-number">21.2.12.2</span> CentOS/RedHat {#centos/redhat}</h4>
<p>These are specific notes for installing PEcAn on CentOS (7) and will be referenced from the main <a href="Installing-PEcAn">installing PEcAn</a> page. You will at least need to install the build environment and Postgres sections. If you want to access the database/PEcAn using a web browser you will need to install Apache. To access the database using the BETY interface, you will need to have Ruby installed.</p>
<p>This document also contains information on how to install the Rstudio server edition as well as any other packages that can be helpful.</p>
<div id="install-build-environment-1" class="section level5">
<h5><span class="header-section-number">21.2.12.2.1</span> Install build environment</h5>
<div class="sourceCode" id="cb226"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb226-1" data-line-number="1"><span class="fu">sudo</span> -s</a>
<a class="sourceLine" id="cb226-2" data-line-number="2"></a>
<a class="sourceLine" id="cb226-3" data-line-number="3"><span class="co"># install packages needed for PEcAn</span></a>
<a class="sourceLine" id="cb226-4" data-line-number="4"><span class="ex">yum</span> -y groupinstall <span class="st">&#39;Development Tools&#39;</span> </a>
<a class="sourceLine" id="cb226-5" data-line-number="5"><span class="ex">yum</span> -y install git netcdf-fortran-openmpi-devel R bc curl libxml2-devel openssl-devel ed  udunits2 udunits2-devel netcdf netcdf-devel gmp-devel python-devel gdal-devel proj-devel proj-epsg expect</a>
<a class="sourceLine" id="cb226-6" data-line-number="6"></a>
<a class="sourceLine" id="cb226-7" data-line-number="7"><span class="co"># jags</span></a>
<a class="sourceLine" id="cb226-8" data-line-number="8"><span class="ex">yum</span> -y install http://download.opensuse.org/repositories/home:/cornell_vrdc/CentOS_7/x86_64/jags3-3.4.0-54.1.x86_64.rpm</a>
<a class="sourceLine" id="cb226-9" data-line-number="9"><span class="ex">yum</span> -y install http://download.opensuse.org/repositories/home:/cornell_vrdc/CentOS_7/x86_64/jags3-devel-3.4.0-54.1.x86_64.rpm</a>
<a class="sourceLine" id="cb226-10" data-line-number="10"></a>
<a class="sourceLine" id="cb226-11" data-line-number="11"><span class="co"># fix include folder for udunits2</span></a>
<a class="sourceLine" id="cb226-12" data-line-number="12"><span class="fu">ln</span> -s /usr/include/udunits2/* /usr/include/</a>
<a class="sourceLine" id="cb226-13" data-line-number="13"></a>
<a class="sourceLine" id="cb226-14" data-line-number="14"><span class="co"># install packages needed for ED2</span></a>
<a class="sourceLine" id="cb226-15" data-line-number="15"><span class="ex">yum</span> -y install environment-modules openmpi-bin libopenmpi-dev</a>
<a class="sourceLine" id="cb226-16" data-line-number="16"></a>
<a class="sourceLine" id="cb226-17" data-line-number="17"><span class="co"># install requirements for DALEC</span></a>
<a class="sourceLine" id="cb226-18" data-line-number="18"><span class="ex">yum</span> -y install gsl-devel</a>
<a class="sourceLine" id="cb226-19" data-line-number="19"></a>
<a class="sourceLine" id="cb226-20" data-line-number="20"><span class="co"># install packages for webserver</span></a>
<a class="sourceLine" id="cb226-21" data-line-number="21"><span class="ex">yum</span> -y install httpd php</a>
<a class="sourceLine" id="cb226-22" data-line-number="22"><span class="ex">systemctl</span> enable httpd</a>
<a class="sourceLine" id="cb226-23" data-line-number="23"><span class="ex">systemctl</span> start httpd</a>
<a class="sourceLine" id="cb226-24" data-line-number="24"><span class="ex">firewall-cmd</span> --zone=public --add-port=80/tcp --permanent</a>
<a class="sourceLine" id="cb226-25" data-line-number="25"><span class="ex">firewall-cmd</span> --reload</a>
<a class="sourceLine" id="cb226-26" data-line-number="26"></a>
<a class="sourceLine" id="cb226-27" data-line-number="27"><span class="co"># install packages to compile docs</span></a>
<a class="sourceLine" id="cb226-28" data-line-number="28"><span class="co">#apt-get -y install texinfo texlive-latex-base texlive-latex-extra texlive-fonts-recommended</span></a>
<a class="sourceLine" id="cb226-29" data-line-number="29"></a>
<a class="sourceLine" id="cb226-30" data-line-number="30"><span class="co"># install devtools</span></a>
<a class="sourceLine" id="cb226-31" data-line-number="31"><span class="bu">echo</span> <span class="st">&#39;install.packages(&quot;devtools&quot;, repos=&quot;http://cran.rstudio.com/&quot;)&#39;</span> <span class="kw">|</span> <span class="ex">R</span> --vanilla</a>
<a class="sourceLine" id="cb226-32" data-line-number="32"></a>
<a class="sourceLine" id="cb226-33" data-line-number="33"><span class="co"># done as root</span></a>
<a class="sourceLine" id="cb226-34" data-line-number="34"><span class="bu">exit</span></a>
<a class="sourceLine" id="cb226-35" data-line-number="35"></a>
<a class="sourceLine" id="cb226-36" data-line-number="36"><span class="bu">echo</span> <span class="st">&quot;module load mpi&quot;</span> <span class="op">&gt;&gt;</span> ~/.bashrc</a>
<a class="sourceLine" id="cb226-37" data-line-number="37"><span class="ex">module</span> load mpi</a></code></pre></div>
<div id="install-and-configure-postgresql-udunits2-netcdf" class="section level6">
<h6><span class="header-section-number">21.2.12.2.1.1</span> Install and configure PostgreSQL, udunits2, NetCDF</h6>
<div class="sourceCode" id="cb227"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb227-1" data-line-number="1"><span class="fu">sudo</span> -s</a>
<a class="sourceLine" id="cb227-2" data-line-number="2"></a>
<a class="sourceLine" id="cb227-3" data-line-number="3"><span class="co"># point to latest PostgreSQL</span></a>
<a class="sourceLine" id="cb227-4" data-line-number="4"><span class="ex">yum</span> install -y epel-release </a>
<a class="sourceLine" id="cb227-5" data-line-number="5"><span class="ex">yum</span> -y install http://yum.postgresql.org/9.4/redhat/rhel-7-x86_64/pgdg-centos94-9.4-1.noarch.rpm</a>
<a class="sourceLine" id="cb227-6" data-line-number="6"></a>
<a class="sourceLine" id="cb227-7" data-line-number="7"><span class="co"># install packages for postgresql (using a newer version than default)</span></a>
<a class="sourceLine" id="cb227-8" data-line-number="8"><span class="ex">yum</span> -y install postgresql94-server postgresql94-contrib postgis2_94 postgresql94-devel udunits2 netcdf</a>
<a class="sourceLine" id="cb227-9" data-line-number="9"></a>
<a class="sourceLine" id="cb227-10" data-line-number="10"><span class="co"># install following if you want to run pecan through the web</span></a>
<a class="sourceLine" id="cb227-11" data-line-number="11"><span class="ex">yum</span> -y install php-pgsql</a>
<a class="sourceLine" id="cb227-12" data-line-number="12"></a>
<a class="sourceLine" id="cb227-13" data-line-number="13"><span class="co"># enable bety user to login with trust by adding the following lines after</span></a>
<a class="sourceLine" id="cb227-14" data-line-number="14"><span class="co"># the ability of postgres user to login in /var/lib/pgsql/9.4/data/pg_hba.conf</span></a>
<a class="sourceLine" id="cb227-15" data-line-number="15"><span class="bu">local</span>   <span class="va">all</span>             <span class="va">bety</span>                                    <span class="va">trust</span></a>
<a class="sourceLine" id="cb227-16" data-line-number="16"><span class="ex">host</span>    all             bety            127.0.0.1/32            trust</a>
<a class="sourceLine" id="cb227-17" data-line-number="17"><span class="ex">host</span>    all             bety            ::1/128                 trust</a>
<a class="sourceLine" id="cb227-18" data-line-number="18"></a>
<a class="sourceLine" id="cb227-19" data-line-number="19"><span class="co"># Create database</span></a>
<a class="sourceLine" id="cb227-20" data-line-number="20"><span class="ex">/usr/pgsql-9.4/bin/postgresql94-setup</span> initdb</a>
<a class="sourceLine" id="cb227-21" data-line-number="21"></a>
<a class="sourceLine" id="cb227-22" data-line-number="22"><span class="co"># Enable postgres</span></a>
<a class="sourceLine" id="cb227-23" data-line-number="23"><span class="ex">systemctl</span> enable postgresql-9.4</a>
<a class="sourceLine" id="cb227-24" data-line-number="24"><span class="ex">systemctl</span> start postgresql-9.4</a>
<a class="sourceLine" id="cb227-25" data-line-number="25"></a>
<a class="sourceLine" id="cb227-26" data-line-number="26"><span class="bu">exit</span></a></code></pre></div>
</div>
</div>
<div id="apache-configuration-pecan" class="section level5">
<h5><span class="header-section-number">21.2.12.2.2</span> Apache Configuration PEcAn</h5>
<p>Install and Start Apache</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb228-1" data-line-number="1"><span class="ex">yum</span> -y install httpd</a>
<a class="sourceLine" id="cb228-2" data-line-number="2"><span class="ex">systemctl</span> enable httpd</a>
<a class="sourceLine" id="cb228-3" data-line-number="3"><span class="ex">systemctl</span> start httpd</a></code></pre></div>
<div class="sourceCode" id="cb229"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb229-1" data-line-number="1"><span class="co"># become root</span></a>
<a class="sourceLine" id="cb229-2" data-line-number="2"><span class="fu">sudo</span> -s</a>
<a class="sourceLine" id="cb229-3" data-line-number="3"></a>
<a class="sourceLine" id="cb229-4" data-line-number="4"><span class="co"># get index page</span></a>
<a class="sourceLine" id="cb229-5" data-line-number="5"><span class="fu">rm</span> /var/www/html/index.html</a>
<a class="sourceLine" id="cb229-6" data-line-number="6"><span class="fu">ln</span> -s /home/carya/pecan/documentation/index_vm.html /var/www/html/index.html</a>
<a class="sourceLine" id="cb229-7" data-line-number="7"></a>
<a class="sourceLine" id="cb229-8" data-line-number="8"><span class="co"># fix selinux context (does this need to be done after PEcAn is installed?)</span></a>
<a class="sourceLine" id="cb229-9" data-line-number="9"><span class="ex">chcon</span> -R -t httpd_sys_content_t /home/carya/pecan /home/carya/output</a>
<a class="sourceLine" id="cb229-10" data-line-number="10"></a>
<a class="sourceLine" id="cb229-11" data-line-number="11"><span class="co"># setup a redirect</span></a>
<a class="sourceLine" id="cb229-12" data-line-number="12"><span class="fu">cat</span> <span class="op">&gt;</span> /etc/httpd/conf.d/pecan.conf <span class="op">&lt;&lt; EOF</span></a>
<a class="sourceLine" id="cb229-13" data-line-number="13">Alias /pecan /home/carya/pecan/web</a>
<a class="sourceLine" id="cb229-14" data-line-number="14">&lt;Directory /home/carya/pecan/web&gt;</a>
<a class="sourceLine" id="cb229-15" data-line-number="15">  DirectoryIndex index.php</a>
<a class="sourceLine" id="cb229-16" data-line-number="16">  Options +ExecCGI</a>
<a class="sourceLine" id="cb229-17" data-line-number="17">  Require all granted</a>
<a class="sourceLine" id="cb229-18" data-line-number="18">&lt;/Directory&gt;</a>
<a class="sourceLine" id="cb229-19" data-line-number="19"><span class="op">EOF</span></a>
<a class="sourceLine" id="cb229-20" data-line-number="20"><span class="ex">a2enconf</span> pecan</a>
<a class="sourceLine" id="cb229-21" data-line-number="21"><span class="ex">/etc/init.d/apache2</span> restart</a>
<a class="sourceLine" id="cb229-22" data-line-number="22"></a>
<a class="sourceLine" id="cb229-23" data-line-number="23"><span class="co"># done as root</span></a>
<a class="sourceLine" id="cb229-24" data-line-number="24"><span class="bu">exit</span></a></code></pre></div>
</div>
<div id="apache-configuration-bety-1" class="section level5">
<h5><span class="header-section-number">21.2.12.2.3</span> Apache Configuration BETY</h5>
<div class="sourceCode" id="cb230"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb230-1" data-line-number="1"><span class="fu">sudo</span> -s</a>
<a class="sourceLine" id="cb230-2" data-line-number="2"></a>
<a class="sourceLine" id="cb230-3" data-line-number="3"><span class="co"># install all ruby related packages</span></a>
<a class="sourceLine" id="cb230-4" data-line-number="4"><span class="fu">sudo</span> curl --fail -sSLo /etc/yum.repos.d/passenger.repo https://oss-binaries.phusionpassenger.com/yum/definitions/el-passenger.repo</a>
<a class="sourceLine" id="cb230-5" data-line-number="5"><span class="ex">yum</span> -y install ruby ruby-devel mod_passenger</a>
<a class="sourceLine" id="cb230-6" data-line-number="6"></a>
<a class="sourceLine" id="cb230-7" data-line-number="7"><span class="co"># link static content</span></a>
<a class="sourceLine" id="cb230-8" data-line-number="8"><span class="fu">ln</span> -s /home/carya/bety/public /var/www/html/bety</a>
<a class="sourceLine" id="cb230-9" data-line-number="9"></a>
<a class="sourceLine" id="cb230-10" data-line-number="10"><span class="co"># fix GemFile</span></a>
<a class="sourceLine" id="cb230-11" data-line-number="11"><span class="bu">echo</span> <span class="st">&#39;gem &quot;test-unit&quot;&#39;</span> <span class="op">&gt;&gt;</span> bety/Gemlile</a>
<a class="sourceLine" id="cb230-12" data-line-number="12"></a>
<a class="sourceLine" id="cb230-13" data-line-number="13"><span class="co"># fix selinux context (does this need to be done after bety is installed?)</span></a>
<a class="sourceLine" id="cb230-14" data-line-number="14"><span class="ex">chcon</span> -R -t httpd_sys_content_t /home/carya/bety</a>
<a class="sourceLine" id="cb230-15" data-line-number="15"></a>
<a class="sourceLine" id="cb230-16" data-line-number="16"><span class="co"># setup a redirect</span></a>
<a class="sourceLine" id="cb230-17" data-line-number="17"><span class="fu">cat</span> <span class="op">&gt;</span> /etc/httpd/conf.d/bety.conf <span class="op">&lt;&lt; EOF</span></a>
<a class="sourceLine" id="cb230-18" data-line-number="18">RailsEnv production</a>
<a class="sourceLine" id="cb230-19" data-line-number="19">RailsBaseURI /bety</a>
<a class="sourceLine" id="cb230-20" data-line-number="20">PassengerRuby /usr/bin/ruby</a>
<a class="sourceLine" id="cb230-21" data-line-number="21">&lt;Directory /var/www/html/bety&gt;</a>
<a class="sourceLine" id="cb230-22" data-line-number="22">  Options +FollowSymLinks</a>
<a class="sourceLine" id="cb230-23" data-line-number="23">  Require all granted</a>
<a class="sourceLine" id="cb230-24" data-line-number="24">&lt;/Directory&gt;</a>
<a class="sourceLine" id="cb230-25" data-line-number="25"><span class="op">EOF</span></a>
<a class="sourceLine" id="cb230-26" data-line-number="26"><span class="ex">systemctl</span> restart httpd</a></code></pre></div>
</div>
<div id="rstudio-server-1" class="section level5">
<h5><span class="header-section-number">21.2.12.2.4</span> Rstudio-server</h5>
<p>NEED FIXING</p>
<p><em>NOTE This will allow anybody to login to the machine through the rstudio interface and run any arbitrary code. The login used however is the same as the system login/password.</em></p>
<div class="sourceCode" id="cb231"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb231-1" data-line-number="1"><span class="fu">wget</span> http://download2.rstudio.org/rstudio-server-0.98.1103-amd64.deb</a></code></pre></div>
<div class="sourceCode" id="cb232"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb232-1" data-line-number="1"><span class="co"># bceome root</span></a>
<a class="sourceLine" id="cb232-2" data-line-number="2"><span class="fu">sudo</span> -s</a>
<a class="sourceLine" id="cb232-3" data-line-number="3"></a>
<a class="sourceLine" id="cb232-4" data-line-number="4"><span class="co"># install required packages</span></a>
<a class="sourceLine" id="cb232-5" data-line-number="5"><span class="ex">apt-get</span> -y install libapparmor1 apparmor-utils libssl0.9.8</a>
<a class="sourceLine" id="cb232-6" data-line-number="6"></a>
<a class="sourceLine" id="cb232-7" data-line-number="7"><span class="co"># install rstudio</span></a>
<a class="sourceLine" id="cb232-8" data-line-number="8"><span class="ex">dpkg</span> -i rstudio-server-*</a>
<a class="sourceLine" id="cb232-9" data-line-number="9"><span class="fu">rm</span> rstudio-server-*</a>
<a class="sourceLine" id="cb232-10" data-line-number="10"><span class="bu">echo</span> <span class="st">&quot;www-address=127.0.0.1&quot;</span> <span class="op">&gt;&gt;</span> /etc/rstudio/rserver.conf</a>
<a class="sourceLine" id="cb232-11" data-line-number="11"><span class="bu">echo</span> <span class="st">&quot;r-libs-user=~/R/library&quot;</span> <span class="op">&gt;&gt;</span> /etc/rstudio/rsession.conf</a>
<a class="sourceLine" id="cb232-12" data-line-number="12"><span class="ex">rstudio-server</span> restart</a>
<a class="sourceLine" id="cb232-13" data-line-number="13"></a>
<a class="sourceLine" id="cb232-14" data-line-number="14"><span class="co"># setup rstudio forwarding in apache</span></a>
<a class="sourceLine" id="cb232-15" data-line-number="15"><span class="ex">a2enmod</span> proxy_http</a>
<a class="sourceLine" id="cb232-16" data-line-number="16"><span class="fu">cat</span> <span class="op">&gt;</span> /etc/apache2/conf-available/rstudio.conf <span class="op">&lt;&lt; EOF</span></a>
<a class="sourceLine" id="cb232-17" data-line-number="17">ProxyPass        /rstudio/ http://localhost:8787/</a>
<a class="sourceLine" id="cb232-18" data-line-number="18">ProxyPassReverse /rstudio/ http://localhost:8787/</a>
<a class="sourceLine" id="cb232-19" data-line-number="19">RedirectMatch permanent ^/rstudio$ /rstudio/</a>
<a class="sourceLine" id="cb232-20" data-line-number="20"><span class="op">EOF</span></a>
<a class="sourceLine" id="cb232-21" data-line-number="21"><span class="ex">a2enconf</span> rstudio</a>
<a class="sourceLine" id="cb232-22" data-line-number="22"><span class="ex">/etc/init.d/apache2</span> restart</a>
<a class="sourceLine" id="cb232-23" data-line-number="23"></a>
<a class="sourceLine" id="cb232-24" data-line-number="24"><span class="co"># all done, exit root</span></a>
<a class="sourceLine" id="cb232-25" data-line-number="25"><span class="bu">exit</span></a></code></pre></div>
<p><em>Alternative Rstudio instructions</em></p>
</div>
<div id="install-and-configure-rstudio-server" class="section level5">
<h5><span class="header-section-number">21.2.12.2.5</span> Install and configure Rstudio-server</h5>
<p>Install RStudio Server by following the <a href="https://www.rstudio.com/products/rstudio/download-server/">official documentation</a> for your platform.
Then, proceed with the following:</p>
<ul>
<li>add <code>PATH=$PATH:/usr/sbin:/sbin</code> to <code>/etc/profile</code></li>
</ul>
<div class="sourceCode" id="cb233"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb233-1" data-line-number="1">   <span class="fu">cat</span> <span class="st">&quot;PATH=</span><span class="va">$PATH</span><span class="st">:/usr/sbin:/sbin; export PATH&quot;</span> <span class="op">&gt;&gt;</span> /etc/profile</a></code></pre></div>
<ul>
<li>add <a href="https://gist.github.com/dlebauer/6921889">rstudio.conf</a> to /etc/httpd/conf.d/</li>
</ul>
<div class="sourceCode" id="cb234"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb234-1" data-line-number="1">   <span class="fu">wget</span> https://gist.github.com/dlebauer/6921889/raw/d1e0f945228e5519afa6223d6f49d6e0617262bd/rstudio.conf</a>
<a class="sourceLine" id="cb234-2" data-line-number="2">   <span class="fu">sudo</span> mv rstudio.conf /httpd/conf.d/</a></code></pre></div>
<ul>
<li>restart the Apache server: <code>sudo httpd restart</code></li>
<li>now you should be able to access <code>http://&lt;server&gt;/rstudio</code></li>
</ul>
<div id="install-ruby-netcdf-gem" class="section level6">
<h6><span class="header-section-number">21.2.12.2.5.1</span> Install ruby-netcdf gem</h6>
<div class="sourceCode" id="cb235"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb235-1" data-line-number="1"><span class="bu">cd</span> <span class="va">$RUBY_APPLICATION_HOME</span></a>
<a class="sourceLine" id="cb235-2" data-line-number="2"><span class="bu">export</span> <span class="va">$NETCDF_URL=</span>http://www.gfd-dennou.org/arch/ruby/products/ruby-netcdf/release/ruby-netcdf-0.6.6.tar.gz</a>
<a class="sourceLine" id="cb235-3" data-line-number="3"><span class="bu">export</span> <span class="va">$NETCDF_DIR=</span>/usr/local/netcdf</a>
<a class="sourceLine" id="cb235-4" data-line-number="4"><span class="ex">gem</span> install narray</a>
<a class="sourceLine" id="cb235-5" data-line-number="5"><span class="bu">export</span> <span class="va">NARRAY_DIR=</span><span class="st">&quot;</span><span class="va">$(</span><span class="fu">ls</span> <span class="va">$GEM_HOME</span>/gems <span class="kw">|</span> <span class="fu">grep</span> <span class="st">&#39;narray-&#39;</span><span class="va">)</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb235-6" data-line-number="6"><span class="bu">export</span> <span class="va">NARRAY_PATH=</span><span class="st">&quot;</span><span class="va">$GEM_HOME</span><span class="st">/gems/</span><span class="va">$NARRAY_DIR</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb235-7" data-line-number="7"><span class="bu">cd</span> <span class="va">$MY_RUBY_HOME</span>/bin</a>
<a class="sourceLine" id="cb235-8" data-line-number="8"><span class="fu">wget</span> <span class="va">$NETCDF_URL</span> -O ruby-netcdf.tgz</a>
<a class="sourceLine" id="cb235-9" data-line-number="9"><span class="fu">tar</span> zxf ruby-netcdf.tgz <span class="kw">&amp;&amp;</span> <span class="bu">cd</span> ruby-netcdf-0.6.6/</a>
<a class="sourceLine" id="cb235-10" data-line-number="10"><span class="ex">ruby</span> -rubygems extconf.rb --with-narray-include=<span class="va">$NARRAY_PATH</span> --with-netcdf-dir=/usr/local/netcdf-4.3.0</a>
<a class="sourceLine" id="cb235-11" data-line-number="11"><span class="fu">sed</span> -i <span class="st">&#39;s|rb/$|rb|&#39;</span> Makefile</a>
<a class="sourceLine" id="cb235-12" data-line-number="12"><span class="fu">make</span></a>
<a class="sourceLine" id="cb235-13" data-line-number="13"><span class="fu">make</span> install</a>
<a class="sourceLine" id="cb235-14" data-line-number="14"><span class="bu">cd</span> ../ <span class="kw">&amp;&amp;</span> <span class="fu">sudo</span> rm -rf ruby-netcdf*</a>
<a class="sourceLine" id="cb235-15" data-line-number="15"></a>
<a class="sourceLine" id="cb235-16" data-line-number="16"><span class="bu">cd</span> <span class="va">$RUBY_APPLICATION</span></a>
<a class="sourceLine" id="cb235-17" data-line-number="17"><span class="ex">bundle</span> install --without development</a></code></pre></div>
</div>
</div>
<div id="additional-packages-1" class="section level5">
<h5><span class="header-section-number">21.2.12.2.6</span> Additional packages</h5>
<p>NEED FIXING</p>
<p>HDF5 Tools, netcdf, GDB and emacs</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb236-1" data-line-number="1"><span class="fu">sudo</span> apt-get -y install hdf5-tools cdo nco netcdf-bin ncview gdb emacs ess nedit</a></code></pre></div>

</div>
</div>
<div id="macosx" class="section level4">
<h4><span class="header-section-number">21.2.12.3</span> Mac OSX</h4>
<p>These are specific notes for installing PEcAn on Mac OSX and will be referenced from the main <a href="Installing-PEcAn">installing PEcAn</a> page. You will at least need to install the build environment and Postgres sections. If you want to access the database/PEcAn using a web browser you will need to install Apache. To access the database using the BETY interface, you will need to have Ruby installed.</p>
<p>This document also contains information on how to install the Rstudio server edition as well as any other packages that can be helpful.</p>
<div id="install-build-environment-2" class="section level5">
<h5><span class="header-section-number">21.2.12.3.1</span> Install build environment</h5>
<div class="sourceCode" id="cb237"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb237-1" data-line-number="1"><span class="co"># install R</span></a>
<a class="sourceLine" id="cb237-2" data-line-number="2"><span class="co"># download from http://cran.r-project.org/bin/macosx/</span></a>
<a class="sourceLine" id="cb237-3" data-line-number="3"></a>
<a class="sourceLine" id="cb237-4" data-line-number="4"><span class="co"># install gfortran </span></a>
<a class="sourceLine" id="cb237-5" data-line-number="5"><span class="co"># download from http://cran.r-project.org/bin/macosx/tools/</span></a>
<a class="sourceLine" id="cb237-6" data-line-number="6"></a>
<a class="sourceLine" id="cb237-7" data-line-number="7"><span class="co"># install OpenMPI</span></a>
<a class="sourceLine" id="cb237-8" data-line-number="8"><span class="ex">curl</span> -o openmpi-1.6.3.tar.gz http://www.open-mpi.org/software/ompi/v1.6/downloads/openmpi-1.6.3.tar.gz</a>
<a class="sourceLine" id="cb237-9" data-line-number="9"><span class="fu">tar</span> zxf openmpi-1.6.3.tar.gz</a>
<a class="sourceLine" id="cb237-10" data-line-number="10"><span class="bu">cd</span> openmpi-1.6.3</a>
<a class="sourceLine" id="cb237-11" data-line-number="11"><span class="ex">./configure</span> --prefix=/usr/local</a>
<a class="sourceLine" id="cb237-12" data-line-number="12"><span class="fu">make</span> all</a>
<a class="sourceLine" id="cb237-13" data-line-number="13"><span class="fu">sudo</span> make install</a>
<a class="sourceLine" id="cb237-14" data-line-number="14"><span class="bu">cd</span> ..</a>
<a class="sourceLine" id="cb237-15" data-line-number="15"></a>
<a class="sourceLine" id="cb237-16" data-line-number="16"><span class="co"># install szip</span></a>
<a class="sourceLine" id="cb237-17" data-line-number="17"><span class="ex">curl</span> -o szip-2.1-MacOSX-intel.tar.gz ftp://ftp.hdfgroup.org/lib-external/szip/2.1/bin/szip-2.1-MacOSX-intel.tar.gz</a>
<a class="sourceLine" id="cb237-18" data-line-number="18"><span class="fu">tar</span> zxf szip-2.1-MacOSX-intel.tar.gz</a>
<a class="sourceLine" id="cb237-19" data-line-number="19"><span class="fu">sudo</span> mv szip-2.1-MacOSX-intel /usr/local/szip</a>
<a class="sourceLine" id="cb237-20" data-line-number="20"></a>
<a class="sourceLine" id="cb237-21" data-line-number="21"><span class="co"># install HDF5</span></a>
<a class="sourceLine" id="cb237-22" data-line-number="22"></a>
<a class="sourceLine" id="cb237-23" data-line-number="23"><span class="ex">curl</span> -o hdf5-1.8.11.tar.gz http://www.hdfgroup.org/ftp/HDF5/current/src/hdf5-1.8.11.tar.gz</a>
<a class="sourceLine" id="cb237-24" data-line-number="24"><span class="fu">tar</span> zxf hdf5-1.8.11.tar.gz</a>
<a class="sourceLine" id="cb237-25" data-line-number="25"><span class="bu">cd</span> hdf5-1.8.11</a>
<a class="sourceLine" id="cb237-26" data-line-number="26"><span class="fu">sed</span> -i -e <span class="st">&#39;s/-O3/-O0/g&#39;</span> config/gnu-flags </a>
<a class="sourceLine" id="cb237-27" data-line-number="27"><span class="ex">./configure</span> --prefix=/usr/local/hdf5 --enable-fortran --enable-cxx --with-szlib=/usr/local/szip</a>
<a class="sourceLine" id="cb237-28" data-line-number="28"><span class="fu">make</span></a>
<a class="sourceLine" id="cb237-29" data-line-number="29"><span class="co"># make check</span></a>
<a class="sourceLine" id="cb237-30" data-line-number="30"><span class="fu">sudo</span> make install</a>
<a class="sourceLine" id="cb237-31" data-line-number="31"><span class="co"># sudo make check-install</span></a>
<a class="sourceLine" id="cb237-32" data-line-number="32"><span class="bu">cd</span> ..</a></code></pre></div>
</div>
<div id="install-postgres-1" class="section level5">
<h5><span class="header-section-number">21.2.12.3.2</span> Install Postgres</h5>
<p>For those on a Mac I use the following app for postgresql which has
postgis already installed (<a href="http://postgresapp.com/" class="uri">http://postgresapp.com/</a>)</p>
<p>To get postgis run the following commands in psql:</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb238-1" data-line-number="1"><span class="co">##### Enable PostGIS (includes raster)</span></a>
<a class="sourceLine" id="cb238-2" data-line-number="2"><span class="ex">CREATE</span> EXTENSION postgis<span class="kw">;</span></a>
<a class="sourceLine" id="cb238-3" data-line-number="3"><span class="co">##### Enable Topology</span></a>
<a class="sourceLine" id="cb238-4" data-line-number="4"><span class="ex">CREATE</span> EXTENSION postgis_topology<span class="kw">;</span></a>
<a class="sourceLine" id="cb238-5" data-line-number="5"><span class="co">##### fuzzy matching needed for Tiger</span></a>
<a class="sourceLine" id="cb238-6" data-line-number="6"><span class="ex">CREATE</span> EXTENSION fuzzystrmatch<span class="kw">;</span></a>
<a class="sourceLine" id="cb238-7" data-line-number="7"><span class="co">##### Enable US Tiger Geocoder</span></a>
<a class="sourceLine" id="cb238-8" data-line-number="8"><span class="ex">CREATE</span> EXTENSION postgis_tiger_geocoder<span class="kw">;</span></a></code></pre></div>
<p>To check your postgis run the following command again in psql: <code>SELECT PostGIS_full_version();</code></p>
</div>
<div id="additional-installs" class="section level5">
<h5><span class="header-section-number">21.2.12.3.3</span> Additional installs</h5>
<div id="install-jags" class="section level6">
<h6><span class="header-section-number">21.2.12.3.3.1</span> Install JAGS</h6>
<p>Download JAGS from <a href="http://sourceforge.net/projects/mcmc-jags/files/JAGS/3.x/Mac%20OS%20X/JAGS-Mavericks-3.4.0.dmg/download">http://sourceforge.net/projects/mcmc-jags/files/JAGS/3.x/Mac%20OS%20X/JAGS-Mavericks-3.4.0.dmg/download</a></p>
</div>
<div id="install-udunits" class="section level6">
<h6><span class="header-section-number">21.2.12.3.3.2</span> Install udunits</h6>
<p>Installing udunits-2 on MacOSX is done from source.</p>
<ul>
<li>download most recent <a href="http://www.unidata.ucar.edu/downloads/udunits/index.jsp">version of Udunits here</a></li>
<li>instructions for <a href="http://www.unidata.ucar.edu/software/udunits/udunits-2/udunits2.html#Obtain">compiling from source</a></li>
</ul>
<div class="sourceCode" id="cb239"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb239-1" data-line-number="1"><span class="ex">curl</span> -o udunits-2.1.24.tar.gz ftp://ftp.unidata.ucar.edu/pub/udunits/udunits-2.1.24.tar.gz</a>
<a class="sourceLine" id="cb239-2" data-line-number="2"><span class="fu">tar</span> zxf udunits-2.1.24.tar.gz</a>
<a class="sourceLine" id="cb239-3" data-line-number="3"><span class="bu">cd</span> udunits-2.1.24</a>
<a class="sourceLine" id="cb239-4" data-line-number="4"><span class="ex">./configure</span></a>
<a class="sourceLine" id="cb239-5" data-line-number="5"><span class="fu">make</span></a>
<a class="sourceLine" id="cb239-6" data-line-number="6"><span class="fu">sudo</span> make install</a></code></pre></div>
</div>
</div>
<div id="apache-configuration" class="section level5">
<h5><span class="header-section-number">21.2.12.3.4</span> Apache Configuration</h5>
<p>Mac does not support pdo/postgresql by default. The easiest way to install is use: <a href="http://php-osx.liip.ch/" class="uri">http://php-osx.liip.ch/</a></p>
<p>To enable pecan to run from your webserver.</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb240-1" data-line-number="1"><span class="fu">cat</span> <span class="op">&gt;</span> /etc/apache2/others/pecan.conf <span class="op">&lt;&lt; EOF</span></a>
<a class="sourceLine" id="cb240-2" data-line-number="2">Alias /pecan <span class="va">${PWD}</span>/pecan/web</a>
<a class="sourceLine" id="cb240-3" data-line-number="3">&lt;Directory <span class="va">${PWD}</span>/pecan/web&gt;</a>
<a class="sourceLine" id="cb240-4" data-line-number="4">  DirectoryIndex index.php</a>
<a class="sourceLine" id="cb240-5" data-line-number="5">  Options +All</a>
<a class="sourceLine" id="cb240-6" data-line-number="6">  Require all granted</a>
<a class="sourceLine" id="cb240-7" data-line-number="7">&lt;/Directory&gt;</a>
<a class="sourceLine" id="cb240-8" data-line-number="8"><span class="op">EOF</span></a></code></pre></div>
</div>
<div id="ruby" class="section level5">
<h5><span class="header-section-number">21.2.12.3.5</span> Ruby</h5>
<p>The default version of ruby should work. Or use <a href="https://jewelrybox.unfiniti.com/">JewelryBox</a>.</p>
</div>
<div id="rstudio-server-2" class="section level5">
<h5><span class="header-section-number">21.2.12.3.6</span> Rstudio Server</h5>
<p>For the mac you can download <a href="http://www.rstudio.com/">Rstudio Desktop</a>.</p>

</div>
</div>
<div id="install-bety" class="section level4">
<h4><span class="header-section-number">21.2.12.4</span> Installing BETY</h4>
<p>**************THIS PAGE IS DEPRECATED*************</p>
<p>Official Instructions for BETY are maintained here: <a href="https://pecan.gitbook.io/betydb-documentation" class="uri">https://pecan.gitbook.io/betydb-documentation</a></p>
<p>If you would like to install the Docker Version of BETY, please consult the <a href="docker-index.html#pecan-docker">PEcAn Docker</a> section.</p>
</div>
<div id="install-database-data" class="section level4">
<h4><span class="header-section-number">21.2.12.5</span> Install Database + Data</h4>
<ul>
<li><em>note</em> To install BETYdb without PEcAn, first download the <a href="https://raw.githubusercontent.com/PecanProject/pecan/master/scripts/load.bety.sh"><code>load.bety.sh</code> script</a></li>
</ul>
<div class="sourceCode" id="cb241"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb241-1" data-line-number="1"><span class="co"># install database (code assumes password is bety)</span></a>
<a class="sourceLine" id="cb241-2" data-line-number="2"><span class="fu">sudo</span> -u postgres createuser -d -l -P -R -S bety</a>
<a class="sourceLine" id="cb241-3" data-line-number="3"><span class="fu">sudo</span> -u postgres createdb -O bety bety</a>
<a class="sourceLine" id="cb241-4" data-line-number="4"><span class="fu">sudo</span> -u postgres ./scripts/load.bety.sh -c YES -u YES -r 0</a>
<a class="sourceLine" id="cb241-5" data-line-number="5"><span class="fu">sudo</span> -u postgres ./scripts/load.bety.sh -r 1</a>
<a class="sourceLine" id="cb241-6" data-line-number="6"><span class="fu">sudo</span> -u postgres ./scripts/load.bety.sh -r 2</a>
<a class="sourceLine" id="cb241-7" data-line-number="7"></a>
<a class="sourceLine" id="cb241-8" data-line-number="8"><span class="co"># configure for PEcAn web app (change password if needed)</span></a>
<a class="sourceLine" id="cb241-9" data-line-number="9"><span class="fu">cp</span> web/config.example.php web/config.php </a>
<a class="sourceLine" id="cb241-10" data-line-number="10"></a>
<a class="sourceLine" id="cb241-11" data-line-number="11"><span class="co"># add models to database (VM only)</span></a>
<a class="sourceLine" id="cb241-12" data-line-number="12"><span class="ex">./scripts/add.models.sh</span></a>
<a class="sourceLine" id="cb241-13" data-line-number="13"></a>
<a class="sourceLine" id="cb241-14" data-line-number="14"><span class="co"># add data to database</span></a>
<a class="sourceLine" id="cb241-15" data-line-number="15"><span class="ex">./scripts/add.data.sh</span></a>
<a class="sourceLine" id="cb241-16" data-line-number="16"></a>
<a class="sourceLine" id="cb241-17" data-line-number="17"><span class="co"># create outputs folder</span></a>
<a class="sourceLine" id="cb241-18" data-line-number="18"><span class="fu">mkdir</span> ~/output</a>
<a class="sourceLine" id="cb241-19" data-line-number="19"><span class="fu">chmod</span> 777 ~/output</a></code></pre></div>
</div>
<div id="installing-betydb-web-application" class="section level4">
<h4><span class="header-section-number">21.2.12.6</span> Installing BETYdb Web Application</h4>
<p>There are two flavors of BETY, PHP and RUBY. The PHP version allows for a minimal interaction with the database while the RUBY version allows for full interaction with the database.</p>
<div id="php-version" class="section level5">
<h5><span class="header-section-number">21.2.12.6.1</span> PHP version</h5>
<p>The php version comes with PEcAn and is already configured.</p>
</div>
<div id="ruby-version" class="section level5">
<h5><span class="header-section-number">21.2.12.6.2</span> RUBY version</h5>
<p>The RUBY version requires a few extra packages to be installed first.</p>
<p>Next we install the web app.</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb242-1" data-line-number="1"><span class="co"># install bety</span></a>
<a class="sourceLine" id="cb242-2" data-line-number="2"><span class="bu">cd</span></a>
<a class="sourceLine" id="cb242-3" data-line-number="3"><span class="fu">git</span> clone https://github.com/PecanProject/bety.git</a>
<a class="sourceLine" id="cb242-4" data-line-number="4"></a>
<a class="sourceLine" id="cb242-5" data-line-number="5"><span class="co"># install gems</span></a>
<a class="sourceLine" id="cb242-6" data-line-number="6"><span class="bu">cd</span> bety</a>
<a class="sourceLine" id="cb242-7" data-line-number="7"><span class="fu">sudo</span> gem2.0 install bundler</a>
<a class="sourceLine" id="cb242-8" data-line-number="8"><span class="ex">bundle</span> install --without development:test:javascript_testing:debug</a></code></pre></div>
<p>and configure BETY</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb243-1" data-line-number="1"><span class="co"># create folders for upload folders</span></a>
<a class="sourceLine" id="cb243-2" data-line-number="2"><span class="fu">mkdir</span> paperclip/files paperclip/file_names</a>
<a class="sourceLine" id="cb243-3" data-line-number="3"><span class="fu">chmod</span> 777 paperclip/files paperclip/file_names</a>
<a class="sourceLine" id="cb243-4" data-line-number="4"></a>
<a class="sourceLine" id="cb243-5" data-line-number="5"><span class="co"># create folder for log files</span></a>
<a class="sourceLine" id="cb243-6" data-line-number="6"><span class="fu">mkdir</span> log</a>
<a class="sourceLine" id="cb243-7" data-line-number="7"><span class="fu">touch</span> log/production.log</a>
<a class="sourceLine" id="cb243-8" data-line-number="8"><span class="fu">chmod</span> 0666 log/production.log</a>
<a class="sourceLine" id="cb243-9" data-line-number="9"></a>
<a class="sourceLine" id="cb243-10" data-line-number="10"><span class="co"># fix configuration for vm</span></a>
<a class="sourceLine" id="cb243-11" data-line-number="11"><span class="fu">cp</span> config/additional_environment_vm.rb config/additional_environment.rb</a>
<a class="sourceLine" id="cb243-12" data-line-number="12"><span class="fu">chmod</span> go+w public/javascripts/cache/</a>
<a class="sourceLine" id="cb243-13" data-line-number="13"></a>
<a class="sourceLine" id="cb243-14" data-line-number="14"><span class="co"># setup bety database configuration</span></a>
<a class="sourceLine" id="cb243-15" data-line-number="15"><span class="fu">cat</span> <span class="op">&gt;</span> config/database.yml <span class="op">&lt;&lt; EOF</span></a>
<a class="sourceLine" id="cb243-16" data-line-number="16">production:</a>
<a class="sourceLine" id="cb243-17" data-line-number="17">  adapter: postgis</a>
<a class="sourceLine" id="cb243-18" data-line-number="18">  encoding: utf-8</a>
<a class="sourceLine" id="cb243-19" data-line-number="19">  reconnect: false</a>
<a class="sourceLine" id="cb243-20" data-line-number="20">  database: bety</a>
<a class="sourceLine" id="cb243-21" data-line-number="21">  pool: 5</a>
<a class="sourceLine" id="cb243-22" data-line-number="22">  username: bety</a>
<a class="sourceLine" id="cb243-23" data-line-number="23">  password: bety</a>
<a class="sourceLine" id="cb243-24" data-line-number="24"><span class="op">EOF</span></a>
<a class="sourceLine" id="cb243-25" data-line-number="25"></a>
<a class="sourceLine" id="cb243-26" data-line-number="26"><span class="co"># setup login tokens</span></a>
<a class="sourceLine" id="cb243-27" data-line-number="27"><span class="fu">cat</span> <span class="op">&gt;</span> config/initializers/site_keys.rb <span class="op">&lt;&lt; EOF</span></a>
<a class="sourceLine" id="cb243-28" data-line-number="28">REST_AUTH_SITE_KEY         = &#39;thisisnotasecret&#39;</a>
<a class="sourceLine" id="cb243-29" data-line-number="29">REST_AUTH_DIGEST_STRETCHES = 10</a>
<a class="sourceLine" id="cb243-30" data-line-number="30"><span class="op">EOF</span></a></code></pre></div>

</div>
</div>
<div id="install-models" class="section level4">
<h4><span class="header-section-number">21.2.12.7</span> Install Models</h4>
<p>This page contains instructions on how to download and install ecosystem models that have been or are being coupled to PEcAn.
These instructions have been tested on the PEcAn unbuntu VM. Commands may vary on other operating systems.
Also, some model downloads require permissions before downloading, making them unavailable to the general public. Please contact the PEcAn team if you would like access to a model that is not already installed on the default PEcAn VM.</p>
<ul>
<li><a href="workflow-modules.html#inst-biocro">BioCro</a></li>
<li><a href="workflow-modules.html#inst-clm45">CLM 4.5</a></li>
<li><a href="workflow-modules.html#inst-dalec">DALEC</a></li>
<li><a href="workflow-modules.html#inst-ed2">ED2</a></li>
<li><a href="workflow-modules.html#inst-fates">FATES</a></li>
<li><a href="workflow-modules.html#inst-gday">GDAY</a></li>
<li><a href="workflow-modules.html#inst-jules">JULES</a></li>
<li><a href="workflow-modules.html#inst-linkages">LINKAGES</a></li>
<li><a href="workflow-modules.html#inst-lpj-guess">LPJ-GUESS</a></li>
<li><a href="workflow-modules.html#inst-maespa">MAESPA</a></li>
<li><a href="#inst-sipnet">SIPNET</a></li>
</ul>

</div>
<div id="inst-biocro" class="section level4">
<h4><span class="header-section-number">21.2.12.8</span> BioCro</h4>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb244-1" data-line-number="1"><span class="co"># Public</span></a>
<a class="sourceLine" id="cb244-2" data-line-number="2">echo <span class="st">&#39;devtools::install_github(&quot;ebimodeling/biocro&quot;)&#39;</span> <span class="op">|</span><span class="st"> </span>R <span class="op">--</span>vanilla</a>
<a class="sourceLine" id="cb244-3" data-line-number="3"><span class="co"># Development:</span></a>
<a class="sourceLine" id="cb244-4" data-line-number="4">echo <span class="st">&#39;devtools::install_github(&quot;ebimodeling/biocro-dev&quot;)&#39;</span> <span class="op">|</span><span class="st"> </span>R <span class="op">--</span>vanilla</a></code></pre></div>
<p><em>BioCro Developers:</em> request from <span class="citation">[@dlebauer on GitHub]</span>(<a href="https://github.com/dlebauer" class="uri">https://github.com/dlebauer</a>)</p>

</div>
<div id="inst-clm45" class="section level4">
<h4><span class="header-section-number">21.2.12.9</span> CLM 4.5</h4>
<p>The version of CLM installed on PEcAn is the ORNL branch provided by Dan Ricciuto. This version includes Dan’s point-level CLM processing scripts</p>
<p>Download the code (~300M compressed), input data (1.7GB compressed and expands to 14 GB), and a few misc inputs.</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb245-1" data-line-number="1"><span class="fu">mkdir</span> models</a>
<a class="sourceLine" id="cb245-2" data-line-number="2"><span class="bu">cd</span> models</a>
<a class="sourceLine" id="cb245-3" data-line-number="3"><span class="fu">wget</span> ftp://nacp.ornl.gov/synthesis/2008/firenze/site/clm4_5_1_r085.tar.gz</a>
<a class="sourceLine" id="cb245-4" data-line-number="4"><span class="fu">wget</span> ftp://nacp.ornl.gov/synthesis/2008/firenze/site/clm/ccsm_inputdata.tar.gz</a>
<a class="sourceLine" id="cb245-5" data-line-number="5"><span class="fu">tar</span> -xvzf clm4_5*</a>
<a class="sourceLine" id="cb245-6" data-line-number="6"><span class="fu">tar</span> -xvzf ccsm_inputdata.tar.gz</a>
<a class="sourceLine" id="cb245-7" data-line-number="7"></a>
<a class="sourceLine" id="cb245-8" data-line-number="8"><span class="co">#Parameter file:</span></a>
<a class="sourceLine" id="cb245-9" data-line-number="9"><span class="fu">mkdir</span> /home/carya/models/ccsm_inputdata/lnd/clm2/paramdata</a>
<a class="sourceLine" id="cb245-10" data-line-number="10"><span class="bu">cd</span>  /home/carya/models/ccsm_inputdata/lnd/clm2/paramdata</a>
<a class="sourceLine" id="cb245-11" data-line-number="11"><span class="fu">wget</span> ftp://nacp.ornl.gov/synthesis/2008/firenze/site/clm_params.c130821.nc</a>
<a class="sourceLine" id="cb245-12" data-line-number="12"><span class="fu">wget</span> ftp://nacp.ornl.gov/synthesis/2008/firenze/site/clm_params.c140423.nc</a>
<a class="sourceLine" id="cb245-13" data-line-number="13"></a>
<a class="sourceLine" id="cb245-14" data-line-number="14"><span class="co">#Domain file:</span></a>
<a class="sourceLine" id="cb245-15" data-line-number="15"><span class="bu">cd</span> /home/carya/models/ccsm_inputdata/share/domains/domain.clm/</a>
<a class="sourceLine" id="cb245-16" data-line-number="16"><span class="fu">wget</span> ftp://nacp.ornl.gov/synthesis/2008/firenze/site/domain.lnd.1x1pt_US-UMB_navy.nc</a>
<a class="sourceLine" id="cb245-17" data-line-number="17"></a>
<a class="sourceLine" id="cb245-18" data-line-number="18"><span class="co">#Aggregated met data file:</span></a>
<a class="sourceLine" id="cb245-19" data-line-number="19"><span class="bu">cd</span> /home/carya/models/ccsm_inputdata/atm/datm7/CLM1PT_data/1x1pt_US-UMB</a>
<a class="sourceLine" id="cb245-20" data-line-number="20"><span class="fu">wget</span> ftp://nacp.ornl.gov/synthesis/2008/firenze/site/all_hourly.nc </a>
<a class="sourceLine" id="cb245-21" data-line-number="21"></a>
<a class="sourceLine" id="cb245-22" data-line-number="22"><span class="co">## lightning database</span></a>
<a class="sourceLine" id="cb245-23" data-line-number="23"><span class="bu">cd</span> /home/carya/models/ccsm_inputdata/atm/datm7/NASA_LIS/</a>
<a class="sourceLine" id="cb245-24" data-line-number="24"><span class="fu">wget</span> ftp://nacp.ornl.gov/synthesis/2008/firenze/site/clmforc.Li_2012_climo1995-2011.T62.lnfm_Total_c140423.nc</a>
<a class="sourceLine" id="cb245-25" data-line-number="25"></a>
<a class="sourceLine" id="cb245-26" data-line-number="26"><span class="co">## surface data</span></a>
<a class="sourceLine" id="cb245-27" data-line-number="27"><span class="bu">cd</span> /home/carya/models/ccsm_inputdata/lnd/clm2/surfdata</a>
<a class="sourceLine" id="cb245-28" data-line-number="28"><span class="fu">wget</span> ftp://nacp.ornl.gov/synthesis/2008/firenze/site/clm/surfdata_360x720cru_simyr1850_c130927.nc</a>
<a class="sourceLine" id="cb245-29" data-line-number="29"><span class="bu">cd</span> /home/carya/models/ccsm_inputdata/lnd/clm2/surfdata_map</a>
<a class="sourceLine" id="cb245-30" data-line-number="30"><span class="fu">wget</span> ftp://nacp.ornl.gov/synthesis/2008/firenze/site/clm/surfdata_1x1pt_US-UMB_I1850CLM45CN_simyr1850.nc_new</a>
<a class="sourceLine" id="cb245-31" data-line-number="31"><span class="fu">mv</span> surfdata_1x1pt_US-UMB_I1850CLM45CN_simyr1850.nc_new surfdata_1x1pt_US-UMB_I1850CLM45CN_simyr1850.nc</a></code></pre></div>
<p>Required libraries</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb246-1" data-line-number="1"><span class="fu">sudo</span> apt-get install mercurial csh tcsh subversion cmake</a>
<a class="sourceLine" id="cb246-2" data-line-number="2"></a>
<a class="sourceLine" id="cb246-3" data-line-number="3"><span class="fu">sudo</span> ln -s /usr/bin/make /usr/bin/gmake</a></code></pre></div>
<p>Compile and build default inputs</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb247-1" data-line-number="1"><span class="bu">cd</span> ~/carya/models/clm4_5_1_r085/scripts</a>
<a class="sourceLine" id="cb247-2" data-line-number="2"><span class="ex">python</span> runCLM.py --site US-UMB ––compset I1850CLM45CN --mach ubuntu --ccsm_input /home/carya/models/ccsm_inputdata --tstep 1 --nopointdata --coldstart --cpl_bypass --clean_build</a></code></pre></div>
<div id="clm-test-run" class="section level5">
<h5><span class="header-section-number">21.2.12.9.1</span> CLM Test Run</h5>
<p>You will see a new directory in scripts: US-UMB_I1850CLM45CN
Enter this directory and run (you shouldn’t have to do this normally, but there is a bug with the python script and doing this ensures all files get to the right place):</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb248-1" data-line-number="1"><span class="ex">./US-UMB_I1850CLM45CN.build</span></a></code></pre></div>
<p>Next you are ready to go to the run directory:</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb249-1" data-line-number="1"><span class="ex">/home/carya/models/clm4_5_1_r085/run/US-UMB_I1850CLM45CN/run</span></a></code></pre></div>
<p>Open to edit file: datm.streams.txt.CLM1PT.CLM_USRDAT and check file paths such that all paths start with /home/carya/models/ccsm_inputdata</p>
<p>From this directory, launch the executable that resides in the bld directory:</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb250-1" data-line-number="1"><span class="ex">/home/carya/clm4_5_1_r085/run/US-UMB_I1850CLM45CN/bld/cesm.exe</span></a></code></pre></div>
<p>not sure this was the right location, but wherever the executable is</p>
<p>You should begin to see output files that look like this:
US-UMB_I1850CLM45CN.clm2.h0.yyyy-mm.nc (yyyy is year, mm is month)
These are netcdf files containing monthly averages of lots of variables.</p>
<p>The lnd_in file in the run directory can be modified to change the output file frequency and variables.</p>

</div>
</div>
<div id="inst-dalec" class="section level4">
<h4><span class="header-section-number">21.2.12.10</span> DALEC</h4>
<div class="sourceCode" id="cb251"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb251-1" data-line-number="1"><span class="bu">cd</span></a>
<a class="sourceLine" id="cb251-2" data-line-number="2"><span class="ex">curl</span> -o dalec_EnKF_pub.tgz http://isda.ncsa.illinois.edu/~kooper/EBI/dalec_EnKF_pub.tgz</a>
<a class="sourceLine" id="cb251-3" data-line-number="3"><span class="fu">tar</span> zxf dalec_EnKF_pub.tgz</a>
<a class="sourceLine" id="cb251-4" data-line-number="4"><span class="fu">rm</span> dalec_EnKF_pub.tgz</a>
<a class="sourceLine" id="cb251-5" data-line-number="5"></a>
<a class="sourceLine" id="cb251-6" data-line-number="6"><span class="bu">cd</span> dalec_EnKF_pub</a>
<a class="sourceLine" id="cb251-7" data-line-number="7"><span class="fu">make</span> dalec_EnKF</a>
<a class="sourceLine" id="cb251-8" data-line-number="8"><span class="fu">make</span> dalec_seqMH</a>
<a class="sourceLine" id="cb251-9" data-line-number="9"><span class="fu">sudo</span> cp dalec_EnKF dalec_seqMH /usr/local/bin</a></code></pre></div>

</div>
<div id="inst-ed2" class="section level4">
<h4><span class="header-section-number">21.2.12.11</span> ED2</h4>
<div id="ed2.2-r46-used-in-pecan-manuscript" class="section level5">
<h5><span class="header-section-number">21.2.12.11.1</span> ED2.2 r46 (used in PEcAn manuscript)</h5>
<div class="sourceCode" id="cb252"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb252-1" data-line-number="1"><span class="co"># ----------------------------------------------------------------------</span></a>
<a class="sourceLine" id="cb252-2" data-line-number="2"><span class="co"># Get version r46 with a few patches for ubuntu</span></a>
<a class="sourceLine" id="cb252-3" data-line-number="3"><span class="bu">cd</span></a>
<a class="sourceLine" id="cb252-4" data-line-number="4"><span class="ex">curl</span> -o ED.r46.tgz http://isda.ncsa.illinois.edu/~kooper/EBI/ED.r46.tgz</a>
<a class="sourceLine" id="cb252-5" data-line-number="5"><span class="fu">tar</span> zxf ED.r46.tgz</a>
<a class="sourceLine" id="cb252-6" data-line-number="6"><span class="fu">rm</span> ED.r46.tgz</a>
<a class="sourceLine" id="cb252-7" data-line-number="7"><span class="co"># ----------------------------------------------------------------------</span></a>
<a class="sourceLine" id="cb252-8" data-line-number="8"><span class="co"># configure and compile ed</span></a>
<a class="sourceLine" id="cb252-9" data-line-number="9"><span class="bu">cd</span> ~/ED.r46/ED/build/bin</a>
<a class="sourceLine" id="cb252-10" data-line-number="10"><span class="ex">curl</span> -o include.mk.VM http://isda.ncsa.illinois.edu/~kooper/EBI/include.mk.opt.<span class="kw">`</span><span class="fu">uname</span> -s<span class="kw">`</span></a>
<a class="sourceLine" id="cb252-11" data-line-number="11"><span class="fu">make</span> OPT=VM</a>
<a class="sourceLine" id="cb252-12" data-line-number="12"><span class="fu">sudo</span> cp ../ed_2.1-VM /usr/local/bin/ed2.r46</a></code></pre></div>
<p>Perform a test run using pre configured ED settings for ED2.2 r46</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb253-1" data-line-number="1"><span class="co"># ----------------------------------------------------------------------</span></a>
<a class="sourceLine" id="cb253-2" data-line-number="2"><span class="co"># Create sample run</span></a>
<a class="sourceLine" id="cb253-3" data-line-number="3"><span class="bu">cd</span></a>
<a class="sourceLine" id="cb253-4" data-line-number="4"><span class="fu">mkdir</span> testrun.ed.r46</a>
<a class="sourceLine" id="cb253-5" data-line-number="5"><span class="bu">cd</span> testrun.ed.r46</a>
<a class="sourceLine" id="cb253-6" data-line-number="6"><span class="ex">curl</span> -o ED2IN http://isda.ncsa.illinois.edu/~kooper/EBI/ED2IN.r46</a>
<a class="sourceLine" id="cb253-7" data-line-number="7"><span class="fu">sed</span> -i -e <span class="st">&quot;s#</span><span class="dt">\$</span><span class="st">HOME#</span><span class="va">$HOME</span><span class="st">#&quot;</span> ED2IN</a>
<a class="sourceLine" id="cb253-8" data-line-number="8"><span class="ex">curl</span> -o config.xml  http://isda.ncsa.illinois.edu/~kooper/EBI/config.r46.xml</a>
<a class="sourceLine" id="cb253-9" data-line-number="9"><span class="co"># execute test run</span></a>
<a class="sourceLine" id="cb253-10" data-line-number="10"><span class="bu">time</span> ed2.r46</a></code></pre></div>
</div>
<div id="ed-2.2-r82" class="section level5">
<h5><span class="header-section-number">21.2.12.11.2</span> ED 2.2 r82</h5>
<div class="sourceCode" id="cb254"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb254-1" data-line-number="1"><span class="bu">cd</span></a>
<a class="sourceLine" id="cb254-2" data-line-number="2"><span class="ex">curl</span> -o ED.r82.tgz http://isda.ncsa.illinois.edu/~kooper/EBI/ED.r82.tgz</a>
<a class="sourceLine" id="cb254-3" data-line-number="3"><span class="fu">tar</span> zxf ED.r82.tgz</a>
<a class="sourceLine" id="cb254-4" data-line-number="4"><span class="fu">rm</span> ED.r82.tgz</a>
<a class="sourceLine" id="cb254-5" data-line-number="5"></a>
<a class="sourceLine" id="cb254-6" data-line-number="6"><span class="bu">cd</span> ED.r82</a>
<a class="sourceLine" id="cb254-7" data-line-number="7"><span class="ex">curl</span> -o ED.r82.patch http://isda.ncsa.illinois.edu/~kooper/EBI/ED.r82.patch</a>
<a class="sourceLine" id="cb254-8" data-line-number="8"><span class="fu">patch</span> -p1 <span class="op">&lt;</span> ED.r82.patch</a>
<a class="sourceLine" id="cb254-9" data-line-number="9"><span class="bu">cd</span> ED/build/bin</a>
<a class="sourceLine" id="cb254-10" data-line-number="10"><span class="ex">curl</span> -o include.mk.VM http://isda.ncsa.illinois.edu/~kooper/EBI/include.mk.opt.<span class="kw">`</span><span class="fu">uname</span> -s<span class="kw">`</span></a>
<a class="sourceLine" id="cb254-11" data-line-number="11"><span class="fu">make</span> OPT=VM</a>
<a class="sourceLine" id="cb254-12" data-line-number="12"><span class="fu">sudo</span> cp ../ed_2.1-VM /usr/local/bin/ed2.r82</a></code></pre></div>
<p>Perform a test run using pre configured ED settings for ED2.2 r82</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb255-1" data-line-number="1"><span class="bu">cd</span></a>
<a class="sourceLine" id="cb255-2" data-line-number="2"><span class="fu">mkdir</span> testrun.ed.r82</a>
<a class="sourceLine" id="cb255-3" data-line-number="3"><span class="bu">cd</span> testrun.ed.r82</a>
<a class="sourceLine" id="cb255-4" data-line-number="4"><span class="ex">curl</span> -o ED2IN http://isda.ncsa.illinois.edu/~kooper/EBI/ED2IN.r82</a>
<a class="sourceLine" id="cb255-5" data-line-number="5"><span class="fu">sed</span> -i -e <span class="st">&quot;s#</span><span class="dt">\$</span><span class="st">HOME#</span><span class="va">$HOME</span><span class="st">#&quot;</span> ED2IN</a>
<a class="sourceLine" id="cb255-6" data-line-number="6"><span class="ex">curl</span> -o config.xml  http://isda.ncsa.illinois.edu/~kooper/EBI/config.r82.xml</a>
<a class="sourceLine" id="cb255-7" data-line-number="7"><span class="co"># execute test run</span></a>
<a class="sourceLine" id="cb255-8" data-line-number="8"><span class="bu">time</span> ed2.r82</a></code></pre></div>
</div>
<div id="ed-2.2-bleeding-edge" class="section level5">
<h5><span class="header-section-number">21.2.12.11.3</span> ED 2.2 bleeding edge</h5>
<div class="sourceCode" id="cb256"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb256-1" data-line-number="1"><span class="bu">cd</span></a>
<a class="sourceLine" id="cb256-2" data-line-number="2"><span class="fu">git</span> clone https://github.com/EDmodel/ED2.git</a>
<a class="sourceLine" id="cb256-3" data-line-number="3"></a>
<a class="sourceLine" id="cb256-4" data-line-number="4"><span class="bu">cd</span> ED2/ED/build/bin</a>
<a class="sourceLine" id="cb256-5" data-line-number="5"><span class="ex">curl</span> -o include.mk.VM http://isda.ncsa.illinois.edu/~kooper/EBI/include.mk.opt.<span class="kw">`</span><span class="fu">uname</span> -s<span class="kw">`</span></a>
<a class="sourceLine" id="cb256-6" data-line-number="6"><span class="ex">./generate_deps.sh</span></a>
<a class="sourceLine" id="cb256-7" data-line-number="7"><span class="fu">make</span> OPT=VM</a>
<a class="sourceLine" id="cb256-8" data-line-number="8"><span class="fu">sudo</span> cp ../ed_2.1-VM /usr/local/bin/ed2.git</a></code></pre></div>

</div>
</div>
<div id="inst-fates" class="section level4">
<h4><span class="header-section-number">21.2.12.12</span> CLM-FATES</h4>
<p>Prerequisites</p>
<pre><code>sudo apt-get upgrade libnetcdf-dev
sudo apt-get install subversion
sudo apt-get install csh
sudo apt-get install cmake
sudo ln -s /usr/bin/make /usr/bin/gmake
sudo rm /bin/sh
sudo ln -s /bin/bash /bin/sh

wget https://github.com/Unidata/netcdf-fortran/archive/v4.4.4.tar.gz
cd netcdf-4.4.4
./configure
make
sudo make install</code></pre>
<p>you might need to mess around with installing netcdf and netcdf-fortran to get a version FATES likes…</p>
<p>Get code from Github (currently private) and go to cime/scripts directory</p>
<pre><code>git clone git@github.com:NGEET/ed-clm.git
cd ed-clm/cime/scripts/</code></pre>
<p>Within CLM-FATES, to be able to build an executable we need to create a reference run. We’ll also use this reference run to grab defaults from, so we’ll be registering the location of both the reference <strong>case</strong> (location of executable, scripts, etc) and the reference <strong>inputs</strong> with the PEcAn database. To begin, copy reference run script from pecan</p>
<pre><code>cp ~/pecan/models/fates/inst/create_1x1_ref_case.sh .</code></pre>
<p>Edit reference case script to set NETCDF_HOME, CROOT (reference run case), DIN_LOC_ROOT (reference run inputs). Also, make sure DIN_LOC_ROOT exists as FATES will not create it itself. Then run the script</p>
<pre><code>./create_1x1_ref_case.sh</code></pre>
<p>Be aware that this script WILL ask you for your password on the NCAR server to download the reference case input data (the guest password may work, haven’t tried this). If it gives an error at the pio stage check the log, but the most likely error is it being unable to find a version of netcdf it likes.</p>
<p>Once FATES is installed, set the whole reference case directory as the Model path (leave filename blank) and set the whole inputs directory as an Input with format clm_defaults.</p>

</div>
<div id="inst-gday" class="section level4">
<h4><span class="header-section-number">21.2.12.13</span> GDAY</h4>
<p>Navigate to a directory you would like to store GDAY and run the following:</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb261-1" data-line-number="1"><span class="fu">git</span> clone https://github.com/mdekauwe/GDAY.git</a>
<a class="sourceLine" id="cb261-2" data-line-number="2"></a>
<a class="sourceLine" id="cb261-3" data-line-number="3"><span class="bu">cd</span> GDAY</a>
<a class="sourceLine" id="cb261-4" data-line-number="4"></a>
<a class="sourceLine" id="cb261-5" data-line-number="5"><span class="bu">cd</span> src</a>
<a class="sourceLine" id="cb261-6" data-line-number="6"></a>
<a class="sourceLine" id="cb261-7" data-line-number="7"><span class="fu">make</span></a></code></pre></div>
<p><code>gday</code> is your executable.</p>

</div>
<div id="inst-jules" class="section level4">
<h4><span class="header-section-number">21.2.12.14</span> JULES</h4>
<p>INSTALL STEPS:
1) Download JULES and FCM
JULES:
Model requires registration to download. Not to be put on PEcAn VM
Getting Started documentation: <a href="https://jules.jchmr.org/content/getting-started" class="uri">https://jules.jchmr.org/content/getting-started</a>
Registration: <a href="http://jules-lsm.github.io/access_req/JULES_access.html" class="uri">http://jules-lsm.github.io/access_req/JULES_access.html</a></p>
<p>FCM:</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb262-1" data-line-number="1">    <span class="ex">https</span>://github.com/metomi/fcm/</a>
<a class="sourceLine" id="cb262-2" data-line-number="2">    <span class="fu">wget</span> https://github.com/metomi/fcm/archive/2015.05.0.tar.gz</a></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>edit makefile</li>
</ol>
<div class="sourceCode" id="cb263"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb263-1" data-line-number="1"><span class="ex">open</span> etc/fcm-make/make.cfg</a>
<a class="sourceLine" id="cb263-2" data-line-number="2"></a>
<a class="sourceLine" id="cb263-3" data-line-number="3"><span class="kw">set</span> <span class="ex">JULES_NETCDF</span> = actual instead of dummy</a>
<a class="sourceLine" id="cb263-4" data-line-number="4"><span class="kw">set</span> <span class="ex">path</span> (e.g. /usr/) <span class="ex">and</span> lib_path /lib64 to netCDF libraries</a></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>compile JULES</li>
</ol>
<div class="sourceCode" id="cb264"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb264-1" data-line-number="1"><span class="bu">cd</span> etc/fcm-make/</a>
<a class="sourceLine" id="cb264-2" data-line-number="2"><span class="dt">{path.to.fcm}</span><span class="ex">/fcm</span> make -f etc/fcm-make/make.cfg --new</a></code></pre></div>
<div class="sourceCode" id="cb265"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb265-1" data-line-number="1"><span class="ex">UBUNTU</span> VERSION: installed without having to add any perl libraries</a>
<a class="sourceLine" id="cb265-2" data-line-number="2"><span class="co">#perl stuff that I had to install on pecan2 not PEcAN VM</span></a>
<a class="sourceLine" id="cb265-3" data-line-number="3"><span class="fu">sudo</span> yum install perl-Digest-SHA</a>
<a class="sourceLine" id="cb265-4" data-line-number="4"><span class="fu">sudo</span> yum install perl-Time-modules</a>
<a class="sourceLine" id="cb265-5" data-line-number="5"><span class="fu">sudo</span> yum install cpan</a>
<a class="sourceLine" id="cb265-6" data-line-number="6"><span class="ex">curl</span> -L http://cpanmin.us <span class="kw">|</span> <span class="fu">perl</span> - --sudo App::cpanminus</a>
<a class="sourceLine" id="cb265-7" data-line-number="7"><span class="fu">sudo</span> cpanm Time/Piece.pm</a>
<a class="sourceLine" id="cb265-8" data-line-number="8"><span class="fu">sudo</span> cpanm IO/Uncompress/Gunzip.pm</a></code></pre></div>
<p>Executable is under build/bin/jules.exe</p>
<p>Example rundir: examples/point_loobos</p>

</div>
<div id="inst-linkages" class="section level4">
<h4><span class="header-section-number">21.2.12.15</span> LINKAGES</h4>
<div id="r-installation" class="section level5">
<h5><span class="header-section-number">21.2.12.15.1</span> R Installation</h5>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb266-1" data-line-number="1"><span class="co"># Public</span></a>
<a class="sourceLine" id="cb266-2" data-line-number="2">echo <span class="st">&#39;devtools::install_github(&quot;araiho/linkages_package&quot;)&#39;</span> <span class="op">|</span><span class="st"> </span>R <span class="op">--</span>vanilla</a></code></pre></div>
</div>
<div id="fortran-version" class="section level5">
<h5><span class="header-section-number">21.2.12.15.2</span> FORTRAN VERSION</h5>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb267-1" data-line-number="1"><span class="co">#FORTRAN VERSION</span></a>
<a class="sourceLine" id="cb267-2" data-line-number="2">cd</a>
<a class="sourceLine" id="cb267-3" data-line-number="3">git clone https<span class="op">:</span><span class="er">//</span>github.com<span class="op">/</span>araiho<span class="op">/</span>Linkages.git</a>
<a class="sourceLine" id="cb267-4" data-line-number="4">cd Linkages</a>
<a class="sourceLine" id="cb267-5" data-line-number="5">gfortran <span class="op">-</span>o linkages linkages.f</a>
<a class="sourceLine" id="cb267-6" data-line-number="6">sudo cp linkages <span class="op">/</span>usr<span class="op">/</span>local<span class="op">/</span>bin<span class="op">/</span>linkages.git</a></code></pre></div>

</div>
</div>
<div id="inst-lpj-guess" class="section level4">
<h4><span class="header-section-number">21.2.12.16</span> LPJ-GUESS</h4>
<p>Instructions to download source code</p>
<p>Go to <a href="http://web.nateko.lu.se/lpj-guess/download.html">LPJ-GUESS website</a> for instructions to access code.</p>

</div>
<div id="inst-maespa" class="section level4">
<h4><span class="header-section-number">21.2.12.17</span> MAESPA</h4>
<p>Navigate to a directory you would like store MAESPA and run the following:</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb268-1" data-line-number="1"><span class="fu">git</span> clone https://bitbucket.org/remkoduursma/maespa.git</a>
<a class="sourceLine" id="cb268-2" data-line-number="2"></a>
<a class="sourceLine" id="cb268-3" data-line-number="3"><span class="bu">cd</span> maespa</a>
<a class="sourceLine" id="cb268-4" data-line-number="4"></a>
<a class="sourceLine" id="cb268-5" data-line-number="5"><span class="fu">make</span></a></code></pre></div>
<p><code>maespa.out</code> is your executable. Example input files can be found in the <code>inpufiles</code> directory. Executing measpa.out from within one of the example directories will produce output.</p>
<p>MAESPA developers have also developed a wrapper package called Maeswrap. The usual R package installation method <code>install.packages</code> may present issues with downloading an unpacking a dependency package called <code>rgl</code>. Here are a couple of solutions:</p>
<div id="solution-1" class="section level5">
<h5><span class="header-section-number">21.2.12.17.1</span> Solution 1</h5>
<div class="sourceCode" id="cb269"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb269-1" data-line-number="1"><span class="co">### From the Command Line</span></a>
<a class="sourceLine" id="cb269-2" data-line-number="2"><span class="fu">sudo</span> apt-get install r-cran-rgl</a></code></pre></div>
<p>then from within R</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb270-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">&quot;Maeswrap&quot;</span>)</a></code></pre></div>
</div>
<div id="solution-2" class="section level5">
<h5><span class="header-section-number">21.2.12.17.2</span> Solution 2</h5>
<div class="sourceCode" id="cb271"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb271-1" data-line-number="1"><span class="co">### From the Command line </span></a>
<a class="sourceLine" id="cb271-2" data-line-number="2"><span class="fu">sudo</span> apt-get install libglu1-mesa-dev</a></code></pre></div>
<p>then from within R</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb272-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">&quot;Maeswrap&quot;</span>)</a></code></pre></div>

</div>
</div>
<div id="sipnet-inst-sipnet" class="section level4">
<h4><span class="header-section-number">21.2.12.18</span> SIPNET {inst-sipnet}</h4>
<div class="sourceCode" id="cb273"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb273-1" data-line-number="1"><span class="bu">cd</span></a>
<a class="sourceLine" id="cb273-2" data-line-number="2"><span class="ex">curl</span> -o sipnet_unk.tar.gz http://isda.ncsa.illinois.edu/~kooper/EBI/sipnet_unk.tar.gz</a>
<a class="sourceLine" id="cb273-3" data-line-number="3"><span class="fu">tar</span> zxf sipnet_unk.tar.gz</a>
<a class="sourceLine" id="cb273-4" data-line-number="4"><span class="fu">rm</span> sipnet_unk.tar.gz</a>
<a class="sourceLine" id="cb273-5" data-line-number="5"></a>
<a class="sourceLine" id="cb273-6" data-line-number="6"><span class="bu">cd</span> sipnet_unk</a>
<a class="sourceLine" id="cb273-7" data-line-number="7"><span class="fu">make</span></a>
<a class="sourceLine" id="cb273-8" data-line-number="8"><span class="fu">sudo</span> cp sipnet /usr/local/bin/sipnet.runk</a></code></pre></div>
<div id="sipnet-testrun" class="section level5">
<h5><span class="header-section-number">21.2.12.18.1</span> SIPNET testrun</h5>
<div class="sourceCode" id="cb274"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb274-1" data-line-number="1"><span class="bu">cd</span></a>
<a class="sourceLine" id="cb274-2" data-line-number="2"><span class="ex">curl</span> -o testrun.sipnet.tar.gz http://isda.ncsa.illinois.edu/~kooper/EBI/testrun.sipnet.tar.gz</a>
<a class="sourceLine" id="cb274-3" data-line-number="3"><span class="fu">tar</span> zxf testrun.sipnet.tar.gz</a>
<a class="sourceLine" id="cb274-4" data-line-number="4"><span class="fu">rm</span> testrun.sipnet.tar.gz</a>
<a class="sourceLine" id="cb274-5" data-line-number="5"><span class="bu">cd</span> testrun.sipnet</a>
<a class="sourceLine" id="cb274-6" data-line-number="6"><span class="ex">sipnet.runk</span></a></code></pre></div>

</div>
</div>
<div id="install-data" class="section level4">
<h4><span class="header-section-number">21.2.12.19</span> Installing data for PEcAn</h4>
<p>PEcAn assumes some of the data to be installed on the machine. This page will describe how to install this data.</p>
<div id="site-information" class="section level5">
<h5><span class="header-section-number">21.2.12.19.1</span> Site Information</h5>
<p>These are large-ish files that contain data used with ED2 and SIPNET</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb275-1" data-line-number="1"><span class="fu">rm</span> -rf sites</a>
<a class="sourceLine" id="cb275-2" data-line-number="2"><span class="ex">curl</span> -o sites.tgz http://isda.ncsa.illinois.edu/~kooper/EBI/sites.tgz</a>
<a class="sourceLine" id="cb275-3" data-line-number="3"><span class="fu">tar</span> zxf sites.tgz</a>
<a class="sourceLine" id="cb275-4" data-line-number="4"><span class="fu">sed</span> -i -e <span class="st">&quot;s#/home/kooper/Projects/EBI#</span><span class="va">${PWD}</span><span class="st">#&quot;</span> sites/*/ED_MET_DRIVER_HEADER</a>
<a class="sourceLine" id="cb275-5" data-line-number="5"><span class="fu">rm</span> sites.tgz</a>
<a class="sourceLine" id="cb275-6" data-line-number="6"></a>
<a class="sourceLine" id="cb275-7" data-line-number="7"><span class="fu">rm</span> -rf inputs</a>
<a class="sourceLine" id="cb275-8" data-line-number="8"><span class="ex">curl</span> -o inputs.tgz http://isda.ncsa.illinois.edu/~kooper/EBI/inputs.tgz</a>
<a class="sourceLine" id="cb275-9" data-line-number="9"><span class="fu">tar</span> zxf inputs.tgz</a>
<a class="sourceLine" id="cb275-10" data-line-number="10"><span class="fu">rm</span> inputs.tgz</a></code></pre></div>
</div>
<div id="fia-database" class="section level5">
<h5><span class="header-section-number">21.2.12.19.2</span> FIA database</h5>
<p>FIA database is large and will add an extra 10GB to the installation.</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb276-1" data-line-number="1"><span class="co"># download and install database</span></a>
<a class="sourceLine" id="cb276-2" data-line-number="2"><span class="ex">curl</span> -o fia5data.psql.gz http://isda.ncsa.illinois.edu/~kooper/EBI/fia5data.psql.gz</a>
<a class="sourceLine" id="cb276-3" data-line-number="3"><span class="ex">dropdb</span> --if-exists fia5data</a>
<a class="sourceLine" id="cb276-4" data-line-number="4"><span class="ex">createdb</span> -O bety fia5data</a>
<a class="sourceLine" id="cb276-5" data-line-number="5"><span class="fu">gunzip</span> fia5data.psql.gz</a>
<a class="sourceLine" id="cb276-6" data-line-number="6"><span class="ex">psql</span> -U bety -d fia5data <span class="op">&lt;</span> fia5data.psql</a>
<a class="sourceLine" id="cb276-7" data-line-number="7"><span class="fu">rm</span> fia5data.psql</a></code></pre></div>
</div>
<div id="flux-camp" class="section level5">
<h5><span class="header-section-number">21.2.12.19.3</span> Flux Camp</h5>
<p>Following will install the data for flux camp (as well as the demo script for PEcAn).</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb277-1" data-line-number="1"><span class="bu">cd</span></a>
<a class="sourceLine" id="cb277-2" data-line-number="2"><span class="ex">curl</span> -o plot.tgz http://isda.ncsa.illinois.edu/~kooper/EBI/plot.tgz</a>
<a class="sourceLine" id="cb277-3" data-line-number="3"><span class="fu">tar</span> zxf plot.tgz</a>
<a class="sourceLine" id="cb277-4" data-line-number="4"><span class="fu">rm</span> plot.tgz</a></code></pre></div>
</div>
<div id="harvard-for-ed-tutorial" class="section level5">
<h5><span class="header-section-number">21.2.12.19.4</span> Harvard for ED tutorial</h5>
<p>Add datasets and runs</p>
<div class="sourceCode" id="cb278"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb278-1" data-line-number="1"><span class="ex">curl</span> -o Santarem_Km83.zip http://isda.ncsa.illinois.edu/~kooper/EBI/Santarem_Km83.zip</a>
<a class="sourceLine" id="cb278-2" data-line-number="2"><span class="fu">unzip</span> -d sites Santarem_Km83.zip</a>
<a class="sourceLine" id="cb278-3" data-line-number="3"><span class="fu">sed</span> -i -e <span class="st">&quot;s#/home/pecan#</span><span class="va">${HOME}</span><span class="st">#&quot;</span> sites/Santarem_Km83/ED_MET_DRIVER_HEADER</a>
<a class="sourceLine" id="cb278-4" data-line-number="4"><span class="fu">rm</span> Santarem_Km83.zip</a>
<a class="sourceLine" id="cb278-5" data-line-number="5"></a>
<a class="sourceLine" id="cb278-6" data-line-number="6"><span class="ex">curl</span> -o testrun.s83.zip http://isda.ncsa.illinois.edu/~kooper/EBI/testrun.s83.zip</a>
<a class="sourceLine" id="cb278-7" data-line-number="7"><span class="fu">unzip</span> testrun.s83.zip</a>
<a class="sourceLine" id="cb278-8" data-line-number="8"><span class="fu">sed</span> -i -e <span class="st">&quot;s#/home/pecan#</span><span class="va">${HOME}</span><span class="st">#&quot;</span> testrun.s83/ED2IN</a>
<a class="sourceLine" id="cb278-9" data-line-number="9"><span class="fu">rm</span> testrun.s83.zip</a>
<a class="sourceLine" id="cb278-10" data-line-number="10"></a>
<a class="sourceLine" id="cb278-11" data-line-number="11"><span class="ex">curl</span> -o ed2ws.harvard.tgz http://isda.ncsa.illinois.edu/~kooper/EBI/ed2ws.harvard.tgz</a>
<a class="sourceLine" id="cb278-12" data-line-number="12"><span class="fu">tar</span> zxf ed2ws.harvard.tgz</a>
<a class="sourceLine" id="cb278-13" data-line-number="13"><span class="fu">mkdir</span> ed2ws.harvard/analy ed2ws.harvard/histo</a>
<a class="sourceLine" id="cb278-14" data-line-number="14"><span class="fu">sed</span> -i -e <span class="st">&quot;s#/home/pecan#</span><span class="va">${HOME}</span><span class="st">#g&quot;</span> ed2ws.harvard/input_harvard/met_driver/HF_MET_HEADER ed2ws.harvard/ED2IN ed2ws.harvard/*.r</a>
<a class="sourceLine" id="cb278-15" data-line-number="15"><span class="fu">rm</span> ed2ws.harvard.tgz</a>
<a class="sourceLine" id="cb278-16" data-line-number="16"></a>
<a class="sourceLine" id="cb278-17" data-line-number="17"><span class="ex">curl</span> -o testrun.PDG.zip http://isda.ncsa.illinois.edu/~kooper/EBI/testrun.PDG.zip</a>
<a class="sourceLine" id="cb278-18" data-line-number="18"><span class="fu">unzip</span> testrun.PDG.zip</a>
<a class="sourceLine" id="cb278-19" data-line-number="19"><span class="fu">sed</span> -i -e <span class="st">&quot;s#/home/pecan#</span><span class="va">${HOME}</span><span class="st">#&quot;</span> testrun.PDG/Met/PDG_MET_DRIVER testrun.PDG/Template/ED2IN</a>
<a class="sourceLine" id="cb278-20" data-line-number="20"><span class="fu">sed</span> -i -e <span class="st">&#39;s#/n/scratch2/moorcroft_lab/kzhang/PDG/WFire_Pecan/##&#39;</span> testrun.PDG/Template/ED2IN</a>
<a class="sourceLine" id="cb278-21" data-line-number="21"><span class="fu">rm</span> testrun.PDG.zip</a>
<a class="sourceLine" id="cb278-22" data-line-number="22"></a>
<a class="sourceLine" id="cb278-23" data-line-number="23"><span class="ex">curl</span> -o create_met_driver.tar.gz http://isda.ncsa.illinois.edu/~kooper/EBI/create_met_driver.tar.gz</a>
<a class="sourceLine" id="cb278-24" data-line-number="24"><span class="fu">tar</span> zxf create_met_driver.tar.gz</a>
<a class="sourceLine" id="cb278-25" data-line-number="25"><span class="fu">rm</span> create_met_driver.tar.gz</a></code></pre></div>

</div>
</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="database.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="docker-index.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/tonygardella/pecan/edit/release/vtonydoc/book_source/03_topical_pages/92_workflow_modules.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
