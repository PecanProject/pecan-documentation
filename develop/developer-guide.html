<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>8 Developer guide | The Predictive Ecosystem Analyzer</title>
  <meta name="description" content="8 Developer guide | The Predictive Ecosystem Analyzer" />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="8 Developer guide | The Predictive Ecosystem Analyzer" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="8 Developer guide | The Predictive Ecosystem Analyzer" />
  
  
  

<meta name="author" content="By: PEcAn Team" />


<meta name="date" content="2019-12-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="intermediate-user.html"/>
<link rel="next" href="working-with-vm.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.8/datatables.js"></script>
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.16/js/jquery.dataTables.min.js"></script>
<link href="libs/dt-ext-fixedcolumns-1.10.16/css/fixedColumns.dataTables.min.css" rel="stylesheet" />
<script src="libs/dt-ext-fixedcolumns-1.10.16/js/dataTables.fixedColumns.min.js"></script>
<script src="libs/jszip-1.10.16/jszip.min.js"></script>
<script src="libs/pdfmake-1.10.16/pdfmake.min.js"></script>
<script src="libs/pdfmake-1.10.16/vfs_fonts.js"></script>
<link href="libs/dt-ext-buttons-1.10.16/css/buttons.dataTables.min.css" rel="stylesheet" />
<script src="libs/dt-ext-buttons-1.10.16/js/dataTables.buttons.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.16/js/buttons.flash.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.16/js/buttons.html5.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.16/js/buttons.colVis.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.16/js/buttons.print.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="part"><span><b>I Introduction</b></span></li>
<li class="chapter" data-level="1" data-path="project-overview.html"><a href="project-overview.html"><i class="fa fa-check"></i><b>1</b> Project Overview</a></li>
<li class="chapter" data-level="2" data-path="contributor-covenant-code-of-conduct.html"><a href="contributor-covenant-code-of-conduct.html"><i class="fa fa-check"></i><b>2</b> Contributor Covenant Code of Conduct</a></li>
<li class="chapter" data-level="3" data-path="about-the-pecan-book.html"><a href="about-the-pecan-book.html"><i class="fa fa-check"></i><b>3</b> About the PEcAn Book</a><ul>
<li class="chapter" data-level="3.1" data-path="about-the-pecan-book.html"><a href="about-the-pecan-book.html#general-feedbackcommentssuggestions"><i class="fa fa-check"></i><b>3.1</b> General Feedback/Comments/Suggestions</a></li>
<li class="chapter" data-level="3.2" data-path="about-the-pecan-book.html"><a href="about-the-pecan-book.html#bookediting"><i class="fa fa-check"></i><b>3.2</b> Editing this book</a></li>
<li class="chapter" data-level="3.3" data-path="about-the-pecan-book.html"><a href="about-the-pecan-book.html#how-to-create-your-own-version-of-documentation"><i class="fa fa-check"></i><b>3.3</b> How to create your own version of Documentation</a></li>
</ul></li>
<li class="part"><span><b>II Tutorials, Demos and How Toâ€™s</b></span></li>
<li class="chapter" data-level="4" data-path="pecan-manual-setup.html"><a href="pecan-manual-setup.html"><i class="fa fa-check"></i><b>4</b> Install PEcAn</a><ul>
<li class="chapter" data-level="4.1" data-path="pecan-manual-setup.html"><a href="pecan-manual-setup.html#install-vm"><i class="fa fa-check"></i><b>4.1</b> Virtual Machine (VM)</a></li>
<li class="chapter" data-level="4.2" data-path="pecan-manual-setup.html"><a href="pecan-manual-setup.html#install-docker"><i class="fa fa-check"></i><b>4.2</b> Docker</a></li>
<li class="chapter" data-level="4.3" data-path="pecan-manual-setup.html"><a href="pecan-manual-setup.html#install-native"><i class="fa fa-check"></i><b>4.3</b> (Advanced) Native install</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="user-section.html"><a href="user-section.html"><i class="fa fa-check"></i><b>5</b> Tutorials</a><ul>
<li class="chapter" data-level="5.1" data-path="user-section.html"><a href="user-section.html#pecan-in-a-nutshell"><i class="fa fa-check"></i><b>5.1</b> How PEcAn Works in a nutshell</a></li>
<li class="chapter" data-level="5.2" data-path="user-section.html"><a href="user-section.html#demo-table"><i class="fa fa-check"></i><b>5.2</b> PEcAn Demos</a></li>
<li class="chapter" data-level="5.3" data-path="user-section.html"><a href="user-section.html#demo-01-basic-run-pecan"><i class="fa fa-check"></i><b>5.3</b> Demo 01: Basic Run PEcAn</a></li>
<li class="chapter" data-level="5.4" data-path="user-section.html"><a href="user-section.html#demo-02-sensitivity-and-uncertainty-analysis"><i class="fa fa-check"></i><b>5.4</b> Demo 02: Sensitivity and Uncertainty Analysis</a></li>
<li class="chapter" data-level="5.5" data-path="user-section.html"><a href="user-section.html#othervignettes"><i class="fa fa-check"></i><b>5.5</b> Other Vignettes</a><ul>
<li class="chapter" data-level="5.5.1" data-path="user-section.html"><a href="user-section.html#simple-model-data-comparisons"><i class="fa fa-check"></i><b>5.5.1</b> Simple Model-Data Comparisons</a></li>
<li class="chapter" data-level="5.5.2" data-path="user-section.html"><a href="user-section.html#data-assimilation-concepts"><i class="fa fa-check"></i><b>5.5.2</b> Data Assimilation Concepts</a></li>
<li class="chapter" data-level="5.5.3" data-path="user-section.html"><a href="user-section.html#parameter-data-assimilation"><i class="fa fa-check"></i><b>5.5.3</b> Parameter Data Assimilation</a></li>
<li class="chapter" data-level="5.5.4" data-path="user-section.html"><a href="user-section.html#state-variable-data-assimilation"><i class="fa fa-check"></i><b>5.5.4</b> State-Variable Data Assimilation</a></li>
<li class="chapter" data-level="5.5.5" data-path="user-section.html"><a href="user-section.html#pecan-testing-the-sensitivity-analysis-against-observations"><i class="fa fa-check"></i><b>5.5.5</b> PEcAn: Testing the Sensitivity Analysis Against Observations&quot;</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="user-section.html"><a href="user-section.html#advanced-user"><i class="fa fa-check"></i><b>5.6</b> Advanced User Guide</a><ul>
<li class="chapter" data-level="5.6.1" data-path="user-section.html"><a href="user-section.html#web-curl-submission"><i class="fa fa-check"></i><b>5.6.1</b> Submitting Workflow from Command Line</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html"><i class="fa fa-check"></i><b>6</b> Basic Web workflow</a><ul>
<li class="chapter" data-level="6.1" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#web-site-model"><i class="fa fa-check"></i><b>6.1</b> Site and model selection</a><ul>
<li class="chapter" data-level="6.1.1" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#selecting-a-model"><i class="fa fa-check"></i><b>6.1.1</b> Selecting a model</a></li>
<li class="chapter" data-level="6.1.2" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#selecting-a-site"><i class="fa fa-check"></i><b>6.1.2</b> Selecting a site</a></li>
<li class="chapter" data-level="6.1.3" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#site-groups"><i class="fa fa-check"></i><b>6.1.3</b> Site Groups</a></li>
<li class="chapter" data-level="6.1.4" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#using-existing-sites"><i class="fa fa-check"></i><b>6.1.4</b> Using existing sites</a></li>
<li class="chapter" data-level="6.1.5" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#adding-a-new-site"><i class="fa fa-check"></i><b>6.1.5</b> Adding a new site</a></li>
<li class="chapter" data-level="6.1.6" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#troubleshooting"><i class="fa fa-check"></i><b>6.1.6</b> Troubleshooting</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#web-model-config"><i class="fa fa-check"></i><b>6.2</b> Model configuration</a><ul>
<li class="chapter" data-level="6.2.1" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#choosing-meteorology"><i class="fa fa-check"></i><b>6.2.1</b> Choosing meteorology</a></li>
<li class="chapter" data-level="6.2.2" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#met-workflow"><i class="fa fa-check"></i><b>6.2.2</b> Met workflow</a></li>
<li class="chapter" data-level="6.2.3" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#troubleshooting-meteorological-conversions"><i class="fa fa-check"></i><b>6.2.3</b> Troubleshooting meteorological conversions</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#selecting-plant-functional-types-pfts-and-other-parameter-groupings."><i class="fa fa-check"></i><b>6.3</b> Selecting Plant Functional Types (PFTs) and other parameter groupings.</a><ul>
<li class="chapter" data-level="6.3.1" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#using-existing-pfts"><i class="fa fa-check"></i><b>6.3.1</b> Using existing PFTs</a></li>
<li class="chapter" data-level="6.3.2" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#creating-new-pfts"><i class="fa fa-check"></i><b>6.3.2</b> Creating new PFTs</a></li>
<li class="chapter" data-level="6.3.3" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#choosing-initial-vegetation"><i class="fa fa-check"></i><b>6.3.3</b> Choosing initial vegetation</a></li>
<li class="chapter" data-level="6.3.4" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#us-fia"><i class="fa fa-check"></i><b>6.3.4</b> US FIA</a></li>
<li class="chapter" data-level="6.3.5" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#spin-up"><i class="fa fa-check"></i><b>6.3.5</b> Spin up</a></li>
<li class="chapter" data-level="6.3.6" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#selecting-a-soils-product"><i class="fa fa-check"></i><b>6.3.6</b> Selecting a soils product</a></li>
<li class="chapter" data-level="6.3.7" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#soil-texture-depth-and-physical-parameters"><i class="fa fa-check"></i><b>6.3.7</b> Soil texture, depth, and physical parameters</a></li>
<li class="chapter" data-level="6.3.8" data-path="basic-web-workflow.html"><a href="basic-web-workflow.html#other-model-inputs"><i class="fa fa-check"></i><b>6.3.8</b> Other model inputs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="intermediate-user.html"><a href="intermediate-user.html"><i class="fa fa-check"></i><b>7</b> More on the PEcAn Web Interface</a><ul>
<li class="chapter" data-level="7.1" data-path="intermediate-user.html"><a href="intermediate-user.html#additional-web-configuration"><i class="fa fa-check"></i><b>7.1</b> Additional web configuration</a><ul>
<li class="chapter" data-level="7.1.1" data-path="intermediate-user.html"><a href="intermediate-user.html#intermediate-web-setup"><i class="fa fa-check"></i><b>7.1.1</b> Web interface setup</a></li>
<li class="chapter" data-level="7.1.2" data-path="intermediate-user.html"><a href="intermediate-user.html#browndog"><i class="fa fa-check"></i><b>7.1.2</b> Brown Dog</a></li>
<li class="chapter" data-level="7.1.3" data-path="intermediate-user.html"><a href="intermediate-user.html#intermediate-advanced-setup"><i class="fa fa-check"></i><b>7.1.3</b> Advanced Setup</a></li>
<li class="chapter" data-level="7.1.4" data-path="intermediate-user.html"><a href="intermediate-user.html#intermediate-model-config"><i class="fa fa-check"></i><b>7.1.4</b> Editing model configurations</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="intermediate-user.html"><a href="intermediate-user.html#settings-configured-analyses"><i class="fa fa-check"></i><b>7.2</b> Settings-configured analyses</a><ul>
<li class="chapter" data-level="7.2.1" data-path="intermediate-user.html"><a href="intermediate-user.html#pda"><i class="fa fa-check"></i><b>7.2.1</b> Parameter data assimilation (PDA)</a></li>
<li class="chapter" data-level="7.2.2" data-path="intermediate-user.html"><a href="intermediate-user.html#sda"><i class="fa fa-check"></i><b>7.2.2</b> State data assimilation (SDA)</a></li>
<li class="chapter" data-level="7.2.3" data-path="intermediate-user.html"><a href="intermediate-user.html#running-sda-on-remote"><i class="fa fa-check"></i><b>7.2.3</b> Running SDA on remote</a></li>
<li class="chapter" data-level="7.2.4" data-path="intermediate-user.html"><a href="intermediate-user.html#restart-functionality-in-sda"><i class="fa fa-check"></i><b>7.2.4</b> Restart functionality in SDA</a></li>
<li class="chapter" data-level="7.2.5" data-path="intermediate-user.html"><a href="intermediate-user.html#state-data-assimilation-methods"><i class="fa fa-check"></i><b>7.2.5</b> State Data Assimilation Methods</a></li>
<li class="chapter" data-level="7.2.6" data-path="intermediate-user.html"><a href="intermediate-user.html#multisettings"><i class="fa fa-check"></i><b>7.2.6</b> MultiSettings</a></li>
<li class="chapter" data-level="7.2.7" data-path="intermediate-user.html"><a href="intermediate-user.html#benchmarking"><i class="fa fa-check"></i><b>7.2.7</b> Benchmarking</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="developer-guide.html"><a href="developer-guide.html"><i class="fa fa-check"></i><b>8</b> Developer guide</a><ul>
<li class="chapter" data-level="8.1" data-path="developer-guide.html"><a href="developer-guide.html#updatebety"><i class="fa fa-check"></i><b>8.1</b> Updating PEcAn Code and Bety Database</a><ul>
<li class="chapter" data-level="8.1.1" data-path="developer-guide.html"><a href="developer-guide.html#pecan-make"><i class="fa fa-check"></i><b>8.1.1</b> Updating PEcAn</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="developer-guide.html"><a href="developer-guide.html#pecan-git"><i class="fa fa-check"></i><b>8.2</b> Git and GitHub Workflow</a><ul>
<li class="chapter" data-level="8.2.1" data-path="developer-guide.html"><a href="developer-guide.html#using-git"><i class="fa fa-check"></i><b>8.2.1</b> Using Git</a></li>
<li class="chapter" data-level="8.2.2" data-path="developer-guide.html"><a href="developer-guide.html#github-use-with-pecan"><i class="fa fa-check"></i><b>8.2.2</b> GitHub use with PEcAn</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="developer-guide.html"><a href="developer-guide.html#coding-practices"><i class="fa fa-check"></i><b>8.3</b> Coding Practices</a><ul>
<li class="chapter" data-level="8.3.1" data-path="developer-guide.html"><a href="developer-guide.html#developer-codestyle"><i class="fa fa-check"></i><b>8.3.1</b> Coding Style</a></li>
<li class="chapter" data-level="8.3.2" data-path="developer-guide.html"><a href="developer-guide.html#developer-logging"><i class="fa fa-check"></i><b>8.3.2</b> Logging</a></li>
<li class="chapter" data-level="8.3.3" data-path="developer-guide.html"><a href="developer-guide.html#developer-packagedata"><i class="fa fa-check"></i><b>8.3.3</b> Package Data</a></li>
<li class="chapter" data-level="8.3.4" data-path="developer-guide.html"><a href="developer-guide.html#developer-roxygen"><i class="fa fa-check"></i><b>8.3.4</b> Documenting functions using <code>roxygen2</code></a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="developer-guide.html"><a href="developer-guide.html#developer-testing"><i class="fa fa-check"></i><b>8.4</b> Testing</a><ul>
<li class="chapter" data-level="8.4.1" data-path="developer-guide.html"><a href="developer-guide.html#developer-testing-unit"><i class="fa fa-check"></i><b>8.4.1</b> Unit testing</a></li>
<li class="chapter" data-level="8.4.2" data-path="developer-guide.html"><a href="developer-guide.html#developer-testing-integration"><i class="fa fa-check"></i><b>8.4.2</b> Integration testing</a></li>
<li class="chapter" data-level="8.4.3" data-path="developer-guide.html"><a href="developer-guide.html#continuous-integration"><i class="fa fa-check"></i><b>8.4.3</b> Continuous Integration</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="developer-guide.html"><a href="developer-guide.html#download-and-compile-pecan"><i class="fa fa-check"></i><b>8.5</b> Download and Compile PEcAn</a><ul>
<li class="chapter" data-level="8.5.1" data-path="developer-guide.html"><a href="developer-guide.html#download-compile-and-install-pecan-from-github"><i class="fa fa-check"></i><b>8.5.1</b> Download, compile and install PEcAn from GitHub</a></li>
<li class="chapter" data-level="8.5.2" data-path="developer-guide.html"><a href="developer-guide.html#pecan-testrun"><i class="fa fa-check"></i><b>8.5.2</b> PEcAn Testrun</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="developer-guide.html"><a href="developer-guide.html#directory-structure"><i class="fa fa-check"></i><b>8.6</b> Directory structure</a><ul>
<li class="chapter" data-level="8.6.1" data-path="developer-guide.html"><a href="developer-guide.html#overview-of-pecan-repository-as-of-pecan-1.5.3"><i class="fa fa-check"></i><b>8.6.1</b> Overview of PEcAn repository as of PEcAn 1.5.3</a></li>
<li class="chapter" data-level="8.6.2" data-path="developer-guide.html"><a href="developer-guide.html#generic-r-package-structure"><i class="fa fa-check"></i><b>8.6.2</b> Generic R package structure:</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Topical Pages</b></span></li>
<li class="chapter" data-level="9" data-path="working-with-vm.html"><a href="working-with-vm.html"><i class="fa fa-check"></i><b>9</b> VM configuration and maintenance</a><ul>
<li class="chapter" data-level="9.1" data-path="working-with-vm.html"><a href="working-with-vm.html#maintain-vm"><i class="fa fa-check"></i><b>9.1</b> Updating the VM</a></li>
<li class="chapter" data-level="9.2" data-path="working-with-vm.html"><a href="working-with-vm.html#ssh-vm"><i class="fa fa-check"></i><b>9.2</b> Connecting to the VM via SSH</a></li>
<li class="chapter" data-level="9.3" data-path="working-with-vm.html"><a href="working-with-vm.html#ssh-vm-bety"><i class="fa fa-check"></i><b>9.3</b> Connecting to bety on the VM via SSh</a><ul>
<li class="chapter" data-level="9.3.1" data-path="working-with-vm.html"><a href="working-with-vm.html#awsvm"><i class="fa fa-check"></i><b>9.3.1</b> Using Amazon Web Services for a VM (AWS)</a></li>
<li class="chapter" data-level="9.3.2" data-path="working-with-vm.html"><a href="working-with-vm.html#createvm"><i class="fa fa-check"></i><b>9.3.2</b> Creating a Virtual Machine</a></li>
<li class="chapter" data-level="9.3.3" data-path="working-with-vm.html"><a href="working-with-vm.html#vm-dektop-conversion"><i class="fa fa-check"></i><b>9.3.3</b> VM Desktop Conversion</a></li>
<li class="chapter" data-level="9.3.4" data-path="working-with-vm.html"><a href="working-with-vm.html#install-rstudio"><i class="fa fa-check"></i><b>9.3.4</b> Install RStudio Desktop</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="pecan-standards.html"><a href="pecan-standards.html"><i class="fa fa-check"></i><b>10</b> PEcAn standard formats</a><ul>
<li class="chapter" data-level="10.1" data-path="pecan-standards.html"><a href="pecan-standards.html#defining-new-input-formats"><i class="fa fa-check"></i><b>10.1</b> Defining new input formats</a></li>
<li class="chapter" data-level="10.2" data-path="pecan-standards.html"><a href="pecan-standards.html#time-standard"><i class="fa fa-check"></i><b>10.2</b> Time Standard</a><ul>
<li class="chapter" data-level="10.2.1" data-path="pecan-standards.html"><a href="pecan-standards.html#input-standards"><i class="fa fa-check"></i><b>10.2.1</b> Input Standards</a></li>
<li class="chapter" data-level="10.2.2" data-path="pecan-standards.html"><a href="pecan-standards.html#soils-and-vegetation-inputs"><i class="fa fa-check"></i><b>10.2.2</b> Soils and Vegetation Inputs</a></li>
<li class="chapter" data-level="10.2.3" data-path="pecan-standards.html"><a href="pecan-standards.html#output-standards"><i class="fa fa-check"></i><b>10.2.3</b> Output Standards</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="pecanXML.html"><a href="pecanXML.html"><i class="fa fa-check"></i><b>11</b> The PEcAn XML</a><ul>
<li class="chapter" data-level="11.0.1" data-path="pecanXML.html"><a href="pecanXML.html#xml-core-config"><i class="fa fa-check"></i><b>11.0.1</b> Core configuration</a></li>
<li class="chapter" data-level="11.0.2" data-path="pecanXML.html"><a href="pecanXML.html#xml-outdir"><i class="fa fa-check"></i><b>11.0.2</b> <code>outdir</code>: Output directory</a></li>
<li class="chapter" data-level="11.0.3" data-path="pecanXML.html"><a href="pecanXML.html#xml-database"><i class="fa fa-check"></i><b>11.0.3</b> <code>database</code>: PEcAn database settings</a></li>
<li class="chapter" data-level="11.0.4" data-path="pecanXML.html"><a href="pecanXML.html#xml-pft"><i class="fa fa-check"></i><b>11.0.4</b> <code>pft</code>: Plant functional type selection</a></li>
<li class="chapter" data-level="11.0.5" data-path="pecanXML.html"><a href="pecanXML.html#xml-meta-analysis"><i class="fa fa-check"></i><b>11.0.5</b> <code>meta.analysis</code>: Trait Meta Analysis</a></li>
<li class="chapter" data-level="11.0.6" data-path="pecanXML.html"><a href="pecanXML.html#xml-model"><i class="fa fa-check"></i><b>11.0.6</b> <code>model</code>: Model configuration</a></li>
<li class="chapter" data-level="11.0.7" data-path="pecanXML.html"><a href="pecanXML.html#xml-run"><i class="fa fa-check"></i><b>11.0.7</b> <code>run</code>: Run Setup</a></li>
<li class="chapter" data-level="11.0.8" data-path="pecanXML.html"><a href="pecanXML.html#xml-host"><i class="fa fa-check"></i><b>11.0.8</b> <code>host</code>: Host information for remote execution</a></li>
<li class="chapter" data-level="11.0.9" data-path="pecanXML.html"><a href="pecanXML.html#xml-advanced"><i class="fa fa-check"></i><b>11.0.9</b> Advanced features</a></li>
<li class="chapter" data-level="11.0.10" data-path="pecanXML.html"><a href="pecanXML.html#xml-ensemble"><i class="fa fa-check"></i><b>11.0.10</b> <code>ensemble</code>: Ensemble Runs</a></li>
<li class="chapter" data-level="11.0.11" data-path="pecanXML.html"><a href="pecanXML.html#xml-sensitivity-analysis"><i class="fa fa-check"></i><b>11.0.11</b> <code>sensitivity.analysis</code>: Sensitivity analysis</a></li>
<li class="chapter" data-level="11.0.12" data-path="pecanXML.html"><a href="pecanXML.html#xml-parameter-data-assimilation"><i class="fa fa-check"></i><b>11.0.12</b> Parameter Data Assimilation</a></li>
<li class="chapter" data-level="11.0.13" data-path="pecanXML.html"><a href="pecanXML.html#xml-multi-settings"><i class="fa fa-check"></i><b>11.0.13</b> Multi-Settings</a></li>
<li class="chapter" data-level="11.0.14" data-path="pecanXML.html"><a href="pecanXML.html#xml-state-data-assimilation"><i class="fa fa-check"></i><b>11.0.14</b> (experimental) State Data Assimilation</a></li>
<li class="chapter" data-level="11.0.15" data-path="pecanXML.html"><a href="pecanXML.html#xml-browndog"><i class="fa fa-check"></i><b>11.0.15</b> (experimental) Brown Dog</a></li>
<li class="chapter" data-level="11.0.16" data-path="pecanXML.html"><a href="pecanXML.html#xml-benchmarking"><i class="fa fa-check"></i><b>11.0.16</b> (experimental) Benchmarking</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="workflow.html"><a href="workflow.html"><i class="fa fa-check"></i><b>12</b> PEcAn workflow (web/workflow.R)</a><ul>
<li class="chapter" data-level="12.0.1" data-path="workflow.html"><a href="workflow.html#workflow-readsettings"><i class="fa fa-check"></i><b>12.0.1</b> Read Settings</a></li>
<li class="chapter" data-level="12.0.2" data-path="workflow.html"><a href="workflow.html#workflow-input"><i class="fa fa-check"></i><b>12.0.2</b> Input Conversions</a></li>
<li class="chapter" data-level="12.0.3" data-path="workflow.html"><a href="workflow.html#workflow-input-data"><i class="fa fa-check"></i><b>12.0.3</b> Input Data</a></li>
<li class="chapter" data-level="12.0.4" data-path="workflow.html"><a href="workflow.html#workflow-input-initial"><i class="fa fa-check"></i><b>12.0.4</b> Initial Conditions</a></li>
<li class="chapter" data-level="12.0.5" data-path="workflow.html"><a href="workflow.html#workflow-met"><i class="fa fa-check"></i><b>12.0.5</b> Meteorological Data</a></li>
<li class="chapter" data-level="12.0.6" data-path="workflow.html"><a href="workflow.html#workflow-met-standard"><i class="fa fa-check"></i><b>12.0.6</b> Converting raw data to PEcAn standard</a></li>
<li class="chapter" data-level="12.0.7" data-path="workflow.html"><a href="workflow.html#workflow-met-downscale"><i class="fa fa-check"></i><b>12.0.7</b> Downscaling and gapfilling (optional)</a></li>
<li class="chapter" data-level="12.0.8" data-path="workflow.html"><a href="workflow.html#workflow-met-model"><i class="fa fa-check"></i><b>12.0.8</b> Converting from PEcAn standard to model-specific format</a></li>
<li class="chapter" data-level="12.0.9" data-path="workflow.html"><a href="workflow.html#workflow-traits"><i class="fa fa-check"></i><b>12.0.9</b> Traits</a></li>
<li class="chapter" data-level="12.0.10" data-path="workflow.html"><a href="workflow.html#workflow-metaanalysis"><i class="fa fa-check"></i><b>12.0.10</b> Meta Analysis</a></li>
<li class="chapter" data-level="12.0.11" data-path="workflow.html"><a href="workflow.html#workflow-modelconfig"><i class="fa fa-check"></i><b>12.0.11</b> Model Configuration</a></li>
<li class="chapter" data-level="12.0.12" data-path="workflow.html"><a href="workflow.html#workflow-modelrun"><i class="fa fa-check"></i><b>12.0.12</b> Run Execution</a></li>
<li class="chapter" data-level="12.0.13" data-path="workflow.html"><a href="workflow.html#workflow-postrun"><i class="fa fa-check"></i><b>12.0.13</b> Post Run Analysis</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="pecan-models.html"><a href="pecan-models.html"><i class="fa fa-check"></i><b>13</b> PEcAn Models</a><ul>
<li class="chapter" data-level="13.0.1" data-path="pecan-models.html"><a href="pecan-models.html#models-biocro"><i class="fa fa-check"></i><b>13.0.1</b> BioCro</a></li>
<li class="chapter" data-level="13.0.2" data-path="pecan-models.html"><a href="pecan-models.html#introduction-1"><i class="fa fa-check"></i><b>13.0.2</b> Introduction</a></li>
<li class="chapter" data-level="13.0.3" data-path="pecan-models.html"><a href="pecan-models.html#pecan-configuration-file-additions"><i class="fa fa-check"></i><b>13.0.3</b> PEcAn configuration file additions</a></li>
<li class="chapter" data-level="13.0.4" data-path="pecan-models.html"><a href="pecan-models.html#model-specific-input-files"><i class="fa fa-check"></i><b>13.0.4</b> Model specific input files</a></li>
<li class="chapter" data-level="13.0.5" data-path="pecan-models.html"><a href="pecan-models.html#model-configuration-files"><i class="fa fa-check"></i><b>13.0.5</b> Model configuration files</a></li>
<li class="chapter" data-level="13.0.6" data-path="pecan-models.html"><a href="pecan-models.html#installation-notes"><i class="fa fa-check"></i><b>13.0.6</b> Installation notes</a></li>
<li class="chapter" data-level="13.0.7" data-path="pecan-models.html"><a href="pecan-models.html#models-clm"><i class="fa fa-check"></i><b>13.0.7</b> CLM</a></li>
<li class="chapter" data-level="13.0.8" data-path="pecan-models.html"><a href="pecan-models.html#models-dalec"><i class="fa fa-check"></i><b>13.0.8</b> DALEC</a></li>
<li class="chapter" data-level="13.0.9" data-path="pecan-models.html"><a href="pecan-models.html#models-ed"><i class="fa fa-check"></i><b>13.0.9</b> ED2</a></li>
<li class="chapter" data-level="13.0.10" data-path="pecan-models.html"><a href="pecan-models.html#models-gday"><i class="fa fa-check"></i><b>13.0.10</b> GDAY</a></li>
<li class="chapter" data-level="13.0.11" data-path="pecan-models.html"><a href="pecan-models.html#models-linkages"><i class="fa fa-check"></i><b>13.0.11</b> LINKAGES</a></li>
<li class="chapter" data-level="13.0.12" data-path="pecan-models.html"><a href="pecan-models.html#models-lpjguess"><i class="fa fa-check"></i><b>13.0.12</b> LPJ-GUESS</a></li>
<li class="chapter" data-level="13.0.13" data-path="pecan-models.html"><a href="pecan-models.html#models-maespa"><i class="fa fa-check"></i><b>13.0.13</b> MAESPA</a></li>
<li class="chapter" data-level="13.0.14" data-path="pecan-models.html"><a href="pecan-models.html#models-preles"><i class="fa fa-check"></i><b>13.0.14</b> PRELES</a></li>
<li class="chapter" data-level="13.0.15" data-path="pecan-models.html"><a href="pecan-models.html#models-sipnet"><i class="fa fa-check"></i><b>13.0.15</b> SiPNET</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html"><i class="fa fa-check"></i><b>14</b> Available Meteorological Drivers</a><ul>
<li class="chapter" data-level="14.0.1" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#ameriflux"><i class="fa fa-check"></i><b>14.0.1</b> Ameriflux</a></li>
<li class="chapter" data-level="14.0.2" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#amerifluxlbl"><i class="fa fa-check"></i><b>14.0.2</b> AmerifluxLBL</a></li>
<li class="chapter" data-level="14.0.3" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#fluxnet2015"><i class="fa fa-check"></i><b>14.0.3</b> Fluxnet2015</a></li>
<li class="chapter" data-level="14.0.4" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#narr"><i class="fa fa-check"></i><b>14.0.4</b> NARR</a></li>
<li class="chapter" data-level="14.0.5" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#cruncep"><i class="fa fa-check"></i><b>14.0.5</b> CRUNCEP</a></li>
<li class="chapter" data-level="14.0.6" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#cmip5"><i class="fa fa-check"></i><b>14.0.6</b> CMIP5</a></li>
<li class="chapter" data-level="14.0.7" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#nldas"><i class="fa fa-check"></i><b>14.0.7</b> NLDAS</a></li>
<li class="chapter" data-level="14.0.8" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#gldas"><i class="fa fa-check"></i><b>14.0.8</b> GLDAS</a></li>
<li class="chapter" data-level="14.0.9" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#paleon"><i class="fa fa-check"></i><b>14.0.9</b> PalEON</a></li>
<li class="chapter" data-level="14.0.10" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#fluxnetlathuile"><i class="fa fa-check"></i><b>14.0.10</b> FluxnetLaThuile</a></li>
<li class="chapter" data-level="14.0.11" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#geostreams"><i class="fa fa-check"></i><b>14.0.11</b> Geostreams</a></li>
<li class="chapter" data-level="14.0.12" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#era5"><i class="fa fa-check"></i><b>14.0.12</b> ERA5</a></li>
<li class="chapter" data-level="14.0.13" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#download-gfdl"><i class="fa fa-check"></i><b>14.0.13</b> Download GFDL</a></li>
<li class="chapter" data-level="14.0.14" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#cm3"><i class="fa fa-check"></i><b>14.0.14</b> CM3</a></li>
<li class="chapter" data-level="14.0.15" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#esm2m-esm2g"><i class="fa fa-check"></i><b>14.0.15</b> ESM2M &amp; ESM2G</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="database-synchronization.html"><a href="database-synchronization.html"><i class="fa fa-check"></i><b>15</b> Database synchronization</a><ul>
<li class="chapter" data-level="15.0.1" data-path="database-synchronization.html"><a href="database-synchronization.html#how-does-it-work"><i class="fa fa-check"></i><b>15.0.1</b> How does it work?</a></li>
<li class="chapter" data-level="15.0.2" data-path="database-synchronization.html"><a href="database-synchronization.html#set-up"><i class="fa fa-check"></i><b>15.0.2</b> Set up</a></li>
<li class="chapter" data-level="15.0.3" data-path="database-synchronization.html"><a href="database-synchronization.html#fetch-latest-data"><i class="fa fa-check"></i><b>15.0.3</b> Fetch latest data</a></li>
<li class="chapter" data-level="15.0.4" data-path="database-synchronization.html"><a href="database-synchronization.html#sharing-data"><i class="fa fa-check"></i><b>15.0.4</b> Sharing data</a></li>
<li class="chapter" data-level="15.0.5" data-path="database-synchronization.html"><a href="database-synchronization.html#automation"><i class="fa fa-check"></i><b>15.0.5</b> Automation</a></li>
<li class="chapter" data-level="15.0.6" data-path="database-synchronization.html"><a href="database-synchronization.html#database-maintentance"><i class="fa fa-check"></i><b>15.0.6</b> Database maintentance</a></li>
<li class="chapter" data-level="15.0.7" data-path="database-synchronization.html"><a href="database-synchronization.html#troubleshooting-1"><i class="fa fa-check"></i><b>15.0.7</b> Troubleshooting</a></li>
<li class="chapter" data-level="15.0.8" data-path="database-synchronization.html"><a href="database-synchronization.html#network-status-map"><i class="fa fa-check"></i><b>15.0.8</b> Network Status Map</a></li>
<li class="chapter" data-level="15.0.9" data-path="database-synchronization.html"><a href="database-synchronization.html#tasks"><i class="fa fa-check"></i><b>15.0.9</b> Tasks</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="standalone-tools-modules.html"><a href="standalone-tools-modules.html"><i class="fa fa-check"></i><b>16</b> Standalone tools (modules)</a><ul>
<li class="chapter" data-level="16.0.1" data-path="standalone-tools-modules.html"><a href="standalone-tools-modules.html#LoadData"><i class="fa fa-check"></i><b>16.0.1</b> Loading Data in PEcAn</a></li>
<li class="chapter" data-level="16.0.2" data-path="standalone-tools-modules.html"><a href="standalone-tools-modules.html#function-load_data"><i class="fa fa-check"></i><b>16.0.2</b> Function <code>load_data</code></a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>17</b> Shiny</a><ul>
<li class="chapter" data-level="17.1" data-path="shiny.html"><a href="shiny.html#testing-the-shiny-server"><i class="fa fa-check"></i><b>17.1</b> Testing the Shiny Server</a></li>
<li class="chapter" data-level="17.2" data-path="shiny.html"><a href="shiny.html#debugging-shiny-apps"><i class="fa fa-check"></i><b>17.2</b> Debugging Shiny Apps</a></li>
<li class="chapter" data-level="17.3" data-path="shiny.html"><a href="shiny.html#checking-log-files"><i class="fa fa-check"></i><b>17.3</b> Checking Log Files</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html"><i class="fa fa-check"></i><b>18</b> Adding to PEcAn</a><ul>
<li class="chapter" data-level="18.1" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#adding-model"><i class="fa fa-check"></i><b>18.1</b> Adding An Ecosystem Model</a></li>
<li class="chapter" data-level="18.2" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#example-met-conversion-wrapper-function"><i class="fa fa-check"></i><b>18.2</b> Example met conversion wrapper function</a></li>
<li class="chapter" data-level="18.3" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#NewInput"><i class="fa fa-check"></i><b>18.3</b> Adding input data</a><ul>
<li class="chapter" data-level="18.3.1" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#meterological-data"><i class="fa fa-check"></i><b>18.3.1</b> Meterological Data</a></li>
<li class="chapter" data-level="18.3.2" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#vegetation-data-1"><i class="fa fa-check"></i><b>18.3.2</b> Vegetation Data</a></li>
<li class="chapter" data-level="18.3.3" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#soil-data-1"><i class="fa fa-check"></i><b>18.3.3</b> Soil Data</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#adding-data-web"><i class="fa fa-check"></i><b>18.4</b> Pecan Data Ingest via Web Interface</a></li>
<li class="chapter" data-level="18.5" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#NewFormat"><i class="fa fa-check"></i><b>18.5</b> Creating a new format</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="troubleshooting-and-debugging-pecan.html"><a href="troubleshooting-and-debugging-pecan.html"><i class="fa fa-check"></i><b>19</b> Troubleshooting and Debugging PEcAn</a><ul>
<li class="chapter" data-level="19.0.1" data-path="troubleshooting-and-debugging-pecan.html"><a href="troubleshooting-and-debugging-pecan.html#cookies-and-pecan-web-pages"><i class="fa fa-check"></i><b>19.0.1</b> Cookies and pecan web pages</a></li>
<li class="chapter" data-level="19.0.2" data-path="troubleshooting-and-debugging-pecan.html"><a href="troubleshooting-and-debugging-pecan.html#warning-mkdir-function.mkdir-no-such-file-or-directory"><i class="fa fa-check"></i><b>19.0.2</b> <code>Warning: mkdir() [function.mkdir]: No such file or directory</code></a></li>
<li class="chapter" data-level="19.0.3" data-path="troubleshooting-and-debugging-pecan.html"><a href="troubleshooting-and-debugging-pecan.html#after-creating-a-new-pft-the-tag-for-pft-not-passed-to-config.xml-in-ed"><i class="fa fa-check"></i><b>19.0.3</b> After creating a new PFT the <num> tag for PFT not passed to config.xml in ED</a></li>
<li class="chapter" data-level="19.1" data-path="troubleshooting-and-debugging-pecan.html"><a href="troubleshooting-and-debugging-pecan.html#debugging"><i class="fa fa-check"></i><b>19.1</b> Debugging</a><ul>
<li class="chapter" data-level="19.1.1" data-path="troubleshooting-and-debugging-pecan.html"><a href="troubleshooting-and-debugging-pecan.html#using-testsworkflow.r"><i class="fa fa-check"></i><b>19.1.1</b> Using <code>tests/workflow.R</code></a></li>
<li class="chapter" data-level="19.1.2" data-path="troubleshooting-and-debugging-pecan.html"><a href="troubleshooting-and-debugging-pecan.html#useful-scripts"><i class="fa fa-check"></i><b>19.1.2</b> Useful scripts</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="database.html"><a href="database.html"><i class="fa fa-check"></i><b>20</b> BETY Database Administration</a><ul>
<li class="chapter" data-level="20.0.1" data-path="database.html"><a href="database.html#database-setup"><i class="fa fa-check"></i><b>20.0.1</b> Best practices</a></li>
<li class="chapter" data-level="20.0.2" data-path="database.html"><a href="database.html#backup-of-bety-database"><i class="fa fa-check"></i><b>20.0.2</b> Backup of BETY database</a></li>
<li class="chapter" data-level="20.0.3" data-path="database.html"><a href="database.html#restore-of-bety-database"><i class="fa fa-check"></i><b>20.0.3</b> Restore of BETY database</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="workflow-modules.html"><a href="workflow-modules.html"><i class="fa fa-check"></i><b>21</b> Workflow modules</a><ul>
<li class="chapter" data-level="21.0.1" data-path="workflow-modules.html"><a href="workflow-modules.html#overview-1"><i class="fa fa-check"></i><b>21.0.1</b> Overview</a></li>
<li class="chapter" data-level="21.0.2" data-path="workflow-modules.html"><a href="workflow-modules.html#load-settings"><i class="fa fa-check"></i><b>21.0.2</b> Load Settings:</a></li>
<li class="chapter" data-level="21.0.3" data-path="workflow-modules.html"><a href="workflow-modules.html#query-database"><i class="fa fa-check"></i><b>21.0.3</b> Query Database:</a></li>
<li class="chapter" data-level="21.0.4" data-path="workflow-modules.html"><a href="workflow-modules.html#meta-analysis"><i class="fa fa-check"></i><b>21.0.4</b> Meta Analysis:</a></li>
<li class="chapter" data-level="21.0.5" data-path="workflow-modules.html"><a href="workflow-modules.html#write-configuration-files"><i class="fa fa-check"></i><b>21.0.5</b> Write Configuration Files</a></li>
<li class="chapter" data-level="21.0.6" data-path="workflow-modules.html"><a href="workflow-modules.html#start-runs"><i class="fa fa-check"></i><b>21.0.6</b> Start Runs:</a></li>
<li class="chapter" data-level="21.0.7" data-path="workflow-modules.html"><a href="workflow-modules.html#get-model-output"><i class="fa fa-check"></i><b>21.0.7</b> Get Model Output</a></li>
<li class="chapter" data-level="21.0.8" data-path="workflow-modules.html"><a href="workflow-modules.html#ensemble-analysis"><i class="fa fa-check"></i><b>21.0.8</b> Ensemble Analysis</a></li>
<li class="chapter" data-level="21.0.9" data-path="workflow-modules.html"><a href="workflow-modules.html#sensitivity-analysis-variance-decomposition"><i class="fa fa-check"></i><b>21.0.9</b> Sensitivity Analysis, Variance Decomposition</a></li>
<li class="chapter" data-level="21.0.10" data-path="workflow-modules.html"><a href="workflow-modules.html#glossary"><i class="fa fa-check"></i><b>21.0.10</b> Glossary</a></li>
<li class="chapter" data-level="21.1" data-path="workflow-modules.html"><a href="workflow-modules.html#pecanvm"><i class="fa fa-check"></i><b>21.1</b> PEcAn Virtual Machine</a><ul>
<li class="chapter" data-level="21.1.1" data-path="workflow-modules.html"><a href="workflow-modules.html#aws-setup"><i class="fa fa-check"></i><b>21.1.1</b> AWS Setup</a></li>
<li class="chapter" data-level="21.1.2" data-path="workflow-modules.html"><a href="workflow-modules.html#porting-vm-to-aws"><i class="fa fa-check"></i><b>21.1.2</b> Porting VM to AWS</a></li>
<li class="chapter" data-level="21.1.3" data-path="workflow-modules.html"><a href="workflow-modules.html#set-up-multiple-instances-optional"><i class="fa fa-check"></i><b>21.1.3</b> Set up multiple instances (optional)</a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="workflow-modules.html"><a href="workflow-modules.html#shiny-setup"><i class="fa fa-check"></i><b>21.2</b> Shiny Setup</a><ul>
<li class="chapter" data-level="21.2.1" data-path="workflow-modules.html"><a href="workflow-modules.html#install-the-shiny-r-package-and-shiny-server"><i class="fa fa-check"></i><b>21.2.1</b> Install the Shiny R package and Shiny server</a></li>
<li class="chapter" data-level="21.2.2" data-path="workflow-modules.html"><a href="workflow-modules.html#modify-the-shiny-configuration-file"><i class="fa fa-check"></i><b>21.2.2</b> Modify the shiny configuration file</a></li>
<li class="chapter" data-level="21.2.3" data-path="workflow-modules.html"><a href="workflow-modules.html#set-the-apache-proxy"><i class="fa fa-check"></i><b>21.2.3</b> Set the Apache proxy</a></li>
<li class="chapter" data-level="21.2.4" data-path="workflow-modules.html"><a href="workflow-modules.html#enable-and-start-the-shiny-server-and-restart-apache"><i class="fa fa-check"></i><b>21.2.4</b> Enable and start the shiny server, and restart apache</a></li>
<li class="chapter" data-level="21.2.5" data-path="workflow-modules.html"><a href="workflow-modules.html#troubleshooting-2"><i class="fa fa-check"></i><b>21.2.5</b> Troubleshooting</a></li>
<li class="chapter" data-level="21.2.6" data-path="workflow-modules.html"><a href="workflow-modules.html#further-reading"><i class="fa fa-check"></i><b>21.2.6</b> Further reading</a></li>
<li class="chapter" data-level="21.2.7" data-path="workflow-modules.html"><a href="workflow-modules.html#thredds-setup"><i class="fa fa-check"></i><b>21.2.7</b> Thredds Setup</a></li>
<li class="chapter" data-level="21.2.8" data-path="workflow-modules.html"><a href="workflow-modules.html#install-the-tomcat-8-and-thredds-webapp"><i class="fa fa-check"></i><b>21.2.8</b> Install the Tomcat 8 and Thredds webapp</a></li>
<li class="chapter" data-level="21.2.9" data-path="workflow-modules.html"><a href="workflow-modules.html#update-the-catalog"><i class="fa fa-check"></i><b>21.2.9</b> Update the catalog</a></li>
<li class="chapter" data-level="21.2.10" data-path="workflow-modules.html"><a href="workflow-modules.html#troubleshooting-3"><i class="fa fa-check"></i><b>21.2.10</b> Troubleshooting</a></li>
<li class="chapter" data-level="21.2.11" data-path="workflow-modules.html"><a href="workflow-modules.html#further-reading-1"><i class="fa fa-check"></i><b>21.2.11</b> Further reading</a></li>
<li class="chapter" data-level="21.2.12" data-path="workflow-modules.html"><a href="workflow-modules.html#osinstall"><i class="fa fa-check"></i><b>21.2.12</b> OS Specific Installations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="22" data-path="docker-index.html"><a href="docker-index.html"><i class="fa fa-check"></i><b>22</b> Docker</a><ul>
<li class="chapter" data-level="22.1" data-path="docker-index.html"><a href="docker-index.html#docker-intro"><i class="fa fa-check"></i><b>22.1</b> Introduction to Docker?</a><ul>
<li class="chapter" data-level="22.1.1" data-path="docker-index.html"><a href="docker-index.html#what-is-docker"><i class="fa fa-check"></i><b>22.1.1</b> What is Docker?</a></li>
<li class="chapter" data-level="22.1.2" data-path="docker-index.html"><a href="docker-index.html#working-with-docker"><i class="fa fa-check"></i><b>22.1.2</b> Working with Docker</a></li>
<li class="chapter" data-level="22.1.3" data-path="docker-index.html"><a href="docker-index.html#docker-compose"><i class="fa fa-check"></i><b>22.1.3</b> <code>docker-compose</code></a></li>
</ul></li>
<li class="chapter" data-level="22.2" data-path="docker-index.html"><a href="docker-index.html#docker-quickstart"><i class="fa fa-check"></i><b>22.2</b> The PEcAn docker install process in detail</a><ul>
<li class="chapter" data-level="22.2.1" data-path="docker-index.html"><a href="docker-index.html#pecan-setup-compose-configure"><i class="fa fa-check"></i><b>22.2.1</b> Configure docker-compose</a></li>
<li class="chapter" data-level="22.2.2" data-path="docker-index.html"><a href="docker-index.html#pecan-docker-quickstart-init"><i class="fa fa-check"></i><b>22.2.2</b> Initialize PEcAn (first time only)</a></li>
<li class="chapter" data-level="22.2.3" data-path="docker-index.html"><a href="docker-index.html#docker-quickstart-troubleshooting"><i class="fa fa-check"></i><b>22.2.3</b> Troubleshooting</a></li>
</ul></li>
<li class="chapter" data-level="22.3" data-path="docker-index.html"><a href="docker-index.html#pecan-docker"><i class="fa fa-check"></i><b>22.3</b> PEcAn Docker Architecture</a><ul>
<li class="chapter" data-level="22.3.1" data-path="docker-index.html"><a href="docker-index.html#pecan-docker-overview"><i class="fa fa-check"></i><b>22.3.1</b> Overview</a></li>
<li class="chapter" data-level="22.3.2" data-path="docker-index.html"><a href="docker-index.html#pecan-docker-compose"><i class="fa fa-check"></i><b>22.3.2</b> PEcAnâ€™s <code>docker-compose</code></a></li>
<li class="chapter" data-level="22.3.3" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-structure"><i class="fa fa-check"></i><b>22.3.3</b> Top-level structure</a></li>
<li class="chapter" data-level="22.3.4" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-traefik"><i class="fa fa-check"></i><b>22.3.4</b> <code>traefik</code></a></li>
<li class="chapter" data-level="22.3.5" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-portainer"><i class="fa fa-check"></i><b>22.3.5</b> <code>portainer</code></a></li>
<li class="chapter" data-level="22.3.6" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-minio"><i class="fa fa-check"></i><b>22.3.6</b> <code>minio</code></a></li>
<li class="chapter" data-level="22.3.7" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-thredds"><i class="fa fa-check"></i><b>22.3.7</b> <code>thredds</code></a></li>
<li class="chapter" data-level="22.3.8" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-postgres"><i class="fa fa-check"></i><b>22.3.8</b> <code>postgres</code></a></li>
<li class="chapter" data-level="22.3.9" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-rabbitmq"><i class="fa fa-check"></i><b>22.3.9</b> <code>rabbitmq</code></a></li>
<li class="chapter" data-level="22.3.10" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-bety"><i class="fa fa-check"></i><b>22.3.10</b> <code>bety</code></a></li>
<li class="chapter" data-level="22.3.11" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-docs"><i class="fa fa-check"></i><b>22.3.11</b> <code>docs</code></a></li>
<li class="chapter" data-level="22.3.12" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-web"><i class="fa fa-check"></i><b>22.3.12</b> <code>web</code></a></li>
<li class="chapter" data-level="22.3.13" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-executor"><i class="fa fa-check"></i><b>22.3.13</b> <code>executor</code></a></li>
<li class="chapter" data-level="22.3.14" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-monitor"><i class="fa fa-check"></i><b>22.3.14</b> <code>monitor</code></a></li>
<li class="chapter" data-level="22.3.15" data-path="docker-index.html"><a href="docker-index.html#pecan-dc-models"><i class="fa fa-check"></i><b>22.3.15</b> Model-specific containers</a></li>
</ul></li>
<li class="chapter" data-level="22.4" data-path="docker-index.html"><a href="docker-index.html#model-docker"><i class="fa fa-check"></i><b>22.4</b> Models using Docker</a><ul>
<li class="chapter" data-level="22.4.1" data-path="docker-index.html"><a href="docker-index.html#model-docker-json-file"><i class="fa fa-check"></i><b>22.4.1</b> Model information</a></li>
<li class="chapter" data-level="22.4.2" data-path="docker-index.html"><a href="docker-index.html#model-docker-Dockerfile"><i class="fa fa-check"></i><b>22.4.2</b> Model build</a></li>
<li class="chapter" data-level="22.4.3" data-path="docker-index.html"><a href="docker-index.html#common-docker-problems"><i class="fa fa-check"></i><b>22.4.3</b> Common problems</a></li>
<li class="chapter" data-level="22.4.4" data-path="docker-index.html"><a href="docker-index.html#debugging-missing-libraries"><i class="fa fa-check"></i><b>22.4.4</b> Debugging missing libraries</a></li>
</ul></li>
<li class="chapter" data-level="22.5" data-path="docker-index.html"><a href="docker-index.html#docker-build-images"><i class="fa fa-check"></i><b>22.5</b> Building and modifying images</a><ul>
<li class="chapter" data-level="22.5.1" data-path="docker-index.html"><a href="docker-index.html#docker-local-devel"><i class="fa fa-check"></i><b>22.5.1</b> Local development and testing with Docker</a></li>
</ul></li>
<li class="chapter" data-level="22.6" data-path="docker-index.html"><a href="docker-index.html#docker-troubleshooting"><i class="fa fa-check"></i><b>22.6</b> Troubleshooting Docker</a><ul>
<li class="chapter" data-level="22.6.1" data-path="docker-index.html"><a href="docker-index.html#package-not-available-while-building-images"><i class="fa fa-check"></i><b>22.6.1</b> â€œPackage not availableâ€ while building images</a></li>
</ul></li>
<li class="chapter" data-level="22.7" data-path="docker-index.html"><a href="docker-index.html#docker-migrate"><i class="fa fa-check"></i><b>22.7</b> Migrating PEcAn from VM to Docker</a><ul>
<li class="chapter" data-level="22.7.1" data-path="docker-index.html"><a href="docker-index.html#running-bety-as-a-docker-container"><i class="fa fa-check"></i><b>22.7.1</b> Running BETY as a docker container</a></li>
</ul></li>
<li class="chapter" data-level="22.8" data-path="docker-index.html"><a href="docker-index.html#pecan-api"><i class="fa fa-check"></i><b>22.8</b> The PEcAn Docker API</a></li>
<li class="chapter" data-level="22.9" data-path="docker-index.html"><a href="docker-index.html#rabbitmq"><i class="fa fa-check"></i><b>22.9</b> RabbitMQ</a><ul>
<li class="chapter" data-level="22.9.1" data-path="docker-index.html"><a href="docker-index.html#rabbitmq-basics-sender"><i class="fa fa-check"></i><b>22.9.1</b> Producer â€“ <code>sender.py</code></a></li>
<li class="chapter" data-level="22.9.2" data-path="docker-index.html"><a href="docker-index.html#rabbitmq-basics-receiver"><i class="fa fa-check"></i><b>22.9.2</b> Consumer â€“ <code>receiver.py</code></a></li>
<li class="chapter" data-level="22.9.3" data-path="docker-index.html"><a href="docker-index.html#rabbitmq-web"><i class="fa fa-check"></i><b>22.9.3</b> RabbitMQ and the PEcAn web interface</a></li>
<li class="chapter" data-level="22.9.4" data-path="docker-index.html"><a href="docker-index.html#rabbitmq-xml"><i class="fa fa-check"></i><b>22.9.4</b> RabbitMQ in the PEcAn XML</a></li>
<li class="chapter" data-level="22.9.5" data-path="docker-index.html"><a href="docker-index.html#rabbitmq-dockerfile"><i class="fa fa-check"></i><b>22.9.5</b> RabbitMQ configuration in Dockerfiles</a></li>
<li class="chapter" data-level="22.9.6" data-path="docker-index.html"><a href="docker-index.html#rabbitmq-case-study"><i class="fa fa-check"></i><b>22.9.6</b> Case study: PEcAn web interface</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="23" data-path="pecan-remote.html"><a href="pecan-remote.html"><i class="fa fa-check"></i><b>23</b> Remote execution with PEcAn</a><ul>
<li class="chapter" data-level="23.1" data-path="pecan-remote.html"><a href="pecan-remote.html#basics-of-ssh"><i class="fa fa-check"></i><b>23.1</b> Basics of SSH</a></li>
<li class="chapter" data-level="23.2" data-path="pecan-remote.html"><a href="pecan-remote.html#ssh-authentication-password-vs.ssh-key"><i class="fa fa-check"></i><b>23.2</b> SSH authentication â€“ password vs.Â SSH key</a></li>
<li class="chapter" data-level="23.3" data-path="pecan-remote.html"><a href="pecan-remote.html#ssh-tunneling"><i class="fa fa-check"></i><b>23.3</b> SSH tunneling</a></li>
<li class="chapter" data-level="23.4" data-path="pecan-remote.html"><a href="pecan-remote.html#ssh-tunnels-and-pecan"><i class="fa fa-check"></i><b>23.4</b> SSH tunnels and PEcAn</a></li>
<li class="chapter" data-level="23.5" data-path="pecan-remote.html"><a href="pecan-remote.html#basic-remote-execute-functions"><i class="fa fa-check"></i><b>23.5</b> Basic remote execute functions</a></li>
<li class="chapter" data-level="23.6" data-path="pecan-remote.html"><a href="pecan-remote.html#remote-model-execution-with-pecan"><i class="fa fa-check"></i><b>23.6</b> Remote model execution with PEcAn</a></li>
<li class="chapter" data-level="23.7" data-path="pecan-remote.html"><a href="pecan-remote.html#xml-configuration"><i class="fa fa-check"></i><b>23.7</b> XML configuration</a></li>
<li class="chapter" data-level="23.8" data-path="pecan-remote.html"><a href="pecan-remote.html#configuration-for-pecan-web-interface"><i class="fa fa-check"></i><b>23.8</b> Configuration for PEcAn web interface</a></li>
<li class="chapter" data-level="23.9" data-path="pecan-remote.html"><a href="pecan-remote.html#running-pecan-code-for-remotely"><i class="fa fa-check"></i><b>23.9</b> Running PEcAn code for remotely</a></li>
<li class="chapter" data-level="23.10" data-path="pecan-remote.html"><a href="pecan-remote.html#special-case-geo.bu.edu"><i class="fa fa-check"></i><b>23.10</b> Special case: <code>geo.bu.edu</code></a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="data-assimilation-with-dart.html"><a href="data-assimilation-with-dart.html"><i class="fa fa-check"></i><b>24</b> Data assimilation with DART</a></li>
<li class="part"><span><b>IV Appendix</b></span></li>
<li class="chapter" data-level="25" data-path="miscellaneous.html"><a href="miscellaneous.html"><i class="fa fa-check"></i><b>25</b> Miscellaneous</a><ul>
<li class="chapter" data-level="25.1" data-path="miscellaneous.html"><a href="miscellaneous.html#todo"><i class="fa fa-check"></i><b>25.1</b> TODO</a></li>
<li class="chapter" data-level="25.2" data-path="miscellaneous.html"><a href="miscellaneous.html#using-the-pecan-download.file-function"><i class="fa fa-check"></i><b>25.2</b> Using the PEcAn download.file() function</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="faq.html"><a href="faq.html"><i class="fa fa-check"></i><b>26</b> FAQ</a></li>
<li class="chapter" data-level="27" data-path="pecan-project-used-in-courses.html"><a href="pecan-project-used-in-courses.html"><i class="fa fa-check"></i><b>27</b> PEcAn Project Used in Courses</a><ul>
<li class="chapter" data-level="27.0.1" data-path="pecan-project-used-in-courses.html"><a href="pecan-project-used-in-courses.html#university-classes"><i class="fa fa-check"></i><b>27.0.1</b> University classes</a></li>
<li class="chapter" data-level="27.0.2" data-path="pecan-project-used-in-courses.html"><a href="pecan-project-used-in-courses.html#summer-courses-workshops"><i class="fa fa-check"></i><b>27.0.2</b> Summer Courses / Workshops</a></li>
<li class="chapter" data-level="27.0.3" data-path="pecan-project-used-in-courses.html"><a href="pecan-project-used-in-courses.html#selected-publications"><i class="fa fa-check"></i><b>27.0.3</b> Selected Publications</a></li>
</ul></li>
<li class="chapter" data-level="28" data-path="package-dependencies.html"><a href="package-dependencies.html"><i class="fa fa-check"></i><b>28</b> Package Dependencies</a><ul>
<li class="chapter" data-level="28.1" data-path="package-dependencies.html"><a href="package-dependencies.html#executive-summary-what-to-usually-do"><i class="fa fa-check"></i><b>28.1</b> Executive Summary: What to usually do</a></li>
<li class="chapter" data-level="28.2" data-path="package-dependencies.html"><a href="package-dependencies.html#big-picture-whats-possible-to-do"><i class="fa fa-check"></i><b>28.2</b> Big Picture: Whatâ€™s possible to do</a></li>
<li class="chapter" data-level="28.3" data-path="package-dependencies.html"><a href="package-dependencies.html#declaring-dependencies-depends-suggests-imports"><i class="fa fa-check"></i><b>28.3</b> Declaring Dependencies: Depends, Suggests, Imports</a></li>
<li class="chapter" data-level="28.4" data-path="package-dependencies.html"><a href="package-dependencies.html#importing-functions-use-roxygen"><i class="fa fa-check"></i><b>28.4</b> Importing Functions: Use Roxygen</a></li>
<li class="chapter" data-level="28.5" data-path="package-dependencies.html"><a href="package-dependencies.html#loading-code-dont-but-use-requirenamespace-when-you-do"><i class="fa fa-check"></i><b>28.5</b> Loading Code: Donâ€™tâ€¦ But Use <code>requireNamespace</code> When You Do</a></li>
<li class="chapter" data-level="28.6" data-path="package-dependencies.html"><a href="package-dependencies.html#installing-dependencies-let-the-machines-do-it"><i class="fa fa-check"></i><b>28.6</b> Installing dependencies: Let the machines do it</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="appendix-testthat.html"><a href="appendix-testthat.html"><i class="fa fa-check"></i><b>29</b> Testing with the <code>testthat</code> package</a><ul>
<li class="chapter" data-level="29.1" data-path="appendix-testthat.html"><a href="appendix-testthat.html#list-of-expectations"><i class="fa fa-check"></i><b>29.1</b> List of Expectations</a></li>
<li class="chapter" data-level="29.2" data-path="appendix-testthat.html"><a href="appendix-testthat.html#basic-use-of-the-testthat-package"><i class="fa fa-check"></i><b>29.2</b> Basic use of the <code>testthat</code> package</a></li>
<li class="chapter" data-level="29.3" data-path="appendix-testthat.html"><a href="appendix-testthat.html#data-for-tests"><i class="fa fa-check"></i><b>29.3</b> Data for tests</a></li>
<li class="chapter" data-level="29.4" data-path="appendix-testthat.html"><a href="appendix-testthat.html#settings-1"><i class="fa fa-check"></i><b>29.4</b> Settings</a></li>
<li class="chapter" data-level="29.5" data-path="appendix-testthat.html"><a href="appendix-testthat.html#helper-functions-for-unit-tests"><i class="fa fa-check"></i><b>29.5</b> Helper functions for unit tests</a></li>
</ul></li>
<li class="chapter" data-level="30" data-path="developer-devtools.html"><a href="developer-devtools.html"><i class="fa fa-check"></i><b>30</b> <code>devtools</code> package</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The Predictive Ecosystem Analyzer</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="developer-guide" class="section level1">
<h1><span class="header-section-number">8</span> Developer guide</h1>
<ul>
<li><a href="developer-guide.html#updatebety">Update BETY</a></li>
<li><a href="developer-guide.html#pecan-make">Update PEcAn Code</a></li>
<li><a href="developer-guide.html#pecan-git">PEcAn and Git</a></li>
<li><a href="developer-guide.html#coding-practices">Coding Practices</a></li>
</ul>

<div id="updatebety" class="section level2">
<h2><span class="header-section-number">8.1</span> Updating PEcAn Code and Bety Database</h2>
<p>Release notes for all releases can be found <a href="https://github.com/PecanProject/pecan/releases">here</a>.</p>
<p>This page will only list any steps you have to do to upgrade an existing system. When updating PEcAn it is highly encouraged to update BETY. You can find instructions on how to do this, as well on how to update the database in the <a href="https://pecan.gitbooks.io/betydb-documentation/content/updating_betydb_when_new_versions_are_released.html">Updating BETYdb</a> gitbook page.</p>
<div id="pecan-make" class="section level3">
<h3><span class="header-section-number">8.1.1</span> Updating PEcAn</h3>
<p>The latest version of PEcAn code can be obtained from the PEcAn repository on GitHub:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb74-1" data-line-number="1"><span class="bu">cd</span> pecan        # If you are not already in the PEcAn directory</a>
<a class="sourceLine" id="cb74-2" data-line-number="2"><span class="fu">git</span> pull</a></code></pre></div>
<p>The PEcAn build system is based on GNU Make.
The simplest way to install is to run <code>make</code> from inside the PEcAn directory.
This will update the documentation for all packages and install them, as well as all required dependencies.</p>
<p>For more control, the following <code>make</code> commands are available:</p>
<ul>
<li><p><code>make document</code> â€“ Use <code>devtools::document</code> to update the documentation for all package.
Under the hood, this uses the <code>roxygen2</code> documentation system.</p></li>
<li><p><code>make install</code> â€“ Install all packages and their dependnencies using <code>devtools::install</code>.
By default, this only installs packages that have had their code changed and any dependent packages.</p></li>
<li><p><code>make check</code> â€“ Perform a rigorous check of packages using <code>devtools::check</code></p></li>
<li><p><code>make test</code> â€“ Run all unit tests (based on <code>testthat</code> package) for all packages, using <code>devtools::test</code></p></li>
<li><p><code>make clean</code> â€“ Remove the make build cache, which is used to track which packages have changed.
Cache files are stored in the <code>.doc</code>, <code>.install</code>, <code>.check</code>, and <code>.test</code> subdirectories in the PEcAn main directory.
Running <code>make clean</code> will force the next invocation of <code>make</code> commands to operate on all PEcAn packages, regardless of changes.</p></li>
</ul>
<p>The following are some additional <code>make</code> tricks that may be useful:</p>
<ul>
<li><p>Install, check, document, or test a specific package â€“ <code>make .&lt;cmd&gt;/&lt;pkg-dir&gt;</code>; e.g. <code>make .install/utils</code> or <code>make .check/modules/rtm</code></p></li>
<li><p>Force <code>make</code> to run, even if package has not changed â€“ <code>make -B &lt;command&gt;</code></p></li>
<li><p>Run <code>make</code> commands in parallel â€“ <code>make -j&lt;ncores&gt;</code>; e.g. <code>make -j4 install</code> to install packages using four parallel processes.</p></li>
</ul>
<p>All instructions for the <code>make</code> build system are contained in the <code>Makefile</code> in the PEcAn root directory.
For full documentation on <code>make</code>, see the man pages by running <code>man make</code> from a terminal.</p>

</div>
</div>
<div id="pecan-git" class="section level2">
<h2><span class="header-section-number">8.2</span> Git and GitHub Workflow</h2>
<p><span id="using-git">Using Git</span></p>

<div id="using-git" class="section level3">
<h3><span class="header-section-number">8.2.1</span> Using Git</h3>
<p>This document describes the steps required to download PEcAn, make changes to code, and submit your changes.</p>
<ul>
<li>If you are new to GitHub or to PEcAn, start with the one-time set-up instructions under <a href="developer-guide.html#before-any-work-is-done">Before any work is done</a>. Also see the excellent tutorials and references in the <a href="developer-guide.html#git">Git</a>) section right below this list and at the bootom in <a href="developer-guide.html#references">References</a>.</li>
<li>To make trivial changes, see <a href="developer-guide.html#quick-and-easy">Quick and Easy</a>.</li>
<li>To make a few changes to the code, start with the <a href="developer-guide.html#basic-workflow">Basic Workflow</a>.</li>
<li>To make substantial changes and/or if plan to contribute over time see <a href="developer-guide.html#recommended-workflow-a-new-branch-for-each-change">Recommended Workflow: A new branch for each change</a>.</li>
</ul>
<div id="git" class="section level4">
<h4><span class="header-section-number">8.2.1.1</span> Git</h4>
<p>Git is a free &amp; open source, distributed version control system designed
to handle everything from small to very large projects with speed and
efficiency. Every Git clone is a full-fledged repository with complete
history and full revision tracking capabilities, not dependent on
network access or a central server. Branching and merging are fast and
easy to do.</p>
<p>A good place to start is the <a href="https://guides.github.com/introduction/flow/">GitHub 5 minute illustrated tutorial</a>.
In addition, there are three fun tutorials for learning git:</p>
<ul>
<li><a href="https:k//www.codecademy.com/learn/learn-git">Learn Git</a> is a great web-based interactive tutorial.</li>
<li><a href="https://learngitbranching.js.org/">LearnGitBranching</a></li>
<li><a href="http://tryk.github.com">TryGit</a>.</li>
</ul>
<p><strong>URLs</strong> In the rest of the document will use specific URLâ€™s to clone the code.
There a few URLâ€™s you can use to clone a project, using https, ssh and
git. You can use either https or git to clone a repository and write to
it. The git protocol is read-only.
This document describes the steps required to download PEcAn, make changes to code, and submit your changes.</p>
</div>
<div id="pecan-project-and-github" class="section level4">
<h4><span class="header-section-number">8.2.1.2</span> PEcAn Project and Github</h4>
<ul>
<li>Organization Repository: <a href="https://github.com/organizations/PecanProject" class="uri">https://github.com/organizations/PecanProject</a></li>
<li>PEcAn source code: <a href="https://github.com/PecanProject/pecan.git" class="uri">https://github.com/PecanProject/pecan.git</a></li>
<li>BETYdb source code: <a href="https://github.com/PecanProject/bety.git" class="uri">https://github.com/PecanProject/bety.git</a></li>
</ul>
<p>These instructions apply to other repositories too.</p>
</div>
<div id="pecan-project-branches" class="section level4">
<h4><span class="header-section-number">8.2.1.3</span> PEcAn Project Branches</h4>
<p>We follow branch organization laid out on <a href="http://nvie.com/posts/a-successful-git-branching-model">this page</a>.</p>
<p>In short, there are three main branches you must be aware of:</p>
<ul>
<li><strong>develop</strong> - Main Branch containing the latest code. This is the main branch you will make changes to.</li>
<li><strong>master</strong> - Branch containing the latest stable code. DO NOT MAKE CHANGES TO THIS BRANCH.</li>
<li><strong>release/vX.X.X</strong> - Named branches containing code specific to a release. Only make changes to this branch if you are fixing a bug on a release branch.</li>
</ul>
</div>
<div id="milestones-issues-tasks" class="section level4">
<h4><span class="header-section-number">8.2.1.4</span> Milestones, Issues, Tasks</h4>
<p>The Milestones, issues, and tasks can be used to organize specific features or research projects. In general, there is a heirarchy:</p>
<ul>
<li>milestones (Big picture, â€œEpicâ€): contains many issues, organized by release.</li>
<li>issues (Specific features / bugs, â€œStoryâ€): may contain a list of tasks; represent</li>
<li>task list (to do list, â€œTasksâ€): list of steps required to close an issue, e.g.:</li>
</ul>
<table>
<tbody>
<tr class="odd">
<td align="left">* [ ] first do this</td>
</tr>
<tr class="even">
<td align="left">* [ ] then this</td>
</tr>
<tr class="odd">
<td align="left">* [ ] completed when x and y</td>
</tr>
</tbody>
</table>
</div>
<div id="quick-and-easy" class="section level4">
<h4><span class="header-section-number">8.2.1.5</span> Quick and Easy</h4>
<p>The <strong>easiest</strong> approach is to use GitHubâ€™s browser based workflow. This is useful when your change is a few lines, if you are editing a wiki, or if the edit is trivial (and wonâ€™t break the code). The <a href="https://help.github.com/articles/github-flow-in-the-browser">GitHub documentation is here</a> but it is simple: finding the page or file you want to edit, click â€œeditâ€ and then the GitHub web application will automatically forking and branch, then allow you to submit a pull request. However, it should be noted that unless you are a member of the PEcAn project that the â€œeditâ€ button will not be active and youâ€™ll want to follow the workflow described below for forking and then submitting a pull request.</p>
</div>
<div id="recommended-git-workflow" class="section level4">
<h4><span class="header-section-number">8.2.1.6</span> Recommended Git Workflow</h4>
<p><strong>Each feature should be in its own branch</strong> (for example each issue is a branch, names of branches are often the issue in a bug tracking system).</p>
<p><strong>Commit and Push Frequency</strong> On your branch, commit <strong><em>at minimum once a day before you push changes:</em></strong> even better: every time you reach a stopping point and move to a new issue. best: any time that you have done work that you do not want to re-do. Remember, pushing changes to your branch is like saving a draft. Submit a pull request when you are done.</p>
</div>
<div id="before-any-work-is-done" class="section level4">
<h4><span class="header-section-number">8.2.1.7</span> Before any work is done</h4>
<p>The first step below only needs to be done once when you first start working on the PEcAn code. The steps below that need to be done to set up PEcAn on your computer, and would need to be repeated if you move to a new computer. If you are working from the PEcAn VM, you can skip the â€œgit cloneâ€ since the PEcAn code is already installed.</p>
<p>Most people will not be able to work in the PEcAn repository directly and will need to create a fork of the PEcAn source code in their own folder. To fork PEcAn into your own github space (<a href="https://help.github.com/articles/fork-a-repo">github help: â€œfork a repoâ€</a>). This forked repository will allow you to create branches and commit changes back to GitHub and create pull requests to the develop branch of PEcAn.</p>
<p>The forked repository is the only way for external people to commit code back to PEcAn and BETY. The pull request will start a review process that will eventually result in the code being merged into the main copy of the codebase. See <a href="https://help.github.com/articles/fork-a-repo" class="uri">https://help.github.com/articles/fork-a-repo</a> for more information, especially on how to keep your fork up to date with respect to the original. (Rstudio users should also see <a href="Using-Git.md#git--rstudio">Git + Rstudio</a>, below)</p>
<p>You can setup SSH keys to make it easier to commit cod back to GitHub. This might especially be true if you are working from a cluster, see <a href="https://help.github.com/articles/generating-ssh-keys">set up ssh keys</a></p>
<ol style="list-style-type: decimal">
<li>Introduce yourself to GIT</li>
</ol>
<p><code>git config --global user.name &quot;FULLNAME&quot;</code>
<code>git config --global user.email you@yourdomain.example.com</code></p>
<ol start="2" style="list-style-type: decimal">
<li><p>Fork PEcAn on GitHub. Go to the PEcAn source code and click on the Fork button in the upper right. This will create a copy of PEcAn in your personal space.</p></li>
<li><p>Clone to your local machine via command line</p></li>
</ol>
<p><code>git clone git@github.com:&lt;username&gt;/pecan.git</code></p>
<p>If this does not work, try the https method</p>
<p><code>git clone https://github.com/PecanProject/pecan.git</code></p>
<ol start="4" style="list-style-type: decimal">
<li>Define upstream repository</li>
</ol>
<pre><code>cd pecan
git remote add upstream git@github.com:PecanProject/pecan.git</code></pre>
</div>
<div id="during-development" class="section level4">
<h4><span class="header-section-number">8.2.1.8</span> During development:</h4>
<ul>
<li>commit often;</li>
<li>each commit can address 0 or 1 issue; many commits can reference an issue</li>
<li>ensure that all tests are passing before anything is pushed into develop.</li>
</ul>
</div>
<div id="basic-workflow" class="section level4">
<h4><span class="header-section-number">8.2.1.9</span> Basic Workflow</h4>
<p>This workflow is for educational purposes only. Please use the Recommended Workflow if you plan on contributing to PEcAn. This workflow does not include creating branches, a feature we would like you to use.
1. Get the latest code from the main repository</p>
<p><code>git pull upstream develop</code></p>
<ol start="2" style="list-style-type: decimal">
<li><p>Do some coding</p></li>
<li><p>Commit after each chunk of code (multiple times a day)</p></li>
</ol>
<p><code>git commit -m &quot;&lt;some descriptive information about what was done; references/fixes gh-X&gt;&quot;</code></p>
<ol start="4" style="list-style-type: decimal">
<li>Push to YOUR Github (when a feature is working, a set of bugs are fixed, or you need to share progress with others)</li>
</ol>
<p><code>git push origin develop</code></p>
<ol start="5" style="list-style-type: decimal">
<li>Before submitting code back to the main repository, make sure that code compiles from the main directory.</li>
</ol>
<p><code>make</code></p>
<ol start="6" style="list-style-type: decimal">
<li>submit pull request with a reference to related issue;</li>
</ol>
<ul>
<li>also see <a href="https://help.github.com/articles/using-pull-requests">github documentation</a></li>
</ul>
</div>
<div id="recommended-workflow-a-new-branch-for-each-change" class="section level4">
<h4><span class="header-section-number">8.2.1.10</span> Recommended Workflow: A new branch for each change</h4>
<ol style="list-style-type: decimal">
<li>Make sure you start in develop</li>
</ol>
<p><code>git checkout develop</code></p>
<ol start="2" style="list-style-type: decimal">
<li>Make sure develop is up to date</li>
</ol>
<p><code>git pull upstream develop</code></p>
<ol start="3" style="list-style-type: decimal">
<li>Run the PEcAn MAKEFILE to compile code from the main directory.</li>
</ol>
<p><code>make</code></p>
<ol start="4" style="list-style-type: decimal">
<li>Create a branch and switch to it</li>
</ol>
<p><code>git checkout -b &lt;branchname&gt;</code></p>
<ol start="5" style="list-style-type: decimal">
<li>Work/commit/etc</li>
</ol>
<p><code>git add &lt;file_that_was_changed.R&gt;</code></p>
<p><code>git commit -m &quot;&lt;some descriptive information about what was done&gt;&quot;</code></p>
<ol start="6" style="list-style-type: decimal">
<li>Make sure that code compiles and documentation updated. The make document command will run roxygenise.</li>
</ol>
<p><code>make document</code>
<code>make</code></p>
<ol start="7" style="list-style-type: decimal">
<li>Push this branch to your github space</li>
</ol>
<p><code>git push origin &lt;branchname&gt;</code></p>
<ol start="8" style="list-style-type: decimal">
<li>submit pull request with [[link commits to issues|Using-Git#link-commits-to-issuess]];</li>
</ol>
<ul>
<li>also see <a href="https://github.com/PecanProject/bety/issues/57">explanation in this PecanProject/bety issue</a> and <a href="https://help.github.com/articles/using-pull-requests">github documentation</a></li>
</ul>
</div>
<div id="after-pull-request-is-merged" class="section level4">
<h4><span class="header-section-number">8.2.1.11</span> After pull request is merged</h4>
<ol style="list-style-type: decimal">
<li>Make sure you start in master</li>
</ol>
<p><code>git checkout develop</code></p>
<ol start="2" style="list-style-type: decimal">
<li>delete branch remotely</li>
</ol>
<p><code>git push origin --delete &lt;branchname&gt;</code></p>
<ol start="3" style="list-style-type: decimal">
<li>delete branch locally</li>
</ol>
<p><code>git branch -D &lt;branchname&gt;</code></p>
</div>
<div id="fixing-a-release-branch" class="section level4">
<h4><span class="header-section-number">8.2.1.12</span> Fixing a release Branch</h4>
<p>If you would like to make changes to a release branch, you must follow a different workflow, as the release branch will not contain the latest code on develop and must remain seperate.</p>
<ol style="list-style-type: decimal">
<li>Fetch upstream remote branches</li>
</ol>
<p><code>git fetch upstream</code></p>
<ol start="2" style="list-style-type: decimal">
<li>Checkout the correct release branch</li>
</ol>
<p><code>git checkout -b release/vX.Y.Z</code></p>
<ol start="4" style="list-style-type: decimal">
<li>Compile Code with make</li>
</ol>
<p><code>make</code></p>
<ol start="5" style="list-style-type: decimal">
<li>Make changes and commit them</li>
</ol>
<p><code>git add &lt;changed_file.R&gt;</code>
<code>git commit -m &quot;Describe changes&quot;</code></p>
<ol start="6" style="list-style-type: decimal">
<li><p>Compile and make roxygen changes
<code>make</code>
<code>make document</code></p></li>
<li><p>Commit and push any files that were changed by make document</p></li>
<li><p>Make a pull request. It is essential that you compare your pull request to the remote release branch, NOT the develop branch.</p></li>
</ol>
</div>
<div id="link-commits-to-issues" class="section level4">
<h4><span class="header-section-number">8.2.1.13</span> Link commits to issues</h4>
<p>You can reference and close issues from comments, pull requests, and commit messages. This should be done when you commit code that is related to or will close/fix an existing issue.</p>
<p>There are two ways to do this. One easy way is to include the following text in your commit message:</p>
<ul>
<li><a href="https://github.com/blog/1386-closing-issues-via-commit-messages"><strong>Github</strong></a></li>
<li>to close: â€œcloses gh-xxxâ€ (or syn. close, closed, fixes, fix, fixed)<br />
</li>
<li>to reference: just the issue number (e.g. â€œgh-xxxâ€)</li>
</ul>
</div>
<div id="other-useful-git-commands" class="section level4">
<h4><span class="header-section-number">8.2.1.14</span> Other Useful Git Commands:</h4>
<ul>
<li>GIT encourages branching â€œearly and oftenâ€</li>
<li>First pull from develop</li>
<li>Branch before working on feature</li>
<li>One branch per feature</li>
<li>You can switch easily between branches</li>
<li>Merge feature into main line when branch done</li>
</ul>
<p>If during above process you want to work on something else, commit all
your code, create a new branch, and work on new branch.</p>
<ul>
<li>Delete a branch: <code>git branch -d &lt;name of branch&gt;</code></li>
<li>To push a branch git: <code>push -u origin</code><name of branch>`</li>
<li>To check out a branch:</li>
</ul>
<pre><code>git fetch origin
git checkout --track origin/&lt;name of branch&gt;</code></pre>
<ul>
<li>Show graph of commits:</li>
</ul>
<p><code>git log --graph --oneline --all</code></p>
</div>
<div id="tags" class="section level4">
<h4><span class="header-section-number">8.2.1.15</span> Tags</h4>
<p>Git supports two types of tags: lightweight and annotated. For more information see the <a href="http://git-scm.com/book/ch2-6.html">Tagging Chapter in the Git documentation</a>.</p>
<p>Lightweight tags are useful, but here we discuss the annotated tags that are used for marking stable versions, major releases, and versions associated with published results.</p>
<p>The basic command is <code>git tag</code>. The <code>-a</code> flag means â€˜annotatedâ€™ and <code>-m</code> is used before a message. Here is an example:</p>
<p><code>git tag -a v0.6 -m &quot;stable version with foo and bar features, used in the foobar publication by Bob&quot;</code></p>
<p>Adding a tag to the a remote repository must be done explicitly with a push, e.g.</p>
<p><code>git push v0.6</code></p>
<p>To use a tagged version, just checkout:</p>
<p><code>git checkout v0.6</code></p>
<p>To tag an earlier commit, just append the commit SHA to the command, e.g.</p>
<p><code>git tag -a v0.99 -m &quot;last version before 1.0&quot; 9fceb02</code></p>
<p><strong>Using GitHub</strong> The easiest way to get working with GitHub is by installing the GitHub
client. For instructions for your specific OS and download of the
GitHub client, see <a href="https://help.github.com/articles/set-up-git" class="uri">https://help.github.com/articles/set-up-git</a>.
This will help you set up an SSH key to push code back to GitHub. To
check out a project you do not need to have an ssh key and you can use
the https or git url to check out the code.</p>
</div>
<div id="git-rstudio" class="section level4">
<h4><span class="header-section-number">8.2.1.16</span> Git + Rstudio</h4>
<p>Rstudio is nicely integrated with many development tools, including git and GitHub.
It is quite easy to check out source code from within the Rstudio program or browser.
The Rstudio documentation includes useful overviews of <a href="http://www.rstudio.com/ide/docs/version_control/overview">version control</a> and <a href="http://www.rstudio.com/ide/docs/packages/overview">R package development</a>.</p>
<p>Once you have git installed on your computer (see the <a href="http://www.rstudio.com/ide/docs/version_control/overview">Rstudio version control</a> documentation for instructions), you can use the following steps to install the PEcAn source code in Rstudio.</p>
</div>
<div id="creating-a-read-only-version" class="section level4">
<h4><span class="header-section-number">8.2.1.17</span> Creating a Read-only version:</h4>
<p>This is a fast way to clone the repository that does not support contributing new changes (this can be done with further modification).</p>
<ol style="list-style-type: decimal">
<li>install Rstudio (www.rstudio.com)</li>
<li>click (upper right) project</li>
</ol>
<ul>
<li>create project</li>
<li>version control</li>
<li>Git - clone a project from a Git Repository</li>
<li>paste <a href="https://www.github.com/PecanProject/pecan" class="uri">https://www.github.com/PecanProject/pecan</a></li>
<li>choose working dir. for repo</li>
</ul>
</div>
<div id="for-development" class="section level4">
<h4><span class="header-section-number">8.2.1.18</span> For development:</h4>
<ol style="list-style-type: decimal">
<li>create account on github</li>
<li>create a fork of the PEcAn repository to your own account <a href="https://www.github.com/pecanproject/pecan" class="uri">https://www.github.com/pecanproject/pecan</a></li>
<li>install Rstudio (www.rstudio.com)</li>
<li>generate an ssh key</li>
</ol>
<ul>
<li>in Rstudio:
<ul>
<li><code>Tools -&gt; Options -&gt; Git/SVN -&gt; &quot;create RSA key&quot;</code></li>
</ul></li>
<li><code>View public key -&gt; ctrl+C to copy</code></li>
<li>in GitHub</li>
<li>go to <a href="https://github.com/settings/ssh">ssh settings</a></li>
<li><code>-&gt; 'add ssh key' -&gt; ctrl+V to paste -&gt; 'add key'</code></li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Create project in Rstudio</li>
</ol>
<ul>
<li><code>project (upper right) -&gt; create project -&gt; version control -&gt; Git - clone a project from a Git Repository</code></li>
<li>paste repository url <code>git@github.com:&lt;username&gt;/pecan.git&gt;</code></li>
<li>choose working dir. for repository</li>
</ul>
</div>
<div id="references" class="section level4">
<h4><span class="header-section-number">8.2.1.19</span> References</h4>
</div>
<div id="git-documentation" class="section level4">
<h4><span class="header-section-number">8.2.1.20</span> Git Documentation</h4>
<ul>
<li>Scott Chacon, â€˜Pro Git bookâ€™,
<a href="http://git-scm.com/book" class="uri">http://git-scm.com/book</a></li>
<li>GitHub help pages,
<a href="https://help.github.com" class="uri">https://help.github.com</a>/</li>
<li>Main GIT page
<a href="http://git-scm.com/documentation" class="uri">http://git-scm.com/documentation</a></li>
<li>Another set of pages about branching,
<a href="http://sandofsky.com/blog/git-workflow.html" class="uri">http://sandofsky.com/blog/git-workflow.html</a></li>
<li><a href="http://stackoverflow.com/questions/tagged/git?sort=votes&amp;pagesize=50">Stackoverflow highest voted questions tagged â€œgitâ€</a></li>
</ul>
</div>
<div id="github-documentation" class="section level4">
<h4><span class="header-section-number">8.2.1.21</span> GitHub Documentation</h4>
<p>When in doubt, the first step is to click the â€œHelpâ€ button at the top of the page.</p>
<ul>
<li><a href="http://scottchacon.com/2011/08/31/github-flow.html">GitHub Flow</a> by
Scott Chacon (Git evangelist and Ruby developer working on GitHub.com)</li>
<li><a href="https://help.github.com/">GitHub FAQ</a></li>
<li><a href="https://help.github.com/articles/using-pull-requests">Using Pull Requests</a></li>
<li><a href="https://help.github.com/articles/generating-ssh-keys">SSH Keys</a></li>
</ul>

</div>
</div>
<div id="github-use-with-pecan" class="section level3">
<h3><span class="header-section-number">8.2.2</span> GitHub use with PEcAn</h3>
<p>In this section, development topics are introduced and discussed. PEcAn code lives within the If you are looking for an issue to work on, take a look through issues labled <a href="https://github.com/PecanProject/pecan/issues?q=is%3Aopen+is%3Aissue+label%3A%22good+first+issue%22">â€œgood first issueâ€</a>. To get started you will want to review</p>
<p>We use GitHub to track development.</p>
<p>To learn about GitHub, it is worth taking some time to read through the <a href="https://help.github.com/">FAQ</a>. When in doubt, the first step is to click the â€œHelpâ€ button at the top of the page.</p>
<ul>
<li><strong>To address specific people</strong>, use a github feature called <span class="citation">@mentions</span> e.g.Â write <span class="citation">@dlebauer</span>, <span class="citation">@robkooper</span>, <span class="citation">@mdietze</span>, or <span class="citation">@serbinsh</span> â€¦ in the issue to alert the user as described in the <a href="https://help.github.com/articles/notifications">GitHub documentation on notifications</a></li>
</ul>
<div id="bugs-issues-features-etc." class="section level4">
<h4><span class="header-section-number">8.2.2.1</span> Bugs, Issues, Features, etc.</h4>
</div>
<div id="reporting-a-bug" class="section level4">
<h4><span class="header-section-number">8.2.2.2</span> Reporting a bug</h4>
<ol style="list-style-type: decimal">
<li>(For developers) work through debugging.</li>
<li>Once you have identified a problem, that you can not resolve, you can write a bug report</li>
<li>Write a bug report</li>
<li>submit the bug report</li>
<li>If you do find the answer, explain the resolution (in the issue) and close the issue</li>
</ol>
</div>
<div id="required-content" class="section level4">
<h4><span class="header-section-number">8.2.2.3</span> Required content</h4>
<p>Note:</p>
<ul>
<li><strong>a bug is only a bug if it is reproducible</strong></li>
<li><strong>clear bug reports save time</strong></li>
</ul>
<ol style="list-style-type: decimal">
<li>Clear, specific title</li>
<li>Description -</li>
</ol>
<ul>
<li>What you did</li>
<li>What you expected to happen</li>
<li>What actually happened</li>
<li>What does work, under what conditions does it fail?</li>
<li>Reproduction steps - minimum steps required to reproduce the bug</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>additional materials that could help identify the cause:</li>
</ol>
<ul>
<li>screen shots</li>
<li>stack traces, logs, scripts, output</li>
<li>specific code and data / settings / configuration files required to reproduce the bug</li>
<li>environment (operating system, browser, hardware)</li>
</ul>
</div>
<div id="requesting-a-feature" class="section level4">
<h4><span class="header-section-number">8.2.2.4</span> Requesting a feature</h4>
<p>(from The Pragmatic Programmer, available as
<a href="http://proquestcombo.safaribooksonline.com/0-201-61622-X/223">ebook</a>
through UI libraries, hardcopy on Davidâ€™s bookshelf)<br />
</p>
<ul>
<li>focus on â€œuser storiesâ€, e.g.Â specific use cases</li>
<li><p>Be as specific as possible,</p></li>
<li><p>Here is an example:</p></li>
</ul>
<ol style="list-style-type: decimal">
<li>Bob is at www.mysite.edu/maps</li>
<li>map of the the region (based on user location, e.g.Â US, Asia, etc)</li>
<li>option to â€œuse current locationâ€ is provided, if clicked, map zooms in to, e.g.Â state or county level</li>
<li>for site run:
<ol style="list-style-type: decimal">
<li>option to select existing site or specify point by lat/lon</li>
<li>option to specify a bounding box and grid resolution in
either lat/lon or polar stereographic.</li>
</ol></li>
<li>asked to specify start and end times in terms of year, month, day, hour, minute. Time is recorded in UTC not local time, this should be indicated.</li>
</ol>
</div>
<div id="closing-an-issue" class="section level4">
<h4><span class="header-section-number">8.2.2.5</span> Closing an issue</h4>
<ol style="list-style-type: decimal">
<li>Definition of â€œDoneâ€</li>
</ol>
<ul>
<li>test</li>
<li>documentation</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>when issue is resolved:</li>
</ol>
<ul>
<li>status is changed to â€œresolvedâ€</li>
<li>assignee is changed to original author</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>if original author agrees that issue has been resolved</li>
</ol>
<ul>
<li>original author changes status to â€œclosedâ€</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>except for trivial issues, issues are only closed by the author</li>
</ol>
</div>
<div id="when-to-submit-an-issue" class="section level4">
<h4><span class="header-section-number">8.2.2.6</span> When to submit an issue?</h4>
<p><strong>Ideally, non-trivial code changes will be linked to an issue and a commit.</strong></p>
<p>This requires creating issues for each task, making small commits, and referencing the issue within your commit message. Issues can be created <a href="https://github.com/PecanProject/pecan/issues/new">on GitHub</a>. These issues can be linked to commits by adding text such as <code>fixes gh-5</code>).</p>
<p>Rationale: This workflow is a small upfront investment that reduces error and time spent re-creating and debugging errors. Associating issues and commits, makes it easier to identify why a change was made, and potential bugs that could arise when the code is changed. In addition, knowing which issue you are working on clarifies the scope and objectives of your current task.</p>

</div>
</div>
</div>
<div id="coding-practices" class="section level2">
<h2><span class="header-section-number">8.3</span> Coding Practices</h2>

<div id="developer-codestyle" class="section level3">
<h3><span class="header-section-number">8.3.1</span> Coding Style</h3>
<p>Consistent coding style improves readability and reduces errors in
shared code.</p>
<p>Unless otherwise noted, PEcAn follows the <a href="https://style.tidyverse.org/">Tidyverse style guide</a>, so please familiarize yourself with it before contributing.
In addition, note the following:</p>
<ul>
<li><strong>Document all functions using <code>roxygen2</code></strong>.
See <a href="developer-guide.html#developer-roxygen">Roxygen2</a> for more details.</li>
<li><strong>Put your name on things</strong>.
Any function that you create or make a meaningful contribution to should have your name listed after the author tag in the function documentation.
It is also often a good idea to add your name to extended comments describing particularly complex or strange code.</li>
<li><strong>Write unit tests with <code>testthat</code></strong>.
Tests are a complement to documentation - they define what a function is (and is not) expected to do.
Not all functions necessarily need unit tests, but the more tests we have, the more confident we can be that changes donâ€™t break existing code.
Whenever you discover and fix a bug, it is a good idea to write a unit test that makes sure the same bug wonâ€™t happen again.
See <a href="developer-guide.html#developer-testing">Unit_Testing</a> for instructions, and <a href="http://r-pkgs.had.co.nz/tests.html">Advanced R: Tests</a>.</li>
<li><strong>Do not use abbreviations</strong>.
Always write out <code>TRUE</code> and <code>FALSE</code> (i.e. <em>do not</em> use <code>T</code> or <code>F</code>).
Do not rely on partial argument matching â€“ write out all arguments in full.</li>
<li><strong>Avoid dots in function names</strong>.
Râ€™s S3 methods system uses dots to denote object methods (e.g. <code>print.matrix</code> is the <code>print</code> method for objects of class <code>matrix</code>), which can cause confusion.
Use underscores instead (e.g. <code>do_analysis</code> instead of <code>do.analysis</code>).
(NOTE that many old PEcAn functions violate this convention. The plan is to deprecate those in PEcAn 2.0. See GitHub issue <a href="https://github.com/PecanProject/pecan/issues/392">#392</a>).</li>
<li><strong>Use informative file names with consistent extensions</strong>.
Standard file extensions are <code>.R</code> for R scripts, <code>.rds</code> for individual objects (via <code>saveRDS</code> function), and <code>.RData</code> (note: capital D!) for multiple objects (via the <code>save</code> function).
For function source code, prefer multiple files with fewer functions in each to large files with lots of files (though it may be a good idea to group closely related functions in a single file).
File names should match, or at least closely reflect, their files (e.g.Â function <code>do_analysis</code> should be defined in a file called <code>do_analysis.R</code>).
<em>Do not use spaces in file names</em> â€“ use dashes (<code>-</code>) or underscores (<code>_</code>).</li>
<li><strong>For using external packages, add the package to <code>Imports:</code> and call the corresponding function with <code>package::function</code></strong>.
<em>Do not</em> use <code>@importFrom package function</code> or, worse yet, <code>@import package</code>.
(The exception is infix operators like <code>magrittr::%&gt;%</code> or <code>ggplot2::%+%</code>, which can be imported via roxygen2 documentation like <code>@importFrom magrittr %&gt;%</code>).
<em>Do not</em> add packages to <code>Depends</code>.
In general, try to avoid adding new dependencies (especially ones that depend on system libraries) unless they are necessary or already widely used in PEcAn (e.g.Â GDAL, NetCDF, XML, JAGS, <code>dplyr</code>).
For a more thorough and nuanced discussion, see the <a href="package-dependencies.html#package-dependencies">package dependencies appendix</a>.</li>
</ul>

</div>
<div id="developer-logging" class="section level3">
<h3><span class="header-section-number">8.3.2</span> Logging</h3>
<p>During development we often add many print statements to check to see how the code is doing, what is happening, what intermediate results there are etc. When done with the development it would be nice to turn this additional code off, but have the ability to quickly turn it back on if we discover a problem. This is where logging comes into play. Logging allows us to use â€œrulesâ€ to say what information should be shown. For example when I am working on the code to create graphs, I do not have to see any debugging information about the SQL command being sent, however trying to figure out what goes wrong during a SQL statement it would be nice to show the SQL statements without adding any additional code.</p>
<p>PEcAn provides a set of <code>logger.*</code> functions that should be used in place of base Râ€™s <code>stop</code>, <code>warn</code>, <code>print</code>, and similar functions. The <code>logger</code> functions make it easier to print to a system log file, and to control the level of output produced by PEcAn.</p>
<ul>
<li>The file <a href="https://github.com/PecanProject/pecan/blob/develop/base/logger/tests/testthat/test.logger.R">test.logger.R</a> provides descriptive examples</li>
<li>This query provides an current overview of <a href="https://github.com/PecanProject/pecan/search?q=logger&amp;ref=cmdform">functions that use logging</a></li>
<li>Logger functions and their corresponding levels (in order of increasing level):</li>
<li><code>logger.debug</code> (<code>&quot;DEBUG&quot;</code>) â€“ Low-level diagnostic messages that are hidden by default. Good examples of this are expanded file paths and raw results from database queries or other analyses.</li>
<li><code>logger.info</code> (<code>&quot;INFO&quot;</code>) â€“ Informational messages that regular users may want to see, but which do not indicate anything unexpected. Good examples of this are progress updates updates for long-running processes, or brief summaries of queries or analyses.</li>
<li><code>logger.warn</code> (<code>&quot;WARN&quot;</code>) â€“ Warning messages about issues that may lead to unexpected but valid results. Good examples of this are interactions between arguments that lead to some arguments being ignored or removal of missing or extreme values.</li>
<li><code>logger.error</code> (<code>&quot;ERROR&quot;</code>) â€“ Error messages from which PEcAn has some capacity to recover. Unless you have a very good reason, we recommend avoiding this in favor of either <code>logger.severe</code> to actually stop execution or <code>logger.warn</code> to more explicitly indicate that the problem is not fatal.</li>
<li><code>logger.severe</code> â€“ Catastrophic errors that warrant immediate termination of the workflow. This is the only function that actually stops Râ€™s execution (via <code>stop</code>).</li>
<li>The <code>logger.setLevel</code> function sets the level at which a message will be printed. For instance, <code>logger.setLevel(&quot;WARN&quot;)</code> will suppress <code>logger.info</code> and <code>logger.debug</code> messages, but will print <code>logger.warn</code> and <code>logger.error</code> messages. <code>logger.setLevel(&quot;OFF&quot;)</code> suppresses all logger messages.</li>
<li>To print all messages to console, use <code>logger.setUseConsole(TRUE)</code></li>
</ul>

</div>
<div id="developer-packagedata" class="section level3">
<h3><span class="header-section-number">8.3.3</span> Package Data</h3>
<div id="summary" class="section level4">
<h4><span class="header-section-number">8.3.3.1</span> Summary:</h4>
<p>Files with the following extensions will be read by R as data:</p>
<ul>
<li>plain R code in .R and .r files are sourced using <code>source()</code></li>
<li>text tables in .tab, .txt, .csv files are read using <code>read()</code>
** objects in R image files: .RData, .rda are loaded using <code>load()</code></li>
<li>capitalization matters</li>
<li>all objects in foo.RData are loaded into environment</li>
<li>pro: easiset way to store objects in R format</li>
<li>con: format is application (R) specific</li>
</ul>
<p>Details are in <code>?data</code>, which is mostly a copy of <a href="http://cran.r-project.org/doc/manuals/R-exts.html#Data-in-packages">Data section of
Writing R
Extensions</a>.</p>
</div>
<div id="accessing-data" class="section level4">
<h4><span class="header-section-number">8.3.3.2</span> Accessing data</h4>
<p>Data in the [data] directory will be accessed in the following ways,</p>
<ul>
<li>efficient way: (especially for large data sets) using the <code>data</code>
function:</li>
</ul>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb77-1" data-line-number="1"><span class="kw">data</span>(foo) <span class="co"># accesses data with, e.g. load(foo.RData), read(foo.csv), or source(foo.R) </span></a></code></pre></div>
<ul>
<li>easy way: by adding the following line to the package DESCRIPTION:
<em>note:</em> this should be used with caution or it can cause difficulty as discussed in redmine issue #1118</li>
</ul>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" data-line-number="1">LazyData<span class="op">:</span><span class="st"> </span><span class="ot">TRUE</span></a></code></pre></div>
<p>From the R help page:</p>
<p>Currently, a limited number of data formats can be accessed using the <code>data</code> function by placing one of the following filetypes in a packagesâ€™ <code>data</code> directory:
* files ending <code>.R</code> or <code>.r</code> are <code>source()</code>d in, with the R working
directory changed temporarily to the directory containing the respective
file. (<code>data</code> ensures that the <code>utils</code> package is attached, in case it
had been run <em>via</em> <code>utils::data</code>.)
* files ending <code>.RData</code> or <code>.rda</code> are <code>load()</code>ed.
* files ending <code>.tab</code>, <code>.txt</code> or <code>.TXT</code> are read using <code>read.table(..., header = TRUE)</code>, and hence result in a data frame.
* files ending <code>.csv</code> or <code>.CSV</code> are read using <code>read.table(..., header = TRUE, sep = ';')</code>, and also result in a data frame.</p>
<p>If your data does not fall in those 4 categories, or you can use the
<code>system.file</code> function to get access to the data:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb79-1" data-line-number="1"><span class="kw">system.file</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;ed.trait.dictionary.csv&quot;</span>, <span class="dt">package=</span><span class="st">&quot;PEcAn.utils&quot;</span>)</a>
<a class="sourceLine" id="cb79-2" data-line-number="2">[<span class="dv">1</span>] <span class="st">&quot;/home/kooper/R/x86_64-pc-linux-gnu-library/2.15/PEcAn.utils/data/ed.trait.dictionary.csv&quot;</span></a></code></pre></div>
<p>The arguments are folder, filename(s) and then package. It will return
the fully qualified path name to a file in a package, in this case it
points to the trait data. This is almost the same as the data function,
however we can now use any function to read the file, such as read.csv
instead of read.csv2 which seems to be the default of data. This also
allows us to store arbitrary files in the data folder, such as the the
bug file and load it when we need it.</p>
<div id="examples-of-data-in-pecan-packages" class="section level5">
<h5><span class="header-section-number">8.3.3.2.1</span> Examples of data in PEcAn packages</h5>
<ul>
<li>outputs: [/modules/uncertainties/data/output.RData]</li>
<li>parameter samples [/modules/uncertainties/data/samples.RData]</li>
</ul>

</div>
</div>
</div>
<div id="developer-roxygen" class="section level3">
<h3><span class="header-section-number">8.3.4</span> Documenting functions using <code>roxygen2</code></h3>
<p>This is the standard method for documenting R functions in PEcAn.
For detailed instructions, see one of the following resources:</p>
<ul>
<li><code>roxygen2</code> <a href="https://roxygen2.r-lib.org/">pacakge documentation</a>
<ul>
<li><a href="https://roxygen2.r-lib.org/articles/rd.html">Formatting overview</a></li>
<li><a href="https://blog.rstudio.com/2017/02/01/roxygen2-6-0-0/">Markdown formatting</a></li>
<li><a href="https://roxygen2.r-lib.org/articles/namespace.html">Namespaces</a> (e.g.Â when to use <code>@export</code>)</li>
</ul></li>
<li>From â€œR packagesâ€ by Hadley Wickham:
<ul>
<li><a href="http://r-pkgs.had.co.nz/man.html">Object Documentation</a></li>
<li><a href="http://r-pkgs.had.co.nz/description.html">Package Metadata</a></li>
</ul></li>
</ul>
<p>Below is a complete template for a Roxygen documentation block.
Note that roxygen lines start with <code>#'</code>:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb80-1" data-line-number="1"><span class="co">#&#39; Function title, in a few words</span></a>
<a class="sourceLine" id="cb80-2" data-line-number="2"><span class="co">#&#39;</span></a>
<a class="sourceLine" id="cb80-3" data-line-number="3"><span class="co">#&#39; Function description, in 2-3 sentences.</span></a>
<a class="sourceLine" id="cb80-4" data-line-number="4"><span class="co">#&#39;</span></a>
<a class="sourceLine" id="cb80-5" data-line-number="5"><span class="co">#&#39; (Optional) Package details.</span></a>
<a class="sourceLine" id="cb80-6" data-line-number="6"><span class="co">#&#39;</span></a>
<a class="sourceLine" id="cb80-7" data-line-number="7"><span class="co">#&#39; @param argument_1 A description of the argument</span></a>
<a class="sourceLine" id="cb80-8" data-line-number="8"><span class="co">#&#39; @param argument_2 Another argument to the function</span></a>
<a class="sourceLine" id="cb80-9" data-line-number="9"><span class="co">#&#39; @return A description of what the function returns.</span></a>
<a class="sourceLine" id="cb80-10" data-line-number="10"><span class="co">#&#39;</span></a>
<a class="sourceLine" id="cb80-11" data-line-number="11"><span class="co">#&#39; @author Your name &lt;your_email@email.com&gt;</span></a>
<a class="sourceLine" id="cb80-12" data-line-number="12"><span class="co">#&#39; @examples</span></a>
<a class="sourceLine" id="cb80-13" data-line-number="13"><span class="co">#&#39; \dontrun{</span></a>
<a class="sourceLine" id="cb80-14" data-line-number="14"><span class="co">#&#39;   # This example will NOT be run by R CMD check.</span></a>
<a class="sourceLine" id="cb80-15" data-line-number="15"><span class="co">#&#39;   # Useful for long-running functions, or functions that</span></a>
<a class="sourceLine" id="cb80-16" data-line-number="16"><span class="co">#&#39;   # depend on files or values that may not be accessible to R CMD check.</span></a>
<a class="sourceLine" id="cb80-17" data-line-number="17"><span class="co">#&#39;   my_function(&quot;~/user/my_file&quot;)</span></a>
<a class="sourceLine" id="cb80-18" data-line-number="18"><span class="co">#&#39;}</span></a>
<a class="sourceLine" id="cb80-19" data-line-number="19"><span class="co"># # This example WILL be run by R CMD check</span></a>
<a class="sourceLine" id="cb80-20" data-line-number="20"><span class="co">#&#39; my_function(1:10, argument_2 = 5)</span></a>
<a class="sourceLine" id="cb80-21" data-line-number="21">## ^^ A few examples of the function&#39;s usage</a>
<a class="sourceLine" id="cb80-22" data-line-number="22"><span class="co">#&#39; @export</span></a>
<a class="sourceLine" id="cb80-23" data-line-number="23"><span class="co"># ^^ Whether or not the function will be &quot;exported&quot; (made available) to the user.</span></a>
<a class="sourceLine" id="cb80-24" data-line-number="24"><span class="co"># If omitted, the function can only be used inside the package.</span></a>
<a class="sourceLine" id="cb80-25" data-line-number="25">my_function &lt;-<span class="st"> </span><span class="cf">function</span>(argument_<span class="dv">1</span>, argument_<span class="dv">2</span>) {...}</a></code></pre></div>
<p>Here is a complete example from the <code>PEcAn.utils::days_in_year()</code> function:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb81-1" data-line-number="1"><span class="co">#&#39; Number of days in a year</span></a>
<a class="sourceLine" id="cb81-2" data-line-number="2"><span class="co">#&#39;</span></a>
<a class="sourceLine" id="cb81-3" data-line-number="3"><span class="co">#&#39; Calculate number of days in a year based on whether it is a leap year or not.</span></a>
<a class="sourceLine" id="cb81-4" data-line-number="4"><span class="co">#&#39;</span></a>
<a class="sourceLine" id="cb81-5" data-line-number="5"><span class="co">#&#39; @param year Numeric year (can be a vector)</span></a>
<a class="sourceLine" id="cb81-6" data-line-number="6"><span class="co">#&#39; @param leap_year Default = TRUE. If set to FALSE will always return 365</span></a>
<a class="sourceLine" id="cb81-7" data-line-number="7"><span class="co">#&#39;</span></a>
<a class="sourceLine" id="cb81-8" data-line-number="8"><span class="co">#&#39; @author Alexey Shiklomanov</span></a>
<a class="sourceLine" id="cb81-9" data-line-number="9"><span class="co">#&#39; @return integer vector, all either 365 or 366</span></a>
<a class="sourceLine" id="cb81-10" data-line-number="10"><span class="co">#&#39; @export</span></a>
<a class="sourceLine" id="cb81-11" data-line-number="11"><span class="co">#&#39; @examples</span></a>
<a class="sourceLine" id="cb81-12" data-line-number="12"><span class="co">#&#39; days_in_year(2010)  # Not a leap year -- returns 365</span></a>
<a class="sourceLine" id="cb81-13" data-line-number="13"><span class="co">#&#39; days_in_year(2012)  # Leap year -- returns 366</span></a>
<a class="sourceLine" id="cb81-14" data-line-number="14"><span class="co">#&#39; days_in_year(2000:2008)  # Function is vectorized over years</span></a>
<a class="sourceLine" id="cb81-15" data-line-number="15">days_in_year &lt;-<span class="st"> </span><span class="cf">function</span>(year, <span class="dt">leap_year =</span> <span class="ot">TRUE</span>) {...}</a></code></pre></div>
<p>To update documentation throughout PEcAn, run <code>make document</code> in the PEcAn root directory.
<em>Make sure you do this before opening a pull request</em> â€“
PEcAnâ€™s automated testing (Travis) will check if any documentation is out of date and will throw an error like the following if it is:</p>
<pre><code>These files were changed by the build process:
{...}</code></pre>

</div>
</div>
<div id="developer-testing" class="section level2">
<h2><span class="header-section-number">8.4</span> Testing</h2>
<p>PEcAn uses two different kinds of testing â€“ <a href="developer-guide.html#developer-testing-unit">unit tests</a> and <a href="developer-guide.html#developer-testing-integration">integration tests</a>.</p>
<div id="developer-testing-unit" class="section level3">
<h3><span class="header-section-number">8.4.1</span> Unit testing</h3>
<p>Unit tests are short (&lt;1 minute runtime) tests of functionality of specific functions.
Ideally, every function should have at least one unit test associated with it.</p>
<p>A unit test <em>should</em> be written for each of the following situations:</p>
<ol style="list-style-type: decimal">
<li>Each bug should get a regression test.</li>
</ol>
<ul>
<li>The first step in handling a bug is to write code that reproduces the error</li>
<li>This code becomes the test</li>
<li>most important when error could re-appear</li>
<li>essential when error silently produces invalid results</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Every time a (non-trivial) function is created or edited</li>
</ol>
<ul>
<li>Write tests that indicate how the function should perform
<ul>
<li>example: <code>expect_equal(sum(1,1), 2)</code> indicates that the sum
function should take the sum of its arguments</li>
</ul></li>
<li>Write tests for cases under which the function should throw an
error</li>
<li>example: <code>expect_error(sum(&quot;foo&quot;))</code></li>
<li>better : <code>expect_error(sum(&quot;foo&quot;), &quot;invalid 'type' (character)&quot;)</code></li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Any functionality that you would like to protect over the long term. Functionality that is not tested is more likely to be lost.
PEcAn uses the <code>testthat</code> package for unit testing.
A general overview of is provided in the <a href="http://adv-r.had.co.nz/Testing.html">â€œTestingâ€</a> chapter of Hadley Wickhamâ€™s book â€œR packagesâ€.
Another useful resource is the <code>testthat</code> <a href="https://testthat.r-lib.org/">package documentation website</a>.
See also our <a href="appendix-testthat.html#appendix-testthat"><code>testthat</code> appendix</a>.
Below is a lightning introduction to unit testing with <code>testthat</code>.</li>
</ol>
<p>Each packageâ€™s unit tests live in <code>.R</code> scripts in the folder <code>&lt;package&gt;/tests/testthat</code>.
In addition, a <code>testthat</code>-enabled package has a file called <code>&lt;packagename&gt;/tests/testthat.R</code> with the following contents:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb83-1" data-line-number="1"><span class="kw">library</span>(testthat)</a>
<a class="sourceLine" id="cb83-2" data-line-number="2"><span class="kw">library</span>(<span class="op">&lt;</span>packagename<span class="op">&gt;</span>)</a>
<a class="sourceLine" id="cb83-3" data-line-number="3"></a>
<a class="sourceLine" id="cb83-4" data-line-number="4"><span class="kw">test_check</span>(<span class="st">&quot;&lt;packagename&gt;&quot;</span>)</a></code></pre></div>
<p>Tests should be placed in <code>&lt;packagename&gt;/tests/testthat/test-&lt;sourcefilename&gt;.R</code>, and look like the following:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb84-1" data-line-number="1"><span class="kw">context</span>(<span class="st">&quot;Mathematical operators&quot;</span>)</a>
<a class="sourceLine" id="cb84-2" data-line-number="2"></a>
<a class="sourceLine" id="cb84-3" data-line-number="3"><span class="kw">test_that</span>(<span class="st">&quot;mathematical operators plus and minus work as expected&quot;</span>,{</a>
<a class="sourceLine" id="cb84-4" data-line-number="4">  sum1 &lt;-<span class="st"> </span><span class="kw">sum</span>(<span class="dv">1</span>, <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb84-5" data-line-number="5">  <span class="kw">expect_equal</span>(sum1, <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb84-6" data-line-number="6">  sum2 &lt;-<span class="st"> </span><span class="kw">sum</span>(<span class="op">-</span><span class="dv">1</span>, <span class="dv">-1</span>)</a>
<a class="sourceLine" id="cb84-7" data-line-number="7">  <span class="kw">expect_equal</span>(sum2, <span class="dv">-2</span>)</a>
<a class="sourceLine" id="cb84-8" data-line-number="8">  <span class="kw">expect_equal</span>(<span class="kw">sum</span>(<span class="dv">1</span>,<span class="ot">NA</span>), <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb84-9" data-line-number="9">  <span class="kw">expect_error</span>(<span class="kw">sum</span>(<span class="st">&quot;cat&quot;</span>))</a>
<a class="sourceLine" id="cb84-10" data-line-number="10">  <span class="kw">set.seed</span>(<span class="dv">0</span>)</a>
<a class="sourceLine" id="cb84-11" data-line-number="11">  <span class="kw">expect_equal</span>(<span class="kw">sum</span>(<span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>)), <span class="kw">sum</span>(<span class="kw">data.frame</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>)))</a>
<a class="sourceLine" id="cb84-12" data-line-number="12">})</a>
<a class="sourceLine" id="cb84-13" data-line-number="13"></a>
<a class="sourceLine" id="cb84-14" data-line-number="14"><span class="kw">test_that</span>(<span class="st">&quot;different testing functions work, giving excuse to demonstrate&quot;</span>,{</a>
<a class="sourceLine" id="cb84-15" data-line-number="15">  <span class="kw">expect_identical</span>(<span class="dv">1</span>, <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb84-16" data-line-number="16">  <span class="kw">expect_identical</span>(<span class="kw">numeric</span>(<span class="dv">1</span>), <span class="kw">integer</span>(<span class="dv">1</span>))</a>
<a class="sourceLine" id="cb84-17" data-line-number="17">  <span class="kw">expect_equivalent</span>(<span class="kw">numeric</span>(<span class="dv">1</span>), <span class="kw">integer</span>(<span class="dv">1</span>))</a>
<a class="sourceLine" id="cb84-18" data-line-number="18">  <span class="kw">expect_warning</span>(<span class="kw">mean</span>(<span class="st">&#39;1&#39;</span>))</a>
<a class="sourceLine" id="cb84-19" data-line-number="19">  <span class="kw">expect_that</span>(<span class="kw">mean</span>(<span class="st">&#39;1&#39;</span>), <span class="kw">gives_warning</span>(<span class="st">&quot;argument is not numeric or logical: returning NA&quot;</span>))</a>
<a class="sourceLine" id="cb84-20" data-line-number="20">  <span class="kw">expect_warning</span>(<span class="kw">mean</span>(<span class="st">&#39;1&#39;</span>), <span class="st">&quot;argument is not numeric or logical: returning NA&quot;</span>)</a>
<a class="sourceLine" id="cb84-21" data-line-number="21">  <span class="kw">expect_message</span>(<span class="kw">message</span>(<span class="st">&quot;a&quot;</span>), <span class="st">&quot;a&quot;</span>)</a>
<a class="sourceLine" id="cb84-22" data-line-number="22">})</a></code></pre></div>
</div>
<div id="developer-testing-integration" class="section level3">
<h3><span class="header-section-number">8.4.2</span> Integration testing</h3>
<p>Integration tests consist of running the PEcAn workflow in full.
One way to do integration tests is to manually run workflows for a given version of PEcAn, either through the web interface or by manually creating a <a href="pecanXML.html#pecanXML"><code>pecan.xml</code> file</a>.
Such manual tests are an important part of checking PEcAn functionality.</p>
<p>Alternatively, the <a href="https://github.com/pecanproject/pecan/tree/develop/base/workflow/inst/batch_run.R"><code>base/workflow/inst/batch_run.R</code></a> script can be used to quickly run a series of user-specified integration tests without having to create a bunch of XML files.
This script is powered by the <a href=""><code>PEcAn.workflow::create_execute_test_xml()</code></a> function,
which takes as input information about the model, meteorology driver, site ID, run dates, and others,
uses these to construct a PEcAn XML file,
and then uses the <code>system()</code> command to run a workflow with that XML.</p>
<p>If run without arguments, <code>batch_run.R</code> will try to run the model configurations specified in the <a href="https://github.com/pecanproject/pecan/tree/develop/base/workflow/inst/default_tests.csv"><code>base/workflow/inst/default_tests.csv</code></a> file.
This file contains a CSV table with the following columns:</p>
<ul>
<li><code>model</code> â€“ The name of the model (<code>models.model_name</code> column in BETY)</li>
<li><code>revision</code> â€“ The version of the model (<code>models.revision</code> column in BETY)</li>
<li><code>met</code> â€“ The name of the meteorology driver source</li>
<li><code>site_id</code> â€“ The numeric site ID for the model run (<code>sites.site_id</code>)</li>
<li><code>pft</code> â€“ The name of the plant functional type to run. If <code>NA</code>, the script will use the first PFT associated with the model.</li>
<li><code>start_date</code>, <code>end_date</code> â€“ The start and end dates for the model run, respectively. These should be formatted according to ISO standard (<code>YYYY-MM-DD</code>, e.g. <code>2010-03-16</code>)</li>
<li><code>sensitivity</code> â€“ Whether or not to run the sensitivity analysis. <code>TRUE</code> means run it, <code>FALSE</code> means do not.</li>
<li><code>ensemble_size</code> â€“ The number of ensemble members to run. Set this to 1 to do a single run at the trait median.</li>
<li><code>comment</code> â€“ An string providing some user-friendly information about the run.</li>
</ul>
<p>The <code>batch_run.R</code> script will run a workflow for every row in the input table, sequentially (for now; eventually, it will try to run them in parallel),
and at the end of each workflow, will perform some basic checks, including whether or not the workflow finished and if the model produced any output.
These results are summarized in a CSV table (by default, a file called <code>test_result_table.csv</code>), with all of the columns as the input test CSV plus the following:</p>
<ul>
<li><code>outdir</code> â€“ Absolute path to the workflow directory.</li>
<li><code>workflow_complete</code> â€“ Whether or not the PEcAn workflow completed. Note that this is a relatively low bar â€“ PEcAn workflows can complete without having run the model or finished some other steps.</li>
<li><code>has_jobsh</code> â€“ Whether or not PEcAn was able to write the modelâ€™s <code>job.sh</code> script. This is a good indication of whether or not the modelâ€™s <code>write.configs</code> step was successful, and may be useful for separating model configuration errors from model execution errors.</li>
<li><code>model_output_raw</code> â€“ Whether or not the model produced any output files at all. This is just a check to see of the <code>&lt;workflow&gt;/out</code> directory is empty or not. Note that some models may produce logfiles or similar artifacts as soon as they are executed, whether or not they ran even a single timestep, so this is not an indication of model success.</li>
<li><code>model_output_processed</code> â€“ Whether or not PEcAn was able to post-process any model output. This test just sees if there are any files of the form <code>YYYY.nc</code> (e.g. <code>1992.nc</code>) in the <code>&lt;workflow&gt;/out</code> directory.</li>
</ul>
<p>Right now, these checks are not particularly robust or comprehensive, but they should be sufficient for catching common errors.
Development of more, better tests is ongoing.</p>
<p>The <code>batch_run.R</code> script can take the following command-line arguments:</p>
<ul>
<li><code>--help</code> â€“ Prints a help message about the scriptâ€™s arguments</li>
<li><code>--dbfiles=&lt;path&gt;</code> â€“ The path to the PEcAn <code>dbfiles</code> folder. The default value is <code>~/output/dbfiles</code>, based on the file structure of the PEcAn VM. Note that for this and all other paths, if a relative path is given, it is assumed to be relative to the current working directory, i.e.Â the directory from which the script was called.</li>
<li><code>--table=&lt;path&gt;</code> â€“ Path to an alternate test table. The default is the <code>base/workflow/inst/default_tests.csv</code> file. See preceding paragraph for a description of the format.</li>
<li><code>--userid=&lt;id&gt;</code> â€“ The numeric user ID for registering the workflow. The default value is 99000000002, corresponding to the guest user on the PEcAn VM.</li>
<li><code>--outdir=&lt;path&gt;</code> â€“ Path to a directory (which will be created if it doesnâ€™t exist) for storing the PEcAn workflow outputs. Default is <code>batch_test_output</code> (in the current working directory).</li>
<li><code>--pecandir=&lt;path&gt;</code> â€“ Path to the PEcAn source code root directory. Default is the current working directory.</li>
<li><code>--outfile=&lt;path&gt;</code> â€“ Full path (including file name) of the CSV file summarizing the results of the runs. Default is <code>test_result_table.csv</code>. The format of the output</li>
</ul>
</div>
<div id="continuous-integration" class="section level3">
<h3><span class="header-section-number">8.4.3</span> Continuous Integration</h3>
<p>Every time anyone commits a change to the PEcAn code, the act of pushing to GitHub triggers an automated build and test of the full PEcAn codebase using <a href="https://travis-ci.org/pecanProject/pecan">Travis CI</a>, and all pull requests must report a successful CI build before they will be merged. This will sometimes feel like a burden when the build breaks on an issue that looks trivial, but anything that breaks the build is important enough to fix. Itâ€™s much better to find errors early and fix them before they get incorporated into the released PEcAn code.</p>
<p>At this writing (September 2019), all our Travis builds run on the same version of Linux (currently Ubuntu 16.04, <code>xenial</code>) using three different versions of R in parallel: previous release, current release, and nightly builds of the R development branch. In most cases the build should pass on all three versions, but only the current release (<code>R:release</code>) is truly mandatory. We aim to fix errors found on R:release before merging, errors found on R:devel before the next R release, and errors found on R:oldrel as developer time and forward compatibility allow.</p>
<p>Each build starts by launching three clean virtual machines (one for each R version) and performs roughly the following actions on all of them:</p>
<ul>
<li>Installs binary system dependencies needed by PEcAn (NetCDF and HDF5 libraries, JAGS, udunits, etc).</li>
<li>Installs prebuilt binaries of a few R packages from <a href="https://launchpad.net/~marutter/+archive/ubuntu/c2d4u3.5">cran2deb4ubuntu</a>.
<ul>
<li>This is only a small subset of the PEcAn dependency list, mostly the ones that take a very long time to compile but have binaries small enough to download quickly.</li>
<li>The rest are installed as needed during the installation of PEcAn packages.</li>
<li>Because these packages are compiled for a specific version of R and we test on three different versions, in some cases the installed binary is incompatible with the installed R version and is overwritten by a locally-compiled one in a later step. At this writing this is only done on R 3.5 (the current R:oldrel), but this may change.</li>
</ul></li>
<li>Clones the PEcAn repository from GitHub, and checks out the branch to be tested.</li>
<li>Retrieves any cached files available from previous Travis builds.
<ul>
<li>The main thing in the cache is previously-installed dependency R packages, to avoid recompiling them every time.</li>
<li>If the cache becomes stale or is preventing a package update needed by the build (e.g.Â to get a new version that contains a needed bug fix), delete the cache through the Travis web interface and it will be reconstructed on the next build.</li>
<li>Because PEcAn has so many dependencies, builds with no cache will spend most of their time recompiling packages and will often run out of time before the tests complete. You can fix this by using <code>scripts/travis/cache_buildup.sh</code> and <code>scripts/travis/prime_travis_cache.sh</code> to build up the cache incrementally through one or more <a href="https://blog.travis-ci.com/2017-08-24-trigger-custom-build">custom builds</a>, each of which installs some dependencies and then uploads a freshened cache <em>without</em> running any tests. Once all dependencies have been cached, restart the standard full build.</li>
</ul></li>
<li>Initializes a skeleton version of the PEcAn database (BeTY) containing a few public records to be used by the test runs.</li>
<li>Installs all the PEcAn packages, recompiling documentation and installing dependencies as needed.</li>
<li>Runs package unit tests (the same ones you run locally with <code>make test</code> or <code>devtools::test(pkgname)</code>).
<ul>
<li>As discussed in <a href="developer-guide.html#developer-testing-unit">Unit testing</a>, these tests should run quickly and test individual components in relative isolation.</li>
<li>Any test that calls the <code>skip_on_ci</code> function will be skipped. This is useful for tests that need to run for a very long time (e.g.Â large data product downloads) or require resources that arenâ€™t available on Travis (e.g.Â specific models), but be sure to run these tests locally before pushing your code!</li>
</ul></li>
<li>Runs R package checks (the same ones you run locally with <code>make check</code> or <code>devtools::check(pkgname)</code>), skipping tests and documentation rebuild because we just did those in the previous steps.
<ul>
<li>Any ERROR in the check output will stop the build immediately.</li>
<li>If there are no ERRORs, any WARNINGs or NOTEs are compared against a stored historic check result in <code>&lt;package&gt;/tests/Rcheck_reference.log</code>. If the package has no stored reference result, all WARNINGs and NOTEs are considered newly added and reported as build failures.</li>
<li>If all messages from the current built were also present in the reference result, the check passes. If any messages are newly added, a build failure is reported.</li>
<li>Each line of the check log is considered a separate message, and the test requires exact matching, so a change from <code>Undocumented arguments in documentation object 'foo': 'x'</code> to <code>Undocumented arguments in documentation object 'foo': 'x', 'y'</code> will be counted as a new warningâ€¦ and you should fix both of them while youâ€™re at it!</li>
<li>The idea here is to enforce good coding practice and catch likely errors in all new code while recognizing that we have a lot of legacy code whose warnings need to be fixed as we have time rather than all at once.</li>
<li>As we fix historic warnings, we will revoke their grandfathered status by removing them from the stored check results, so that they will break the build if they reappear.</li>
<li>If your PR reports a failure in pre-existing code that you think ought to be grandfathered, please fix it anyway. The failures all need to be cleaned up eventually, and itâ€™s likely easier to fix the error than to figure out how to re-ignore it.</li>
</ul></li>
<li>Runs a simple PEcAn workflow from beginning to end (three years of SIPNET at Niwot Ridge using stored weather data, meta-analysis on fixed effects only, sensitivity analysis on NPP), and verifies that the models complete successfully.</li>
<li>Checks whether any version-controlled files have been changed by the build and testing process, and marks a build failure if they have.
<ul>
<li>If your build fails at this step, the most common cause is that you forgot to Roxygenize before committing.</li>
<li>This step will also detect newly added files, e.g.Â tests improperly writing to the current working directory rather than <code>tempdir()</code> and then failing to clean up after themselves.</li>
</ul></li>
</ul>
<p>If any of these steps reports an error, the build is marked as â€œbrokenâ€ and stops before the next step. If they all pass, the Travis CI bot marks the build as successful and tells the GitHub bot that itâ€™s OK to allow your changes to be mergedâ€¦ but the final decision belongs to the human reviewing your code and they might still ask you for other changes!</p>
<p>After a successful build, Travis performs two post-build steps:</p>
<ul>
<li>Compiles the PEcAn documentation book (<code>book_source</code>) and the tutorials (<code>documentation/tutorials</code>) and uploads them to the <a href="https://pecanproject.github.io/pecan-documentation">PEcAn website</a>.
<ul>
<li>This is only done for commits to the <code>master</code> or <code>develop</code> branch, so changes to in-progress pull requests never change the live documentation until after they are merged.</li>
</ul></li>
<li>Packs up selected build artifacts into a cache file and uploads it to the Travis servers for use on the next build.</li>
</ul>
<p>The post-build steps are allowed to fail without breaking the build. If you made documentation changes but donâ€™t see them deployed, or if your build seems to be reinstalling packages that ought to be cached, inspect the Travis logs of the previous supposedly-successful build to see if their uploads succeeded.</p>
<p>All of the above descriptions apply to the build Travis generates when you push to the main <code>PecanProject/pecan</code> repository, either by directly pushing to a branch or by opening a pull request. If you like, you can also <a href="https://docs.travis-ci.com/user/tutorial/#to-get-started-with-travis-ci">enable Travis builds</a> from your own PEcAn fork. This can be useful for several reasons:</p>
<ul>
<li>It lets your test whether your changes worked before you open a pull request.</li>
<li>It often lets you get faster test results: The PEcAn project uses Travis CIâ€™s free tier, which only allows a few simultaneous build jobs per repository. If many people are pushing code at the same time, your build might wait in line for a long time at <code>PecanProject/pecan</code> but start immediately at <code>yourname/pecan</code>.</li>
<li>If you will be editing the documentation a lot and want to see rendered previews of your in-progress work (instead of waiting until it is merged into develop), you can clone the <a href="https://github.com/PecanProject/pecan-documentation">pecan-documentation</a> repository to your own GitHub account and let Travis update it for you.</li>
</ul>

</div>
</div>
<div id="download-and-compile-pecan" class="section level2">
<h2><span class="header-section-number">8.5</span> Download and Compile PEcAn</h2>
<p>Set <code>R_LIBS_USER</code></p>
<p><a href="http://cran.r-project.org/doc/manuals/r-devel/R-admin.html#Managing-libraries">CRAN Reference</a></p>
<div class="sourceCode" id="cb85"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb85-1" data-line-number="1"><span class="co"># point R to personal lib folder</span></a>
<a class="sourceLine" id="cb85-2" data-line-number="2"><span class="bu">echo</span> <span class="st">&#39;export R_LIBS_USER=${HOME}/R/library&#39;</span> <span class="op">&gt;&gt;</span> ~/.profile</a>
<a class="sourceLine" id="cb85-3" data-line-number="3"><span class="bu">source</span> ~/.profile</a>
<a class="sourceLine" id="cb85-4" data-line-number="4"><span class="fu">mkdir</span> -p <span class="va">${R_LIBS_USER}</span></a></code></pre></div>
<div id="download-compile-and-install-pecan-from-github" class="section level3">
<h3><span class="header-section-number">8.5.1</span> Download, compile and install PEcAn from GitHub</h3>
<div class="sourceCode" id="cb86"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb86-1" data-line-number="1"><span class="co"># download pecan</span></a>
<a class="sourceLine" id="cb86-2" data-line-number="2"><span class="bu">cd</span></a>
<a class="sourceLine" id="cb86-3" data-line-number="3"><span class="fu">git</span> clone https://github.com/PecanProject/pecan.git</a>
<a class="sourceLine" id="cb86-4" data-line-number="4"></a>
<a class="sourceLine" id="cb86-5" data-line-number="5"><span class="co"># compile pecan</span></a>
<a class="sourceLine" id="cb86-6" data-line-number="6"><span class="bu">cd</span> pecan</a>
<a class="sourceLine" id="cb86-7" data-line-number="7"><span class="fu">make</span></a></code></pre></div>
<p>For more information on the capabilities of the PEcAn Makefile, check out our section on <a href="developer-guide.html#pecan-make">Updating PEcAn</a>.</p>
<p>Following will run a small script to setup some hooks to prevent people from using the pecan demo user account to check in any code.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb87-1" data-line-number="1"><span class="co"># prevent pecan user from checking in code</span></a>
<a class="sourceLine" id="cb87-2" data-line-number="2"><span class="ex">./scripts/create-hooks.sh</span></a></code></pre></div>
</div>
<div id="pecan-testrun" class="section level3">
<h3><span class="header-section-number">8.5.2</span> PEcAn Testrun</h3>
<p>Do the run, this assumes you have <a href="workflow-modules.html#install-bety">installed the BETY database</a>, <a href="workflow-modules.html#site-information">sites</a> tar file and <a href="pecan-models.html#models-sipnet">SIPNET</a>.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb88-1" data-line-number="1"><span class="co"># create folder</span></a>
<a class="sourceLine" id="cb88-2" data-line-number="2"><span class="bu">cd</span></a>
<a class="sourceLine" id="cb88-3" data-line-number="3"><span class="fu">mkdir</span> testrun.pecan</a>
<a class="sourceLine" id="cb88-4" data-line-number="4"><span class="bu">cd</span> testrun.pecan</a>
<a class="sourceLine" id="cb88-5" data-line-number="5"></a>
<a class="sourceLine" id="cb88-6" data-line-number="6"><span class="co"># copy example of pecan workflow and configuration file</span></a>
<a class="sourceLine" id="cb88-7" data-line-number="7"><span class="fu">cp</span> ../pecan/tests/pecan32.sipnet.xml pecan.xml</a>
<a class="sourceLine" id="cb88-8" data-line-number="8"><span class="fu">cp</span> ../pecan/scripts/workflow.R workflow.R</a>
<a class="sourceLine" id="cb88-9" data-line-number="9"></a>
<a class="sourceLine" id="cb88-10" data-line-number="10"><span class="co"># exectute workflow</span></a>
<a class="sourceLine" id="cb88-11" data-line-number="11"><span class="fu">rm</span> -rf pecan</a>
<a class="sourceLine" id="cb88-12" data-line-number="12"><span class="ex">./workflow.R</span> pecan.xml</a></code></pre></div>
<p>NB: pecan.xml is configured for the virtual machine, you will need to change the <met> field from â€˜/home/carya/â€™ to wherever you installed your â€˜sitesâ€™, usually $HOME</p>

</div>
</div>
<div id="directory-structure" class="section level2">
<h2><span class="header-section-number">8.6</span> Directory structure</h2>
<div id="overview-of-pecan-repository-as-of-pecan-1.5.3" class="section level3">
<h3><span class="header-section-number">8.6.1</span> Overview of PEcAn repository as of PEcAn 1.5.3</h3>
<!--Should Also include a guideline to structures so that people know where to put things as they add them-->
<pre><code>pecan/
 +- base/          # Core functions
    +- all         # Dummy package to load all PEcAn R packages
    +- db          # Modules for querying the database
    +- logger      # Report warnings without killing workflows
    +- qaqc        # Model skill testing and integration testing
    +- remote      # Communicate with and execute models on local and remote hosts
    +- settings    # Functions to read and manipulate PEcAn settings files
    +- utils       # Misc. utility functions
    +- visualization # Advanced PEcAn visualization module
    +- workflow    # functions to coordinate analysis steps
 +- book_source/   # Main documentation and developer&#39;s guide
 +- CHANGELOG.md   # Running log of changes in each version of PEcAn
 +- docker/        # Experimental replacement for PEcAn virtual machine
 +- documentation  # index_vm.html, references, other misc.
 +- models/        # Wrappers to run models within PEcAn
    +- ed/         # Wrapper scripts for running ED within PEcAn
    +- sipnet/     # Wrapper scripts for running SIPNET within PEcAn
    +- ...         # Wrapper scripts for running [...] within PEcAn
    +- template/   # Sample wrappers to copy and modify when adding a new model
 +- modules        # Core modules
    +- allometry
    +- data.atmosphere
    +- data.hydrology
    +- data.land
    +- meta.analysis
    +- priors
    +- rtm
    +- uncertainty
    +- ...
 +- scripts        # R and Shell scripts for use with PEcAn
 +- shiny/         # Interactive visualization of model results
 +- tests/         # Settings files for host-specific integration tests
 +- web            # Main PEcAn website files</code></pre>
</div>
<div id="generic-r-package-structure" class="section level3">
<h3><span class="header-section-number">8.6.2</span> Generic R package structure:</h3>
<p>see the R development wiki for more information on writing code and adding data.</p>
<pre><code> +- DESCRIPTION    # short description of the PEcAn library
 +- R/             # location of R source code
 +- man/           # Documentation (automatically compiled by Roxygen)
 +- inst/          # files to be installed with package that aren&#39;t R functions
    +- extdata/    # misc. data files (in misc. formats)
 +- data/          # data used in testing and examples (saved as *.RData or *.rda files)
 +- NAMESPACE      # declaration of package imports and exports (automatically compiled by Roxygen)
 +- tests/         # PEcAn testing scripts
   +- testthat/    # nearly all tests should use the testthat framework and live here</code></pre>

</div>
</div>
</div>



</div>
            </section>

          </div>
        </div>
      </div>
<a href="intermediate-user.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="working-with-vm.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/tonygardella/pecan/edit/release/vtonydoc/book_source/02_demos_tutorials_workflows/05_developer_workflows/00_developer_guide.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
